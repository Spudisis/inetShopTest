/*! For license information please see main.a132cef1.js.LICENSE.txt */
!function(){var e={4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var _=u(e.baseURL,e.url);function x(){if(k){var r="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=x:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(x)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var I=(e.withCredentials||c(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;I&&(m[e.xsrfHeaderName]=I)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),y&&"json"!==y&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var E=d(_);E&&-1===["http","https","file"].indexOf(E)?n(new f("Unsupported protocol "+E+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(1709));u.Axios=a,u.CanceledError=n(6569),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.toFormData=n(1397),u.AxiosError=n(4531),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(s),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},f.prototype.getUri=function(e){e=u(this.defaults,e);var t=s(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(u(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,u,s){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,u),c.name=e.name,s&&Object.assign(c,s),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),u=n(6569);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),u=n(1397),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return u(n?{"files[]":e}:e,s&&new s)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a.from(u,a.ERR_BAD_RESPONSE,this,null,this.response);throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var u,s=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(u=r.toArray(n)))return void u.forEach((function(e){!r.isUndefined(e)&&t.append(s,i(e))}));e(n,s)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,u){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,u)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],u=t[o];if(u){var s=e[o],c=void 0===s||u(s,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function u(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function s(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=u("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=u("Date"),p=u("File"),v=u("Blob"),m=u("FileList");function y(e){return"[object Function]"===a.call(e)}var g=u("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:s,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",x="[object Function]",I="[object GeneratorFunction]",E="[object Map]",S="[object Number]",A="[object Object]",T="[object Promise]",C="[object RegExp]",N="[object Set]",P="[object String]",O="[object Symbol]",D="[object WeakMap]",R="[object ArrayBuffer]",L="[object DataView]",j="[object Float32Array]",F="[object Float64Array]",M="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(Q.source),J=RegExp(Y.source),$=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ie="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Pe="[\\ud800-\\udfff]",Oe="["+Ce+"]",De="["+Ie+"]",Re="\\d+",Le="[\\u2700-\\u27bf]",je="["+Se+"]",Fe="[^\\ud800-\\udfff"+Ce+Re+Ee+Se+Ae+"]",Me="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Ae+"]",qe="(?:"+je+"|"+Fe+")",We="(?:"+ze+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+De+"|"+Me+")"+"?",Qe="[\\ufe0e\\ufe0f]?",Ye=Qe+He+("(?:\\u200d(?:"+[Ue,Ve,Be].join("|")+")"+Qe+He+")*"),Xe="(?:"+[Le,Ve,Be].join("|")+")"+Ye,Je="(?:"+[Ue+De+"?",De,Ve,Be,Pe].join("|")+")",$e=RegExp(Ne,"g"),Ze=RegExp(De,"g"),et=RegExp(Me+"(?="+Me+")|"+Je+Ye,"g"),tt=RegExp([ze+"?"+je+"+"+Ge+"(?="+[Oe,ze,"$"].join("|")+")",We+"+"+Ke+"(?="+[Oe,ze+qe,"$"].join("|")+")",ze+"?"+qe+"+"+Ge,ze+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Xe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ie+Te+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[j]=ot[F]=ot[M]=ot[U]=ot[V]=ot[B]=ot[z]=ot[q]=ot[W]=!0,ot[g]=ot[k]=ot[R]=ot[b]=ot[L]=ot[w]=ot[_]=ot[x]=ot[E]=ot[S]=ot[A]=ot[C]=ot[N]=ot[P]=ot[D]=!1;var ut={};ut[g]=ut[k]=ut[R]=ut[L]=ut[b]=ut[w]=ut[j]=ut[F]=ut[M]=ut[U]=ut[V]=ut[E]=ut[S]=ut[A]=ut[C]=ut[N]=ut[P]=ut[O]=ut[B]=ut[z]=ut[q]=ut[W]=!0,ut[_]=ut[x]=ut[D]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,yt=mt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),kt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,wt=gt&&gt.isMap,_t=gt&&gt.isRegExp,xt=gt&&gt.isSet,It=gt&&gt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Pt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function jt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=Gt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,qt,n)}function zt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function Gt(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function $t(e,t){return Dt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Mt(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?dt:yn.defaults(dt.Object(),t,yn.pick(dt,it))).Array,r=t.Date,ue=t.Error,Ie=t.Function,Ee=t.Math,Se=t.Object,Ae=t.RegExp,Te=t.String,Ce=t.TypeError,Ne=n.prototype,Pe=Ie.prototype,Oe=Se.prototype,De=t["__core-js_shared__"],Re=Pe.toString,Le=Oe.hasOwnProperty,je=0,Fe=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=Oe.toString,Ue=Re.call(Se),Ve=dt._,Be=Ae("^"+Re.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=mt?t.Buffer:i,qe=t.Symbol,We=t.Uint8Array,Ge=ze?ze.allocUnsafe:i,Ke=cn(Se.getPrototypeOf,Se),He=Se.create,Qe=Oe.propertyIsEnumerable,Ye=Ne.splice,Xe=qe?qe.isConcatSpreadable:i,Je=qe?qe.iterator:i,et=qe?qe.toStringTag:i,nt=function(){try{var e=ha(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Ee.ceil,vt=Ee.floor,yt=Se.getOwnPropertySymbols,gt=ze?ze.isBuffer:i,Mt=t.isFinite,Kt=Ne.join,gn=cn(Se.keys,Se),kn=Ee.max,bn=Ee.min,wn=r.now,_n=t.parseInt,xn=Ee.random,In=Ne.reverse,En=ha(t,"DataView"),Sn=ha(t,"Map"),An=ha(t,"Promise"),Tn=ha(t,"Set"),Cn=ha(t,"WeakMap"),Nn=ha(Se,"create"),Pn=Cn&&new Cn,On={},Dn=Ua(En),Rn=Ua(Sn),Ln=Ua(An),jn=Ua(Tn),Fn=Ua(Cn),Mn=qe?qe.prototype:i,Un=Mn?Mn.valueOf:i,Vn=Mn?Mn.toString:i;function Bn(e){if(ru(e)&&!Ko(e)&&!(e instanceof Gn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new Wn(e)}var zn=function(){function e(){}return function(t){if(!nu(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Jn(e,t){var n=Ko(e),r=!n&&Go(e),i=!n&&!r&&Xo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?Yt(e.length,Te):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ka(c,s))||u.push(c);return u}function $n(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function Zn(e,t){return ja(Ni(e),sr(t,0,e.length))}function er(e){return ja(Ni(e))}function tr(e,t,n){(n!==i&&!zo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&zo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(zo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Pi(t,Du(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Tu(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Ko(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ni(e,u)}else{var h=va(e),d=h==x||h==I;if(Xo(e))return Ii(e,s);if(h==A||h==g||d&&!a){if(u=c||d?{}:ya(e),!s)return c?function(e,t){return Pi(e,pa(e),t)}(e,function(e,t){return e&&Pi(t,Ru(t),e)}(u,e)):function(e,t){return Pi(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case R:return Ei(e);case b:case w:return new r(+e);case L:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case j:case F:case M:case U:case V:case B:case z:case q:case W:return Si(e,n);case E:return new r;case S:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case O:return i=e,Un?Se(Un.call(i)):{}}var i}(e,h,s)}}o||(o=new Xn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,o))}));var v=f?i:(l?c?aa:ia:c?Ru:Du)(e);return At(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ce(a);return Oa((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Pt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Dt(t,Jt(n))),r?(a=Ot,o=!1):t.length>=200&&(a=Zt,o=!1,t=new Yn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}Bn.templateSettings={escape:$,evaluate:Z,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=qn.prototype,Bn.prototype.constructor=Bn,Wn.prototype=zn(qn.prototype),Wn.prototype.constructor=Wn,Gn.prototype=zn(qn.prototype),Gn.prototype.constructor=Gn,Kn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Kn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Le.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?o:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(Sn||Hn),string:new Kn}},Qn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Qn.prototype.get=function(e){return la(this,e).get(e)},Qn.prototype.has=function(e){return la(this,e).has(e)},Qn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qn(r)}return n.set(e,t),this.size=n.size,this};var dr=Ri(wr),pr=Ri(_r,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function yr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Rt(i,u):r||(i[i.length]=u)}return i}var kr=Li(),br=Li(!0);function wr(e,t){return e&&kr(e,t,Du)}function _r(e,t){return e&&br(e,t,Du)}function xr(e,t){return Nt(t,(function(t){return Zo(e[t])}))}function Ir(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Ma(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Ko(e)?r:Rt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Se(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=Me.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return Me.call(e)}(e)}function Ar(e,t){return e>t}function Tr(e,t){return null!=e&&Le.call(e,t)}function Cr(e,t){return null!=e&&t in Se(e)}function Nr(e,t,r){for(var a=r?Ot:Pt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Dt(h,Jt(t))),l=bn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new Yn(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?Zt(p,m):a(f,m,r))){for(s=u;--s;){var y=c[s];if(!(y?Zt(y,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Pr(e,t,n){var r=null==(e=Ta(e,t=bi(t,e)))?e:e[Ma(Ja(t))];return null==r?i:Et(r,e,n)}function Or(e){return ru(e)&&Sr(e)==g}function Dr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Ko(e),s=Ko(t),c=u?k:va(e),l=s?k:va(t),f=(c=c==g?A:c)==A,h=(l=l==g?A:l)==A,d=c==l;if(d&&Xo(e)){if(!Xo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Xn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case b:case w:case S:return zo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+"";case E:var u=sn;case N:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=na(u(e),u(t),r,i,a,o);return o.delete(e),l;case O:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Xn),a(m,y,n,r,o)}}if(!d)return!1;return o||(o=new Xn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),c=s.length,l=ia(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in t:Le.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<c;){var y=e[h=s[f]],g=t[h];if(r)var k=u?r(g,y,h,t,e,o):r(y,g,h,e,t,o);if(!(k===i?y===g||a(y,g,n,r,o):k)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Dr,a))}function Rr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Se(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Xn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Dr(f,l,3,r,h):d))return!1}}return!0}function Lr(e){return!(!nu(e)||(t=e,Fe&&Fe in t))&&(Zo(e)?Be:ge).test(Ua(e));var t}function jr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Ko(e)?zr(e[0],e[1]):Br(e):ps(e)}function Fr(e){if(!Ia(e))return gn(e);var t=[];for(var n in Se(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Ia(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Vr(e,t){var r=-1,i=Qo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Br(e){var t=fa(e);return 1==t.length&&t[0][2]?Sa(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function zr(e,t){return wa(e)&&Ea(t)?Sa(Ma(e),t):function(n){var r=Tu(n,e);return r===i&&r===t?Cu(n,e):Dr(t,r,3)}}function qr(e,t,n,r,a){e!==t&&kr(t,(function(o,u){if(a||(a=new Xn),nu(o))!function(e,t,n,r,a,o,u){var s=Na(e,n),c=Na(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Ko(c),p=!d&&Xo(c),v=!d&&!p&&fu(c);f=c,d||p||v?Ko(s)?f=s:Yo(s)?f=Ni(s):p?(h=!1,f=Ii(c,!0)):v?(h=!1,f=Si(c,!0)):f=[]:ou(c)||Go(c)?(f=s,Go(s)?f=ku(s):nu(s)&&!Zo(s)||(f=ya(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,qr,r,a);else{var s=r?r(Na(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Ru)}function Wr(e,t){var n=e.length;if(n)return ka(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Dt(t,(function(e){return Ko(e)?function(t){return Ir(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Dt(t,Jt(ca()));var i=Vr(e,(function(e,n,i){var a=Dt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ai(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Ir(e,o);n(u,o)&&ei(a,bi(o,e),u)}return a}function Hr(e,t,n,r){var i=r?zt:Bt,a=-1,o=t.length,u=e;for(e===t&&(t=Ni(t)),n&&(u=Dt(e,Jt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Ye.call(u,s,1),Ye.call(e,s,1);return e}function Qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ka(i)?Ye.call(e,i,1):hi(e,i)}}return e}function Yr(e,t){return e+vt(xn()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Da(Aa(e,t,as),e+"")}function $r(e){return $n(zu(e))}function Zr(e,t){var n=zu(e);return ja(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=bi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=Ma(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:ka(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ti=Pn?function(e,t){return Pn.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return ja(zu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=lu(h);if(u)var y=r||v;else y=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?a=f+1:o=f}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!zo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:lu(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Ko(e))return Dt(e,li)+"";if(lu(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Pt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Ot;else if(a>=200){var c=t?null:Xi(e);if(c)return fn(c);o=!1,i=Zt,s=new Yn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function hi(e,t){return null==(e=Ta(e,t=bi(t,e)))||delete e[Ma(Ja(t))]}function di(e,t,n,r){return ei(e,t,n(Ir(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(gr(o,1),t,r)}function yi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function gi(e){return Yo(e)?e:[]}function ki(e){return"function"==typeof e?e:as}function bi(e,t){return Ko(e)?e:wa(e,t)?[e]:Fa(bu(e))}var wi=Jr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=st||function(e){return dt.clearTimeout(e)};function Ii(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Si(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ti(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=kn(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=kn(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ni(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Oi(e,t){return function(n,r){var i=Ko(n)?St:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Di(e){return Jr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ba(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Se(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Qo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Se(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Se(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function ji(e){return function(t){var n=un(t=bu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Lt(Zu(Gu(t).replace($e,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Ui(e){return function(t,n,r){var a=Se(t);if(!Qo(t)){var o=ca(n,3);t=Du(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=Wn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ce(a);if(o&&!s&&"wrapper"==ua(u))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var c=ua(u=t[r]),l="wrapper"==c?oa(u):i;s=l&&_a(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ua(l[0])].apply(s,l[3]):1==u.length&&_a(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ko(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Bi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?i:Mi(e);return function i(){for(var f=arguments.length,k=n(f),b=f;b--;)k[b]=arguments[b];if(m)var w=sa(i),_=nn(k,w);if(a&&(k=Ti(k,a,o,m)),u&&(k=Ci(k,u,s,m)),f-=_,m&&f<h){var x=ln(k,w);return Qi(e,t,Bi,i.placeholder,r,k,x,c,l,h-f)}var I=p?r:this,E=v?I[e]:e;return f=k.length,c?k=Ca(k,c):y&&f>1&&k.reverse(),d&&l<f&&(k.length=l),this&&this!==dt&&this instanceof i&&(E=g||Mi(E)),E.apply(I,k)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function qi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Wi(e){return ra((function(t){return t=Dt(t,Jt(ca())),Jr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Gi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,pt(e/dn(t)));return un(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Ki(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=kn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function Qi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return _a(e)&&Pa(v,p),v.placeholder=r,Ra(v,e,t)}function Yi(e){var t=Ee[e];return function(e,n){if(e=gu(e),(n=null==n?0:bn(mu(n),292))&&Mt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=Tn&&1/fn(new Tn([,-0]))[1]==d?function(e){return new Tn(e)}:ls;function Ji(e){return function(t){var n=va(t);return n==E?sn(t):n==N?hn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,o,d,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ce(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:kn(mu(v),0),m=m===i?m:mu(m),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=y?i:oa(e),_=[e,t,r,o,d,k,b,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ti(c,s,t[4]):s,e[4]=c?ln(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ci(c,s,t[6]):s,e[6]=c?ln(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],o=_[3],d=_[4],!(m=_[9]=_[9]===i?y?0:e.length:kn(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,r){var a=Mi(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=sa(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ln(s,l);return(u-=f.length)<r?Qi(e,t,Bi,o.placeholder,i,s,f,i,i,r-u):Et(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=c&&33!=t||d.length?Bi.apply(i,_):function(e,t,r,i){var a=1&t,o=Mi(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==dt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return Et(h,a?r:this,f)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Mi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ra((w?ti:Pa)(x,_),e,t)}function Zi(e,t,n,r){return e===i||zo(e,Oe[n])&&!Le.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),qr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Yn:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Zt(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Da(Aa(e,i,Ka),e+"")}function ia(e){return Er(e,Du,da)}function aa(e){return Er(e,Ru,pa)}var oa=Pn?function(e){return Pn.get(e)}:ls;function ua(e){for(var t=e.name+"",n=On[t],r=Le.call(On,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function ca(){var e=Bn.iteratee||os;return e=e===os?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Du(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var da=yt?function(e){return null==e?[]:(e=Se(e),Nt(yt(e),(function(t){return Qe.call(e,t)})))}:ys,pa=yt?function(e){for(var t=[];e;)Rt(t,da(e)),e=Ke(e);return t}:ys,va=Sr;function ma(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=Ma(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ka(o,i)&&(Ko(e)||Go(e))}function ya(e){return"function"!=typeof e.constructor||Ia(e)?{}:zn(Ke(e))}function ga(e){return Ko(e)||Go(e)||!!(Xe&&e&&e[Xe])}function ka(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Qo(n)&&ka(t,n.length):"string"==r&&t in n)&&zo(n[t],e)}function wa(e,t){if(Ko(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Se(t))}function _a(e){var t=ua(e),n=Bn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(En&&va(new En(new ArrayBuffer(1)))!=L||Sn&&va(new Sn)!=E||An&&va(An.resolve())!=T||Tn&&va(new Tn)!=N||Cn&&va(new Cn)!=D)&&(va=function(e){var t=Sr(e),n=t==A?e.constructor:i,r=n?Ua(n):"";if(r)switch(r){case Dn:return L;case Rn:return E;case Ln:return T;case jn:return N;case Fn:return D}return t});var xa=De?Zo:gs;function Ia(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ea(e){return e===e&&!nu(e)}function Sa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Se(n)))}}function Aa(e,t,r){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=kn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),Et(e,this,s)}}function Ta(e,t){return t.length<2?e:Ir(e,ii(t,0,-1))}function Ca(e,t){for(var n=e.length,r=bn(t.length,n),a=Ni(e);r--;){var o=t[r];e[r]=ka(o,n)?a[o]:i}return e}function Na(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Pa=La(ti),Oa=ht||function(e,t){return dt.setTimeout(e,t)},Da=La(ni);function Ra(e,t,n){var r=t+"";return Da(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(y,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ja(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Yr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Fa=function(e){var t=jo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Ma(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return Re.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof Gn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ba=Jr((function(e,t){return Yo(e)?hr(e,gr(t,1,Yo,!0)):[]})),za=Jr((function(e,t){var n=Ja(t);return Yo(n)&&(n=i),Yo(e)?hr(e,gr(t,1,Yo,!0),ca(n,2)):[]})),qa=Jr((function(e,t){var n=Ja(t);return Yo(n)&&(n=i),Yo(e)?hr(e,gr(t,1,Yo,!0),i,n):[]}));function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Vt(e,ca(t,3),i)}function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?kn(r+a,0):bn(a,r-1)),Vt(e,ca(t,3),a,!0)}function Ka(e){return(null==e?0:e.length)?gr(e,1):[]}function Ha(e){return e&&e.length?e[0]:i}var Qa=Jr((function(e){var t=Dt(e,gi);return t.length&&t[0]===e[0]?Nr(t):[]})),Ya=Jr((function(e){var t=Ja(e),n=Dt(e,gi);return t===Ja(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,ca(t,2)):[]})),Xa=Jr((function(e){var t=Ja(e),n=Dt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $a=Jr(Za);function Za(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Qr(e,Dt(t,(function(e){return ka(e,n)?+e:e})).sort(Ai)),r}));function to(e){return null==e?e:In.call(e)}var no=Jr((function(e){return fi(gr(e,1,Yo,!0))})),ro=Jr((function(e){var t=Ja(e);return Yo(t)&&(t=i),fi(gr(e,1,Yo,!0),ca(t,2))})),io=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,fi(gr(e,1,Yo,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Yo(e))return t=kn(e.length,t),!0})),Yt(t,(function(t){return Dt(e,Gt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Dt(n,(function(e){return Et(t,i,e)}))}var uo=Jr((function(e,t){return Yo(e)?hr(e,t):[]})),so=Jr((function(e){return mi(Nt(e,Yo))})),co=Jr((function(e){var t=Ja(e);return Yo(t)&&(t=i),mi(Nt(e,Yo),ca(t,2))})),lo=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,mi(Nt(e,Yo),i,t)})),fo=Jr(ao);var ho=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Bn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&ka(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var yo=Oi((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var go=Ui(Wa),ko=Ui(Ga);function bo(e,t){return(Ko(e)?At:dr)(e,ca(t,3))}function wo(e,t){return(Ko(e)?Tt:pr)(e,ca(t,3))}var _o=Oi((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var xo=Jr((function(e,t,r){var i=-1,a="function"==typeof t,o=Qo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?Et(t,e,r):Pr(e,t,r)})),o})),Io=Oi((function(e,t,n){or(e,n,t)}));function Eo(e,t){return(Ko(e)?Dt:Vr)(e,ca(t,3))}var So=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ao=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,gr(t,1),[])})),To=ft||function(){return dt.Date.now()};function Co(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,f,i,i,i,i,t)}function No(e,t){var n;if("function"!=typeof t)throw new Ce(a);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Po=Jr((function(e,t,n){var r=1;if(n.length){var i=ln(n,sa(Po));r|=c}return $i(e,r,t,n,i)})),Oo=Jr((function(e,t,n){var r=3;if(n.length){var i=ln(n,sa(Oo));r|=c}return $i(t,r,e,n,i)}));function Do(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ce(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){return f=e,c=Oa(g,t),h?v(e):s}function y(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function g(){var e=To();if(y(e))return k(e);c=Oa(g,function(e){var n=t-(e-l);return d?bn(n,u-(e-f)):n}(e))}function k(e){return c=i,p&&r?v(e):(r=o=i,s)}function b(){var e=To(),n=y(e);if(r=arguments,o=this,l=e,n){if(c===i)return m(l);if(d)return xi(c),c=Oa(g,t),v(l)}return c===i&&(c=Oa(g,t)),s}return t=gu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?kn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&xi(c),f=0,r=l=o=c=i},b.flush=function(){return c===i?s:k(To())},b}var Ro=Jr((function(e,t){return fr(e,1,t)})),Lo=Jr((function(e,t,n){return fr(e,gu(t)||0,n)}));function jo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(jo.Cache||Qn),n}function Fo(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}jo.Cache=Qn;var Mo=wi((function(e,t){var n=(t=1==t.length&&Ko(t[0])?Dt(t[0],Jt(ca())):Dt(gr(t,1),Jt(ca()))).length;return Jr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Et(e,this,r)}))})),Uo=Jr((function(e,t){var n=ln(t,sa(Uo));return $i(e,c,i,t,n)})),Vo=Jr((function(e,t){var n=ln(t,sa(Vo));return $i(e,l,i,t,n)})),Bo=ra((function(e,t){return $i(e,h,i,i,i,t)}));function zo(e,t){return e===t||e!==e&&t!==t}var qo=Hi(Ar),Wo=Hi((function(e,t){return e>=t})),Go=Or(function(){return arguments}())?Or:function(e){return ru(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Ko=n.isArray,Ho=kt?Jt(kt):function(e){return ru(e)&&Sr(e)==R};function Qo(e){return null!=e&&tu(e.length)&&!Zo(e)}function Yo(e){return ru(e)&&Qo(e)}var Xo=gt||gs,Jo=bt?Jt(bt):function(e){return ru(e)&&Sr(e)==w};function $o(e){if(!ru(e))return!1;var t=Sr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Zo(e){if(!nu(e))return!1;var t=Sr(e);return t==x||t==I||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=wt?Jt(wt):function(e){return ru(e)&&va(e)==E};function au(e){return"number"==typeof e||ru(e)&&Sr(e)==S}function ou(e){if(!ru(e)||Sr(e)!=A)return!1;var t=Ke(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Ue}var uu=_t?Jt(_t):function(e){return ru(e)&&Sr(e)==C};var su=xt?Jt(xt):function(e){return ru(e)&&va(e)==N};function cu(e){return"string"==typeof e||!Ko(e)&&ru(e)&&Sr(e)==P}function lu(e){return"symbol"==typeof e||ru(e)&&Sr(e)==O}var fu=It?Jt(It):function(e){return ru(e)&&tu(e.length)&&!!ot[Sr(e)]};var hu=Hi(Ur),du=Hi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Qo(e))return cu(e)?pn(e):Ni(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=va(e);return(t==E?sn:t==N?fn:zu)(e)}function vu(e){return e?(e=gu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function yu(e){return e?sr(mu(e),0,m):0}function gu(e){if("number"==typeof e)return e;if(lu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||ke.test(e)?lt(e.slice(2),n?2:8):me.test(e)?v:+e}function ku(e){return Pi(e,Ru(e))}function bu(e){return null==e?"":li(e)}var wu=Di((function(e,t){if(Ia(t)||Qo(t))Pi(t,Du(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),_u=Di((function(e,t){Pi(t,Ru(t),e)})),xu=Di((function(e,t,n,r){Pi(t,Ru(t),e,r)})),Iu=Di((function(e,t,n,r){Pi(t,Du(t),e,r)})),Eu=ra(ur);var Su=Jr((function(e,t){e=Se(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Ru(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||zo(f,Oe[l])&&!Le.call(e,l))&&(e[l]=o[l])}return e})),Au=Jr((function(e){return e.push(i,ea),Et(ju,i,e)}));function Tu(e,t,n){var r=null==e?i:Ir(e,t);return r===i?n:r}function Cu(e,t){return null!=e&&ma(e,t,Cr)}var Nu=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),ns(as)),Pu=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ou=Jr(Pr);function Du(e){return Qo(e)?Jn(e):Fr(e)}function Ru(e){return Qo(e)?Jn(e,!0):Mr(e)}var Lu=Di((function(e,t,n){qr(e,t,n)})),ju=Di((function(e,t,n,r){qr(e,t,n,r)})),Fu=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Pi(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Mu=ra((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return Cu(e,n)}))}(e,t)}));function Uu(e,t){if(null==e)return{};var n=Dt(aa(e),(function(e){return[e]}));return t=ca(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=Ji(Du),Bu=Ji(Ru);function zu(e){return null==e?[]:$t(e,Du(e))}var qu=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return $u(bu(e).toLowerCase())}function Gu(e){return(e=bu(e))&&e.replace(we,rn).replace(Ze,"")}var Ku=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hu=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Qu=ji("toLowerCase");var Yu=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xu=Fi((function(e,t,n){return e+(n?" ":"")+$u(t)}));var Ju=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$u=ji("toUpperCase");function Zu(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Jr((function(e,t){try{return Et(e,i,t)}catch(n){return $o(n)?n:new ue(n)}})),ts=ra((function(e,t){return At(t,(function(t){t=Ma(t),or(e,t,Po(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Vi(),is=Vi(!0);function as(e){return e}function os(e){return jr("function"==typeof e?e:cr(e,1))}var us=Jr((function(e,t){return function(n){return Pr(n,e,t)}})),ss=Jr((function(e,t){return function(n){return Pr(e,n,t)}}));function cs(e,t,n){var r=Du(t),i=xr(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Du(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=Zo(e);return At(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ni(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function ls(){}var fs=Wi(Dt),hs=Wi(Ct),ds=Wi(Ft);function ps(e){return wa(e)?Gt(Ma(e)):function(e){return function(t){return Ir(t,e)}}(e)}var vs=Ki(),ms=Ki(!0);function ys(){return[]}function gs(){return!1}var ks=qi((function(e,t){return e+t}),0),bs=Yi("ceil"),ws=qi((function(e,t){return e/t}),1),_s=Yi("floor");var xs=qi((function(e,t){return e*t}),1),Is=Yi("round"),Es=qi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Co,Bn.assign=wu,Bn.assignIn=_u,Bn.assignInWith=xu,Bn.assignWith=Iu,Bn.at=Eu,Bn.before=No,Bn.bind=Po,Bn.bindAll=ts,Bn.bindKey=Oo,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ko(e)?e:[e]},Bn.chain=po,Bn.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:kn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(Ko(r)?Ni(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Ce(a);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Et(i[0],this,n))return Et(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Du(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=ns,Bn.countBy=yo,Bn.create=function(e,t){var n=zn(e);return null==t?n:ar(n,t)},Bn.curry=function e(t,n,r){var a=$i(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,r){var a=$i(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.debounce=Do,Bn.defaults=Su,Bn.defaultsDeep=Au,Bn.defer=Ro,Bn.delay=Lo,Bn.difference=Ba,Bn.differenceBy=za,Bn.differenceWith=qa,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},Bn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:yu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ko(e)?Nt:yr)(e,ca(t,3))},Bn.flatMap=function(e,t){return gr(Eo(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Eo(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),gr(Eo(e,t),n)},Bn.flatten=Ka,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:mu(t)):[]},Bn.flip=function(e){return $i(e,512)},Bn.flow=rs,Bn.flowRight=is,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:xr(e,Du(e))},Bn.functionsIn=function(e){return null==e?[]:xr(e,Ru(e))},Bn.groupBy=_o,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Qa,Bn.intersectionBy=Ya,Bn.intersectionWith=Xa,Bn.invert=Nu,Bn.invertBy=Pu,Bn.invokeMap=xo,Bn.iteratee=os,Bn.keyBy=Io,Bn.keys=Du,Bn.keysIn=Ru,Bn.map=Eo,Bn.mapKeys=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return zr(e,cr(t,1))},Bn.memoize=jo,Bn.merge=Lu,Bn.mergeWith=ju,Bn.method=us,Bn.methodOf=ss,Bn.mixin=cs,Bn.negate=Fo,Bn.nthArg=function(e){return e=mu(e),Jr((function(t){return Wr(t,e)}))},Bn.omit=Fu,Bn.omitBy=function(e,t){return Uu(e,Fo(ca(t)))},Bn.once=function(e){return No(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ko(t)||(t=null==t?[]:[t]),Ko(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Bn.over=fs,Bn.overArgs=Mo,Bn.overEvery=hs,Bn.overSome=ds,Bn.partial=Uo,Bn.partialRight=Vo,Bn.partition=So,Bn.pick=Mu,Bn.pickBy=Uu,Bn.property=ps,Bn.propertyOf=function(e){return function(t){return null==e?i:Ir(e,t)}},Bn.pull=$a,Bn.pullAll=Za,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,ca(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},Bn.pullAt=eo,Bn.range=vs,Bn.rangeRight=ms,Bn.rearg=Bo,Bn.reject=function(e,t){return(Ko(e)?Nt:yr)(e,Fo(ca(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Qr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Jr(e,t=t===i?t:mu(t))},Bn.reverse=to,Bn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),(Ko(e)?Zn:Zr)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Ko(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),ii(e,t,n)):[]},Bn.sortBy=Ao,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,ca(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=li(t))&&un(e)?_i(pn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:kn(mu(t),0),Jr((function(n){var r=n[t],i=_i(n,0,t);return r&&Rt(i,r),Et(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Do(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=vo,Bn.toArray=pu,Bn.toPairs=Vu,Bn.toPairsIn=Bu,Bn.toPath=function(e){return Ko(e)?Dt(e,Ma):lu(e)?[e]:Ni(Fa(bu(e)))},Bn.toPlainObject=ku,Bn.transform=function(e,t,n){var r=Ko(e),i=r||Xo(e)||fu(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&Zo(a)?zn(Ke(e)):{}}return(i?At:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Co(e,1)},Bn.union=no,Bn.unionBy=ro,Bn.unionWith=io,Bn.uniq=function(e){return e&&e.length?fi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=ao,Bn.unzipWith=oo,Bn.update=function(e,t,n){return null==e?e:di(e,t,ki(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,ki(n),r)},Bn.values=zu,Bn.valuesIn=function(e){return null==e?[]:$t(e,Ru(e))},Bn.without=uo,Bn.words=Zu,Bn.wrap=function(e,t){return Uo(ki(t),e)},Bn.xor=so,Bn.xorBy=co,Bn.xorWith=lo,Bn.zip=fo,Bn.zipObject=function(e,t){return yi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},Bn.zipWith=ho,Bn.entries=Vu,Bn.entriesIn=Bu,Bn.extend=_u,Bn.extendWith=xu,cs(Bn,Bn),Bn.add=ks,Bn.attempt=es,Bn.camelCase=qu,Bn.capitalize=Wu,Bn.ceil=bs,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))===n?n:0),t!==i&&(t=(t=gu(t))===t?t:0),sr(gu(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Du(t))},Bn.deburr=Gu,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=ws,Bn.endsWith=function(e,t,n){e=bu(e),t=li(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=zo,Bn.escape=function(e){return(e=bu(e))&&J.test(e)?e.replace(Y,an):e},Bn.escapeRegExp=function(e){return(e=bu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ko(e)?Ct:vr;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.find=go,Bn.findIndex=Wa,Bn.findKey=function(e,t){return Ut(e,ca(t,3),wr)},Bn.findLast=ko,Bn.findLastIndex=Ga,Bn.findLastKey=function(e,t){return Ut(e,ca(t,3),_r)},Bn.floor=_s,Bn.forEach=bo,Bn.forEachRight=wo,Bn.forIn=function(e,t){return null==e?e:kr(e,ca(t,3),Ru)},Bn.forInRight=function(e,t){return null==e?e:br(e,ca(t,3),Ru)},Bn.forOwn=function(e,t){return e&&wr(e,ca(t,3))},Bn.forOwnRight=function(e,t){return e&&_r(e,ca(t,3))},Bn.get=Tu,Bn.gt=qo,Bn.gte=Wo,Bn.has=function(e,t){return null!=e&&ma(e,t,Tr)},Bn.hasIn=Cu,Bn.head=Ha,Bn.identity=as,Bn.includes=function(e,t,n,r){e=Qo(e)?e:zu(e),n=n&&!r?mu(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Bt(e,t,i)},Bn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=bn(t,n)&&e<kn(t,n)}(e=gu(e),t,n)},Bn.invoke=Ou,Bn.isArguments=Go,Bn.isArray=Ko,Bn.isArrayBuffer=Ho,Bn.isArrayLike=Qo,Bn.isArrayLikeObject=Yo,Bn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Sr(e)==b},Bn.isBuffer=Xo,Bn.isDate=Jo,Bn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Qo(e)&&(Ko(e)||"string"==typeof e||"function"==typeof e.splice||Xo(e)||fu(e)||Go(e)))return!e.length;var t=va(e);if(t==E||t==N)return!e.size;if(Ia(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Dr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Dr(e,t,i,n):!!r},Bn.isError=$o,Bn.isFinite=function(e){return"number"==typeof e&&Mt(e)},Bn.isFunction=Zo,Bn.isInteger=eu,Bn.isLength=tu,Bn.isMap=iu,Bn.isMatch=function(e,t){return e===t||Rr(e,t,fa(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,fa(t),n)},Bn.isNaN=function(e){return au(e)&&e!=+e},Bn.isNative=function(e){if(xa(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=au,Bn.isObject=nu,Bn.isObjectLike=ru,Bn.isPlainObject=ou,Bn.isRegExp=uu,Bn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=su,Bn.isString=cu,Bn.isSymbol=lu,Bn.isTypedArray=fu,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ru(e)&&va(e)==D},Bn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":Kt.call(e,t)},Bn.kebabCase=Ku,Bn.last=Ja,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?kn(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,qt,a,!0)},Bn.lowerCase=Hu,Bn.lowerFirst=Qu,Bn.lt=hu,Bn.lte=du,Bn.max=function(e){return e&&e.length?mr(e,as,Ar):i},Bn.maxBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Ar):i},Bn.mean=function(e){return Wt(e,as)},Bn.meanBy=function(e,t){return Wt(e,ca(t,2))},Bn.min=function(e){return e&&e.length?mr(e,as,Ur):i},Bn.minBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Ur):i},Bn.stubArray=ys,Bn.stubFalse=gs,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=xs,Bn.nth=function(e,t){return e&&e.length?Wr(e,mu(t)):i},Bn.noConflict=function(){return dt._===this&&(dt._=Ve),this},Bn.noop=ls,Bn.now=To,Bn.pad=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(vt(i),n)+e+Gi(pt(i),n)},Bn.padEnd=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?e+Gi(t-r,n):e},Bn.padStart=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(bu(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=xn();return bn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Yr(e,t)},Bn.reduce=function(e,t,n){var r=Ko(e)?Lt:Ht,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ko(e)?jt:Ht,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),Xr(bu(e),t)},Bn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Ma(t[r])];o===i&&(r=a,o=n),e=Zo(o)?o.call(e):o}return e},Bn.round=Is,Bn.runInContext=e,Bn.sample=function(e){return(Ko(e)?$n:$r)(e)},Bn.size=function(e){if(null==e)return 0;if(Qo(e))return cu(e)?dn(e):e.length;var t=va(e);return t==E||t==N?e.size:Fr(e).length},Bn.snakeCase=Yu,Bn.some=function(e,t,n){var r=Ko(e)?Ft:ai;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return ui(e,t,ca(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&zo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ui(e,t,ca(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(zo(e[n],t))return n}return-1},Bn.startCase=Xu,Bn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(mu(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=Es,Bn.sum=function(e){return e&&e.length?Qt(e,as):0},Bn.sumBy=function(e,t){return e&&e.length?Qt(e,ca(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&ba(e,t,n)&&(t=i),e=bu(e),t=xu({},t,r,Zi);var a,o,u=xu({},t.imports,r.imports,Zi),s=Du(u),c=$t(u,s),l=0,f=t.interpolate||_e,h="__p += '",d=Ae((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(xe,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(G,""):h).replace(K,"$1").replace(H,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=es((function(){return Ie(s,p+"return "+h).apply(i,c)}));if(m.source=h,$o(m))throw m;return m},Bn.times=function(e,t){if((e=mu(e))<1||e>p)return[];var n=m,r=bn(e,m);t=ca(t),e-=m;for(var i=Yt(r,t);++n<e;)t(n);return i},Bn.toFinite=vu,Bn.toInteger=mu,Bn.toLength=yu,Bn.toLower=function(e){return bu(e).toLowerCase()},Bn.toNumber=gu,Bn.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,p):0===e?e:0},Bn.toString=bu,Bn.toUpper=function(e){return bu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Xt(e);if(!e||!(t=li(t)))return e;var r=pn(e),a=pn(t);return _i(r,en(r,a),tn(r,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=bu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var c=u?_i(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Ae(a.source,bu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(li(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=bu(e))&&X.test(e)?e.replace(Q,mn):e},Bn.uniqueId=function(e){var t=++je;return bu(e)+t},Bn.upperCase=Ju,Bn.upperFirst=$u,Bn.each=bo,Bn.eachRight=wo,Bn.first=Ha,cs(Bn,function(){var e={};return wr(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),At(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:kn(mu(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(as)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Pr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Fo(ca(e)))},Gn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(m)},wr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Bn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Gn,c=u[0],l=s||Ko(t),f=function(e){var t=a.apply(Bn,Rt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Gn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new Wn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ko(i)?i:[],e)}return this[n]((function(n){return t.apply(Ko(n)?n:[],e)}))}})),wr(Gn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Bi(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ko(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=kn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=bn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,k=y.type,b=g(m);if(2==k)m=b;else if(!b){if(1==k)continue e;break e}}p[h++]=m}return p},Bn.prototype.at=mo,Bn.prototype.chain=function(){return po(this)},Bn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Va(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(to)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();dt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,F=Object.assign;function M(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(Ce(),Ae())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Fe=null,Me=!1,Ue=null,Ve={onError:function(e){je=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){je=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,Et,St=!1,At=[],Tt=null,Ct=null,Nt=null,Pt=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){St=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==Nt&&Mt(Nt)&&(Nt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<At.length){Bt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=jt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=jt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=jt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,jt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,jt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Sn),Tn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){Mr(e,0)}function Yn(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Gn(t,Hn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),Ar=Er("animationiteration"),Tr=Er("animationstart"),Cr=Er("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Rr=Pr[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Ar,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Fe;je=!1,Fe=null,Me||(Me=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Sr:case Ar:case Tr:s=yn;break;case Cr:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Wn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ai={},Ti=Ii(Ai),Ci=Ii(!1),Ni=Ai;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ci),Ei(Ti)}function Ri(e,t,n){if(Ti.current!==Ai)throw Error(a(168));Si(Ti,t),Si(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ni=Ti.current,Si(Ti,e),Si(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ti),Si(Ti,e)):Ei(Ci),Si(Ci,n)}var Mi=null,Ui=!1,Vi=!1;function Bi(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=kt;try{var n=Mi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),He(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Gi=null,Ki=0,Hi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Wi++]=Ki,qi[Wi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Aa(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ti.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Mc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&$i(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),$a={},Za=Ii($a),eo=Ii($a),to=Ii($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Ao(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=Ao(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Fo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function Mo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Ao().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Ao().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Aa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Mo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cs)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Cs.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:Co,useRef:Vo,useState:function(){return Co(To)},useDebugValue:Yo,useDeferredValue:function(e){return $o(Ao(),mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],Ao().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Ao();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Ao().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Au(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,r,i){var a=Oi(n)?Ni:Ti.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Tu(e,t,n,r,i){if(Oi(n)){var a=!0;ji(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Oi(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Pi(t,s=Oi(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Lu,e):Mu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Cs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),(t=Mu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Mu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Oi(t.type)&&Di(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Je()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,$u=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,vs(t,e),Xu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,$u=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){$u=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,$u=s):_s(i);for(;null!==a;)$u=a,ks(a,t,n),a=a.sibling;$u=i,Yu=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):bs(e)}}function bs(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ma(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ma(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function ws(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function _s(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var xs,Is=Math.ceil,Es=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,As=b.ReactCurrentBatchConfig,Ts=0,Cs=null,Ns=null,Ps=0,Os=0,Ds=Ii(0),Rs=0,Ls=null,js=0,Fs=0,Ms=0,Us=null,Vs=null,Bs=0,zs=1/0,qs=null,Ws=!1,Gs=null,Ks=null,Hs=!1,Qs=null,Ys=0,Xs=0,Js=null,$s=-1,Zs=0;function ec(){return 0!==(6&Ts)?Je():-1!==$s?$s:$s=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===Cs||(e===Cs&&(0===(2&Ts)&&(Fs|=n),4===Rs&&uc(e,Ps)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(zs=Je()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Cs?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Ts)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($s=-1,Zs=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Cs?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(Cs===e&&Ps===t||(qs=null,zs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Ts=i,null!==Ns?t=0:(Cs=null,Ps=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Ms,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Je()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(zs=Je()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Ts)&&_c();var t=Ts;Ts|=1;var n=As.transition,r=kt;try{if(As.transition=null,kt=1,e)return e()}finally{kt=r,As.transition=n,0===(6&(Ts=t))&&zi()}}function fc(){Os=Ds.current,Ei(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ci),Ei(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cs=e,Ns=e=Dc(e.current,null),Ps=Os=t,Rs=0,Ls=null,Ms=Fs=js=0,Vs=Us=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Rs=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Cs||0===(268435455&js)&&0===(268435455&Fs)||uc(Cs,Ps)}function mc(e,t){var n=Ts;Ts|=2;var r=pc();for(Cs===e&&Ps===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Ts=n,Es.current=r,null!==Ns)throw Error(a(261));return Cs=null,Ps=0,Rs}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Ye();)kc(Ns)}function kc(e){var t=xs(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=As.transition;try{As.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cs&&(Ns=Cs=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Cc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=As.transition,As.transition=null;var u=kt;kt=1;var s=Ts;Ts|=4,Ss.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Xe(),Ts=s,kt=u,As.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Js?Xs++:(Xs=0,Js=e):Xs=0,zi()}(e,t,n,r)}finally{As.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt(Ys),t=As.transition,n=kt;try{if(As.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(as(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Ts=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,As.transition=t}}return!1}function xc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ps&n)===n&&(4===Rs||3===Rs&&(130023424&Ps)===Ps&&500>Je()-Bs?hc(e,0):Ms|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(yt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Cc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Pc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case A:u=9;break e;case T:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ai;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Au(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Ts)&&(zs=Je()+500,zi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Ae,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,S=-1,A=5,T=-1;function C(){return!(t.unstable_now()-T<A)}function N(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){y(N,0)};function D(e){E=e,I||(I=!0,x())}function R(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},2620:function(e,t,n){var r={"./1beauty.svg":2852,"./2clearing.svg":635,"./3things.svg":7410,"./4machines.svg":9008};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=2620},831:function(e,t,n){var r={"./1vareniki.svg":7301,"./2meat.svg":2855,"./3fish.svg":6961,"./4vegetables.png":9258,"./5semi-finished.svg":1538,"./6hinkali.svg":8168};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=831},7150:function(e,t,n){var r={"./1furnance.svg":3946,"./2pizza.svg":4874,"./3grill.svg":1727,"./4salad.svg":1418,"./5soup.svg":5374,"./6oil.png":809,"./7hot.svg":3787,"./8desert.svg":1331};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=7150},6007:function(e,t,n){var r={"./1water.svg":1893,"./2milk.svg":4377,"./3snack.svg":5392,"./4coffe.svg":4367,"./5spagetty.svg":2240,"./6bread.svg":1225,"./7oil.svg":3346,"./8conserv.svg":1573};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=6007},2852:function(e,t,n){"use strict";e.exports=n.p+"static/media/1beauty.90cc0eddb7727046bdc4.svg"},635:function(e,t,n){"use strict";e.exports=n.p+"static/media/2clearing.8668220a6d0b5bf19084.svg"},7410:function(e,t,n){"use strict";e.exports=n.p+"static/media/3things.3786c6a9b0ba34c31c34.svg"},9008:function(e,t,n){"use strict";e.exports=n.p+"static/media/4machines.c21f356f5146020bfdc2.svg"},7301:function(e,t,n){"use strict";e.exports=n.p+"static/media/1vareniki.a631097a379ea672d159.svg"},2855:function(e,t,n){"use strict";e.exports=n.p+"static/media/2meat.cf925b9d4fc93a5f7529.svg"},6961:function(e,t,n){"use strict";e.exports=n.p+"static/media/3fish.93a0e92a0173e64dad5d.svg"},1538:function(e,t,n){"use strict";e.exports=n.p+"static/media/5semi-finished.b127d1684fa230965a99.svg"},8168:function(e,t,n){"use strict";e.exports=n.p+"static/media/6hinkali.3901f936bb26be26ac30.svg"},3946:function(e,t,n){"use strict";e.exports=n.p+"static/media/1furnance.c81b6ca31565bf2fe879.svg"},4874:function(e,t,n){"use strict";e.exports=n.p+"static/media/2pizza.7a4d935cf7820ae8822b.svg"},1727:function(e,t,n){"use strict";e.exports=n.p+"static/media/3grill.b1a6fcc344e04c2b729e.svg"},1418:function(e,t,n){"use strict";e.exports=n.p+"static/media/4salad.898b06da45800954e4a7.svg"},5374:function(e,t,n){"use strict";e.exports=n.p+"static/media/5soup.ff3f94c99f7f611e11ae.svg"},3787:function(e,t,n){"use strict";e.exports=n.p+"static/media/7hot.c10c7ccbd6b1c51475d3.svg"},1331:function(e,t,n){"use strict";e.exports=n.p+"static/media/8desert.a359107eaacd950f1705.svg"},1893:function(e,t,n){"use strict";e.exports=n.p+"static/media/1water.7fa9a161e698a18a038d.svg"},4377:function(e,t,n){"use strict";e.exports=n.p+"static/media/2milk.a92a14defa5ff9578f30.svg"},5392:function(e,t,n){"use strict";e.exports=n.p+"static/media/3snack.f6e2333f2dcf61e0104c.svg"},4367:function(e,t,n){"use strict";e.exports=n.p+"static/media/4coffe.219e4f9436774fbcb3b2.svg"},2240:function(e,t,n){"use strict";e.exports=n.p+"static/media/5spagetty.51bd4076c34ae039c41a.svg"},1225:function(e,t,n){"use strict";e.exports=n.p+"static/media/6bread.71ed8d63ac0028ca17f9.svg"},3346:function(e,t,n){"use strict";e.exports=n.p+"static/media/7oil.c852d72602f54dee5c43.svg"},1573:function(e,t,n){"use strict";e.exports=n.p+"static/media/8conserv.28e34063006f155eee10.svg"},9258:function(e,t,n){"use strict";e.exports=n.p+"static/media/4vegetables.6ac7e0f9405d7dd2e691.png"},809:function(e,t,n){"use strict";e.exports=n.p+"static/media/6oil.44a327c0a1b389d9e063.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".84831cb0.chunk.js"},n.miniCssF=function(e){return"static/css/"+e+".e90aa93f.chunk.css"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/inetShopTest/",function(){var e=function(e){return new Promise((function(t,r){var i=n.miniCssF(e),a=n.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(o=n[r]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var o;if((i=(o=a[r]).getAttribute("data-href"))===e||i===t)return o}}(i,a))return t();!function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(a){if(i.onerror=i.onload=null,"load"===a.type)n();else{var o=a&&("load"===a.type?"missing":a.type),u=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=o,s.request=u,i.parentNode.removeChild(i),r(s)}},i.href=t,document.head.appendChild(i)}(e,a,t,r)}))},t={179:0};n.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{526:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}(),function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ci},SDK_VERSION:function(){return ja},_DEFAULT_ENTRY_NAME:function(){return xa},_addComponent:function(){return Aa},_addOrOverwriteComponent:function(){return Ta},_apps:function(){return Ea},_clearComponents:function(){return Oa},_components:function(){return Sa},_getProvider:function(){return Na},_registerComponent:function(){return Ca},_removeServiceInstance:function(){return Pa},deleteApp:function(){return Va},getApp:function(){return Ma},getApps:function(){return Ua},initializeApp:function(){return Fa},onLog:function(){return qa},registerVersion:function(){return za},setLogLevel:function(){return Wa}});var t=n(2791),r=n(1250),i={wrapper:"footer_wrapper__EFZps",content:"footer_content__J27LT",bottom_info:"footer_bottom_info__RErjG",bottom:"footer_bottom__chdxU",twinBlock:"footer_twinBlock__n4szs",twinBlock__info:"footer_twinBlock__info__JdsAi",section:"footer_section__MlUZK",secondBlockInfo:"footer_secondBlockInfo__a9NJD",locationInfo__phone:"footer_locationInfo__phone__TMcpL",locationInfo__time:"footer_locationInfo__time__Pd51x",media:"footer_media__A57NF",media__cursor:"footer_media__cursor__JjBNp",media__inst:"footer_media__inst__IOy5q",media__mail:"footer_media__mail__+FOAW",subscribe:"footer_subscribe__0bR+4",subscribe__buttons:"footer_subscribe__buttons__haNol",subscribe__acceptSubcsribe:"footer_subscribe__acceptSubcsribe__LU4jy",leftBlocks:"footer_leftBlocks__9LZQw",firstInfoBot:"footer_firstInfoBot__flQq4",lastBlock:"footer_lastBlock__oTnBX"};var a=n.p+"static/media/phone.9302f407701f8c80434d408dd6a57bf3.svg",o=n(184),u=function(){return(0,o.jsx)("div",{className:i.wrapper,children:(0,o.jsxs)("div",{className:i.content,children:[(0,o.jsxs)("div",{className:i.leftBlocks,children:[(0,o.jsxs)("div",{className:i.section,children:[(0,o.jsxs)("div",{className:i.twinBlock,children:[(0,o.jsxs)("div",{className:i.twinBlock__info,children:[(0,o.jsx)("span",{children:"\u0418\u043b\u044c\u0438\u043d\u0441\u043a\u0438\u0439 \u043e\u043d\u043b\u0430\u0439\u043d"}),(0,o.jsxs)("ol",{children:[(0,o.jsx)("li",{children:"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f"}),(0,o.jsx)("li",{children:"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442"}),(0,o.jsx)("li",{children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430"}),(0,o.jsx)("li",{children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]})]}),(0,o.jsxs)("div",{className:i.twinBlock__info,children:[(0,o.jsx)("span",{children:"\u0418\u043b\u044c\u0438\u043d\u0441\u043a\u0438\u0439 \u043a\u043b\u0443\u0431"}),(0,o.jsxs)("ol",{children:[(0,o.jsx)("li",{children:"\u0410\u043a\u0446\u0438\u0438"}),(0,o.jsx)("li",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0438 \u043e\u043f\u043b\u0430\u0442\u0430"}),(0,o.jsx)("li",{children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043b\u043e\u044f\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}),(0,o.jsx)("li",{children:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}),(0,o.jsx)("li",{children:"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438"})]})]})]}),(0,o.jsx)("div",{className:i.bottom_info&&i.firstInfoBot,children:"\xa9 2022 \u0418\u043b\u044c\u0438\u043d\u0441\u043a\u0438\u0439 \u043e\u043d\u043b\u0430\u0439\u043d - \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u043d\u0430 \u0434\u043e\u043c"})]}),(0,o.jsxs)("div",{className:i.section,children:[(0,o.jsxs)("div",{className:i.secondBlockInfo,children:[(0,o.jsxs)("div",{className:i.locationInfo,children:[(0,o.jsxs)("div",{className:i.locationInfo__phone,children:[(0,o.jsx)("img",{src:a,alt:"phone"})," +7 930 583 81 11"]}),(0,o.jsx)("div",{className:i.locationInfo__time,children:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e \u0441 09:00 \u0434\u043e 21:00"})]}),(0,o.jsxs)("ol",{className:i.media,children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC0SURBVHgBlZEBEcIwDEVbFExCJSBhEiZhDkACDsDBJDAHw0FxUBxMQvm5+z1CoWv3795tbZOfXGLMDsUYe7CAYBuCO3xOYACO13PN/QpWVjkDx3P/486AhQGTDsL/KG2W3AO4sMXcWN7GdBD3pL8JylzkdPmbak/kwT1rcxLMxlCOYKDRzDtHw97UxOSguvKmRapK9zWUxuSV6wmloZUSfdqn2SNO+7MCpUMl9wke1tpX/vAG+kgD2MAscecAAAAASUVORK5CYII=",className:i.media__cursor,alt:"cursor"})," \u0410\u0434\u0440\u0435\u0441\u0430 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD8SURBVHgBjZKNEQExEIUTo4CoQFTgOnAqoAQqQAWuBCqIDlDBjQqMCu5UgArOW/NiVjC8mW+STfYvOzEGapomByWoms+qeD8xVBuGx1qCDViDq0LkuY5BgL+z1q4sNltxgjE1XwQfCRqAG5jBt9PCJgMH5eRBUO3lrJqxK4ezrgQ6UMcgti2ZF0woHdWoMgQ18/cMH58zUCqFpM0CHJX98G8lz/HglJzt2OaL0sAzGCVng/gUrTZXx3Ulb2S7e9AHBXifOKc3UbbnNC+8m6s795wJnYL5Q1KAgU4bS5CxolPVI3N2EXSmgoe/tI1JbdJKpgalJf9WPkH8v+YOKX0aWUomjIgAAAAASUVORK5CYII=",className:i.media__inst,alt:"inst"}),"\u0421\u043b\u0435\u0434\u0438\u0442\u0435 \u0437\u0430 \u043d\u0430\u043c\u0438"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAALCAYAAACgR9dcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgBlZEBDYAwDASLAyQgAQdYAAXDAUiYk0kgOMAJOAAHo10KKWUsrEnzzdr7blnhvR8AoIX8WAqEPRYHZoe5/YAqzClUyK6YPWuVoqgv5wPMjaSBBK+lN5wy0GAU5kMnDQTo1Nxrs+FBq3RkNVFYgHIjPaNWNzAPWINfIQ1I6Z937uX+c0mwxaKB/JhPRGTylpfkLNEAAAAASUVORK5CYII=",className:i.media__mail,alt:"mail"}),"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c"]})]})]}),(0,o.jsx)("div",{className:i.bottom_info,children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u043e\u0444\u0435\u0440\u0442\u043e\u0439"})]})]}),(0,o.jsxs)("div",{className:i.section&&i.lastBlock,children:[(0,o.jsxs)("div",{className:i.subscribe,children:[(0,o.jsx)("p",{children:"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0432\u043a\u0443\u0441\u043d\u044b\u0435 \u0438 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"}),(0,o.jsxs)("div",{className:i.subscribe__buttons,children:[(0,o.jsx)("input",{type:"email"}),(0,o.jsx)("button",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]}),(0,o.jsxs)("div",{className:i.subscribe__acceptSubcsribe,children:[(0,o.jsx)("input",{type:"checkbox",id:"confidence"}),(0,o.jsx)("label",{htmlFor:"confidence",children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})]})]}),(0,o.jsxs)("div",{className:i.bottom,children:[(0,o.jsx)("div",{children:(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAMCAYAAAAOCs/+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH7SURBVHgBfVUtVwJREB04BNm62oAIkSpErBC1SjX7H2xarWQrRjVqlI1sFJquEeI6A3fg7mNxzpnz3s6bvXPn4+1W8jzviUhHijKvVCofbFC/ti5tPGZ2rrYhubypbQXfSJdz1ZZqXXWt+qWaqE9GmLEuXdUIppmeL21TQ4BU90awr2rOPbMxiMqIiE0QfOSH6vuMYIZxScFcDN+CMuaYMAUJbIhVAZoB+EU1hVM7yMyfV/BpEOCC/K6J1Fz1Hat4UPg2A1ImTd/USg4s6A/23s4R+WzaocBdsnkVemSztjwSkdhbDbmg/QrJ7IhWpShGyubmV4qt4MymWE/JtpBDaSuZXfCS2fIkZrKvZIyzA2IJ1iGBGEDsIBSgWULMKuznltiVvn8HDBbugBGb03PjgBhK7TPWxYD3yeU1BIBkeN/W+yCQJTX26gGzcLuFZk/whQgrZvKJ1W8dg6QEHlFCS9qb3wMI8g30tnZl34EMnyGW5jFiCe0HtJ/Snqs1J7JCBC2JJzL54HMbjdSt6k2IHd5KwY2zTGMyZwFhJrb2JPANM79v1TPZVsdlGczrMYnUr1E7cmgDydc5Da4630ifyRaCDkrwrNVW8THZJrJNoo5nI+3V7PxHjKsyDc5z2Q+4r/YhPZHt7Hkwu60J/i5R8F6CZP03ZiR93vI/UI/VAZ5nbdEAAAAASUVORK5CYII=",alt:"visa"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAAbCAYAAABC+sCWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATtSURBVHgB7VpNaFtHEB79OLVMY0tWaQKtID3EPRmr+OT2YlUOJeBATSDXKEefkqBrSxxIe0vrU3O1j/XFAQcCoaoDpXFzqkILQToplcGHRLFdGymWpad+4zev2TxLeitLIT7sB8N6d7+dWe3szO57z0QGBgYGBgYGvYCPukSj0YijiEu1AMn6fL6tZtzdBw/iViBwwPVZVqG2u5uNzMxskUFPcSSnwpFhFFch1yDhJpSHkEU4d2FzeTkcDIevNiyrFfduvVq9Hjl/vkAGPUHHTpXIXIac8eLWt7fvVLLZi416/UMvrs/vnzuZSNwkg67h74QsDl0lDYcC+cDQUCA0OvqbBpcQyXM7mcyPZNA1tJ0Kh54hO0LDGvQdslMwBYaHS8FYbE1jDDWQzrczmWv0DoHfOQAZoWMGzOlLSEqH20mk3iC9CGW84cTQ2bN/+fr6dnQG4jy4sbm6qrNx3hbGICk6fhiADOsQg6SPrzV57LzCIUOnT/+9XyxOkDfC/lothXLe3YGdGkXBOvKQzyElSIZsR3wK+QfyBy5oZeF/jOILGf472bf0X7lfovEzSAiSE50x4YTQP82DwL0nukbEZgXyC9pL0j6tzKeI9oxbN9rWmuj4EzLC+mWePP+ylCusH+0TUs9RB9CKVCifJL20y3jWrLHv1KkC6cLnm2zRw069QHYkIVsfOPg7aeP6FGSWibKA30I+gkQgaeGFZBG5zotelnaS+oBiKyq6JkQvc/sh38gGIxk7K/ZLcu9Ii13mTjAXckGxGZExjl3eTJfk9/CYCviXpI31jilcT+hGapz00TTNBgYHtdIvA7t0zINyW9nJKcgtV53Bi7DGj1VcESenpS8mZRbyApwlqa+BdzAWbYuKvSTZR0pGGc9tzrglJRrTLrsDkhl4bitK5E/Tm44qo+8H6YuK/jtoyyp6taDr1E7OuL1WHf5AYM+q19+jLuGkPrLT76G6gBcmp4zJi8MYTyCPIJchfDHicT+Bs97CZEz0tdpsbruPFLtlpT2v8PIuHRWXDnIcKuDfonWB03VqgfTR0mm6DsUi9+ItEy80n0dOZCSdDllojsRFiQpOhXzWLbXQxQ4oOhHtRF8bu6zLfeNnfpxeO7Nd9lsXO3HFsXHR4Ym34dRos8bay5dR0scz6h4/Q9JYmO/JjoL/b47iYJYi2WcoR+I96WanRCXd8ZxvQVZEF/N4YUfw9+0Wke22GxIdvCFSoqPtTVbSNducRZlX+FpO1X6jBOWbpJeGq5AFd2Pl6dPx2sbGOOnhymAyuUCH58A/bkw5v7zqasrklMvp64ksGu98vjDxQq1zelbsxGRcSeE7uthG3uHLWZlXjgBqw3Vu72VnPjxXaY+50q1zD2DhzfMC8gFzmK/ac6MTp86R/ayqg4eknBlWtXqi/Pjxxcb+/kmvgTj1CkPJ5CdkcGR08vKBnxuzmlw+U953Knu53LiOQxm+RuO6RJzBEaHtVPmcNkN65+sJyFdcHqTd589HNcbw+9+bg1NTd9tcQgw00NELfSx2AUWC5L2uBwLWq1f5/Y0NzwsSUu4W1etXhs6dmyODrnHkj+Tycpmf8yZdXRzR/LgwL5uA/s1kUtgRl8l+M/VaB0e9ZS1aweB8JJEwH8t7hK7/84EhX3BsheLIVti8f9/m9vdvGUcaGBgYGBgYHGf8B/LYI//aWl/9AAAAAElFTkSuQmCC",alt:"mastercard"})," "]}),(0,o.jsxs)("div",{children:["\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 ",(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAAARCAYAAAB6mTpFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMxSURBVHgB3VjtceIwEFUy9/+4DtxB3MGpBF8FOBWEqwBTQbgKcCqAVGCoAK4C0wF0sLeLV/BYJMMvjsmb2cHSfnj9JK02cQ5ARGt6LAw0rxHdHzPgJX+GgSSVu8fB/unpaa/PmbsvtiwTeWBeMnn/N1A+EkkHcJKNPt47twkv0laf5yyv14iqWT5YtuLIiXt+fmP5obqMZQz2S9etRLCXmCOWF5Y/aiNbegNji0xjSqxPFtnpnmWl74wh17wEW429YNmDvmQZ6nihsQXv+o4Ayb2WB85ffDIeb45aOZNwPlv9yCiCjn8L8ClvsM/VdtpjW6pNoWOv41GPT6hhjZaQlF0VqT+NqU0F6Nqwq58hDhLzO7DIhm8scw14CAIMB58JrIIH+9LYZ/r7XQkJgh/3U3+35h3ZFR+x/yV1TXQsY81hpnVG8qhct1M9+P6F55ptFvodY80X9QdFQANz73QJD3pJpIXxOGJfgn4a0VcR/x3MzW/0wfe0xr6lyxs0jEuwy3ROFmWncwWSlIPxCIxjwG27i4wtFoZYxDRBMi6WbVmqhE/swxFe9d6M80jcGfidTpoJHgIUiRfOVD/AF1Ca2CZBZA3zQ+ODBCJSJOEOrBN5JGsedYuRRb7jGDfUKKxP4ezvXRyriE8ftiEBiP3BtaDUebmJauOzVJ2HuYnWmEPd5J8KdKlcEbauvoDu1bQD1qcDnR+JCubXPbuj0rm+G6SFlQo7dA32OcURbslQT2rwGSZ8wtHzEV0VybF1BnR5bKfWAI/EjuBGUWchpTA+c2tP3batNZlpIAmIbU3sgs5vMvHFYzRFYiEflHmEjFJzEF3p0kQMTOzW6JOFPKDBj4yBzndbQz39CxC7uGIjZOKuPRB+Q9ywYH29n6fLywZ7pnGEh2M86cwziLd0p/5lxoYrnRMcnPgsh52CSXkWIU66cjnXe40rteQT/DfU05g67aHAxks+V3xCHgPNoXb614TOZ67ryMuI7xAWuDK6ve3IK2AQbxu7Ag2d6s0bfX00Z7TReQEWYjLQSQvgzZzUoZa+Ps6O/LO7bA0aOrX8sv2W4eqk7rpu3P3/7fE/sMTBP8YnvqxMARzYAAAAAElFTkSuQmCC",alt:"gazilov"})]})]})]})]})})};function s(e){if(Array.isArray(e))return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||l(e,t)||f()}var d=n.p+"static/media/logoSite.44c9bc9ae8175d34052ca562c668a14d.svg",p="header_wrapper__2lFA2",v="header_container__7ePrC",m="header_logoSite__V5s3r",y="header_buttons__-Tc9p",g="header_buttons__button__o8GBa",k="header_deliverySearch__FwWSs",b="header_cart__NKeBR",w="header_redButton__1e2Ci",_="header_hide1250__rt2yf",x="header_showCatalog__c9Tg9";function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==I(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function S(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){S(a,r,i,o,u,"next",e)}function u(e){S(a,r,i,o,u,"throw",e)}o(void 0)}))}}function T(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function C(e){return!!e&&!!e[ge]}function N(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ke}(e)||Array.isArray(e)||!!e[ye]||!!e.constructor[ye]||F(e)||M(e))}function P(e,t,n){void 0===n&&(n=!1),0===O(e)?(n?Object.keys:be)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function O(e){var t=e[ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:F(e)?2:M(e)?3:0}function D(e,t){return 2===O(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return 2===O(e)?e.get(t):e[t]}function L(e,t,n){var r=O(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function j(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){return de&&e instanceof Map}function M(e){return pe&&e instanceof Set}function U(e){return e.o||e.t}function V(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=we(e);delete t[ge];for(var n=be(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function B(e,t){return void 0===t&&(t=!1),q(e)||C(e)||!N(e)||(O(e)>1&&(e.set=e.add=e.clear=e.delete=z),Object.freeze(e),t&&P(e,(function(e,t){return B(t,!0)}),!0)),e}function z(){T(2)}function q(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function W(e){var t=_e[e];return t||T(18,e),t}function G(e,t){_e[e]||(_e[e]=t)}function K(){return fe}function H(e,t){t&&(W("Patches"),e.u=[],e.s=[],e.v=t)}function Q(e){Y(e),e.p.forEach(J),e.p=null}function Y(e){e===fe&&(fe=e.l)}function X(e){return fe={p:[],l:fe,h:e,m:!0,_:0}}function J(e){var t=e[ge];0===t.i||1===t.i?t.j():t.O=!0}function $(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||W("ES5").S(t,e,r),r?(n[ge].P&&(Q(t),T(4)),N(e)&&(e=Z(t,e),t.l||te(t,e)),t.u&&W("Patches").M(n[ge].t,e,t.u,t.s)):e=Z(t,n,[]),Q(t),t.u&&t.v(t.u,t.s),e!==me?e:void 0}function Z(e,t,n){if(q(t))return t;var r=t[ge];if(!r)return P(t,(function(i,a){return ee(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return te(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=V(r.k):r.o;P(3===r.i?new Set(i):i,(function(t,a){return ee(e,r,i,t,a,n)})),te(e,i,!1),n&&e.u&&W("Patches").R(r,n,e.u,e.s)}return r.o}function ee(e,t,n,r,i,a){if(C(i)){var o=Z(e,i,a&&t&&3!==t.i&&!D(t.D,r)?a.concat(r):void 0);if(L(n,r,o),!C(o))return;e.m=!1}if(N(i)&&!q(i)){if(!e.h.F&&e._<1)return;Z(e,i),t&&t.A.l||te(e,i)}}function te(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&B(t,n)}function ne(e,t){var n=e[ge];return(n?U(n):e)[t]}function re(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ie(e){e.P||(e.P=!0,e.l&&ie(e.l))}function ae(e){e.o||(e.o=V(e.t))}function oe(e,t,n){var r=F(t)?W("MapSet").N(t,n):M(t)?W("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:K(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=xe;n&&(i=[r],a=Ie);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):W("ES5").J(t,n);return(n?n.A:K()).p.push(r),r}function ue(e){return C(e)||T(22,e),function e(t){if(!N(t))return t;var n,r=t[ge],i=O(t);if(r){if(!r.P&&(r.i<4||!W("ES5").K(r)))return r.t;r.I=!0,n=se(t,i),r.I=!1}else n=se(t,i);return P(n,(function(t,i){r&&R(r.t,t)===i||L(n,t,e(i))})),3===i?new Set(n):n}(e)}function se(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return V(e)}function ce(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ge];return xe.get(t,e)},set:function(t){var n=this[ge];xe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ge];if(!i.P)switch(i.i){case 5:r(i)&&ie(i);break;case 4:n(i)&&ie(i)}}}function n(e){for(var t=e.t,n=e.k,r=be(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ge){var o=t[a];if(void 0===o&&!D(t,a))return!0;var u=n[a],s=u&&u[ge];if(s?s.t!==o:!j(u,o))return!0}}var c=!!t[ge];return r.length!==be(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};G("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=we(n);delete a[ge];for(var o=be(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:K(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ge,{value:a,writable:!0}),i},S:function(e,n,i){i?C(n)&&n[ge].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ge];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)P(a,(function(t){t!==ge&&(void 0!==i[t]||D(i,t)?o[t]||e(a[t]):(o[t]=!0,ie(n)))})),P(i,(function(e){void 0!==a[e]||D(a,e)||(o[e]=!1,ie(n))}));else if(5===u){if(r(n)&&(ie(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var le,fe,he="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),de="undefined"!=typeof Map,pe="undefined"!=typeof Set,ve="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,me=he?Symbol.for("immer-nothing"):((le={})["immer-nothing"]=!0,le),ye=he?Symbol.for("immer-draftable"):"__$immer_draftable",ge=he?Symbol.for("immer-state"):"__$immer_state",ke=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),be="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,we=Object.getOwnPropertyDescriptors||function(e){var t={};return be(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},_e={},xe={get:function(e,t){if(t===ge)return e;var n=U(e);if(!D(n,t))return function(e,t,n){var r,i=re(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!N(r)?r:r===ne(e.t,t)?(ae(e),e.o[t]=oe(e.A.h,r,e)):r},has:function(e,t){return t in U(e)},ownKeys:function(e){return Reflect.ownKeys(U(e))},set:function(e,t,n){var r=re(U(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ne(U(e),t),a=null==i?void 0:i[ge];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(j(n,i)&&(void 0!==n||D(e.t,t)))return!0;ae(e),ie(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ne(e.t,t)||t in e.t?(e.D[t]=!1,ae(e),ie(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=U(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){T(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){T(12)}},Ie={};P(xe,(function(e,t){Ie[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ie.deleteProperty=function(e,t){return Ie.set.call(this,e,t,void 0)},Ie.set=function(e,t,n){return xe.set.call(this,e[0],t,n,e[0])};var Ee=function(){function e(e){var t=this;this.g=ve,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&T(6),void 0!==r&&"function"!=typeof r&&T(7),N(e)){var u=X(t),s=oe(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?Q(u):Y(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return H(u,r),$(e,u)}),(function(e){throw Q(u),e})):(H(u,r),$(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===me&&(o=void 0),t.F&&B(o,!0),r){var l=[],f=[];W("Patches").M(e,o,l,f),r(l,f)}return o}T(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){N(e)||T(8),C(e)&&(e=ue(e));var t=X(this),n=oe(this,e,void 0);return n[ge].C=!0,Y(t),n},t.finishDraft=function(e,t){var n=(e&&e[ge]).A;return H(n,t),$(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ve&&T(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=W("Patches").$;return C(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Se=new Ee,Ae=Se.produce,Te=(Se.produceWithPatches.bind(Se),Se.setAutoFreeze.bind(Se),Se.setUseProxies.bind(Se),Se.applyPatches.bind(Se),Se.createDraft.bind(Se),Se.finishDraft.bind(Se),Ae);function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var De="function"===typeof Symbol&&Symbol.observable||"@@observable",Re=function(){return Math.random().toString(36).substring(7).split("").join(".")},Le={INIT:"@@redux/INIT"+Re(),REPLACE:"@@redux/REPLACE"+Re(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Re()}};function je(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Fe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Oe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Oe(1));return n(Fe)(e,t)}if("function"!==typeof e)throw new Error(Oe(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Oe(3));return a}function f(e){if("function"!==typeof e)throw new Error(Oe(4));if(s)throw new Error(Oe(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Oe(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!je(e))throw new Error(Oe(7));if("undefined"===typeof e.type)throw new Error(Oe(8));if(s)throw new Error(Oe(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Oe(10));i=e,h({type:Le.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Oe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[De]=function(){return this},e}return h({type:Le.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[De]=p,r}function Me(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Le.INIT}))throw new Error(Oe(12));if("undefined"===typeof n(void 0,{type:Le.PROBE_UNKNOWN_ACTION()}))throw new Error(Oe(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Oe(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Oe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ue.apply(void 0,a)(n.dispatch),Pe(Pe({},n),{},{dispatch:r})}}}function Be(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ze=Be();ze.withExtraArgument=Be;var qe=ze,We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ke=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},He=Object.defineProperty,Qe=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Ze=function(e,t,n){return t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},et=function(e,t){for(var n in t||(t={}))Je.call(t,n)&&Ze(e,n,t[n]);if(Xe)for(var r=0,i=Xe(t);r<i.length;r++){n=i[r];$e.call(t,n)&&Ze(e,n,t[n])}return e},tt=function(e,t){return Qe(e,Ye(t))},nt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},rt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ue:Ue.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function it(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var at=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return We(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ke([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ke([void 0],e.concat(this))))},t}(Array);function ot(e){return N(e)?Te(e,(function(){})):e}function ut(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new at);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(qe.withExtraArgument(n.extraArgument)):r.push(qe));0;return r}(e)}}function st(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return et(et({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ct(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function lt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ot(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ct(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=et(et({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ct(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ot(e())};else{var c=ot(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Ke([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(C(e))return void 0===(r=n(e,t))?e:r;if(N(e))return Te(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?st(c,r):st(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var ft=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ht=["name","message","stack","code"],dt=function(e,t){this.payload=e,this.meta=t},pt=function(e,t){this.payload=e,this.meta=t},vt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ht;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function mt(e,t,n){var r=st(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:tt(et({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=st(e+"/pending",(function(e,t,n){return{payload:void 0,meta:tt(et({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=st(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||vt)(e||"Rejected"),meta:tt(et({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):ft(),h=new o,d=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),p=!1;var v=function(){return nt(this,null,(function(){var o,l,v,m,y;return Ge(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=g.sent(),g.label=2;case 2:if(!1===m)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,u(i(f,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,rejectWithValue:function(e,t){return new dt(e,t)},fulfillWithValue:function(e,t){return new pt(e,t)}})).then((function(t){if(t instanceof dt)throw t;return t instanceof pt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=g.sent(),[3,5];case 4:return y=g.sent(),v=y instanceof dt?a(null,f,e,y.payload,y.meta):a(y,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var k}))}))}();return Object.assign(v,{abort:function(e){p&&(l=e,h.abort())},requestId:f,arg:e,unwrap:function(){return v.then(yt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}function yt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var gt="listenerMiddleware";st(gt+"/add"),st(gt+"/removeAll"),st(gt+"/remove");ce();var kt=lt({name:"filterSlice",initialState:{search:"",filterBy:"price",ascDesc:"asc",type:"",filtersView:[]},reducers:{addSearch:function(e,t){e.search=t.payload},addFilter:function(e,t){e.filterBy=t.payload},addAscdesc:function(e){"desc"===e.ascDesc?e.ascDesc="asc":e.ascDesc="desc"},addType:function(e,t){e.type=t.payload,e.filtersView=[]},deleteType:function(e){e.type="",e.filtersView=[]},addFilterView:function(e,t){var n=e.filtersView.filter((function(e){return e.class!==t.payload.class&&e.classForPerson!==t.payload.classForPerson}));n.length<e.filtersView.length?e.filtersView=n:e.filtersView.push(t.payload)},deleteFilterView:function(e,t){var n=e.filtersView.filter((function(e){return e.class!==t.payload.class&&e.classForPerson!==t.payload.classForPerson}));e.filtersView=n},deleteAllFilterView:function(e){e.filtersView=[]},clearFilterView:function(e){e.filtersView=[],e.type="",e.search="",e.filterBy="name",e.ascDesc="asc"}}}),bt=function(e){return e.filter},wt=kt.actions,_t=wt.addSearch,xt=wt.addFilter,It=wt.addAscdesc,Et=wt.addType,St=wt.deleteType,At=wt.addFilterView,Tt=wt.deleteFilterView,Ct=wt.deleteAllFilterView,Nt=wt.clearFilterView,Pt=kt.reducer,Ot=n(7248),Dt=n(327),Rt=n(4164);var Lt=function(e){e()},jt=function(){return Lt},Ft=t.createContext(null);function Mt(){return(0,t.useContext)(Ft)}var Ut=function(){throw new Error("uSES not initialized!")},Vt=Ut,Bt=function(e,t){return e===t};function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,n=e===Ft?Mt:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=Vt(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var qt=zt();n(2110),n(6900);var Wt={notify:function(){},get:function(){return[]}};function Gt(e,t){var n,r=Wt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=jt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Wt)},getListeners:function(){return r}};return o}var Kt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var Ht=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=Gt(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);Kt((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||Ft;return t.createElement(s.Provider,{value:o},i)};function Qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,n=e===Ft?Mt:function(){return(0,t.useContext)(e)};return function(){return n().store}}var Yt=Qt();function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=e===Ft?Yt:Qt(e);return function(){return t().dispatch}}var Jt,$t=Xt();!function(e){Vt=e}(Dt.useSyncExternalStoreWithSelector),function(e){e}(Ot.useSyncExternalStore),Jt=Rt.unstable_batchedUpdates,Lt=Jt;var Zt,en=n(4569),tn=n.n(en),nn=mt("items/fetchItemsProduct",function(){var e=A(E().mark((function e(t){var n,r,i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,r=t.filterBy,i=t.ascDesc,a=t.type,e.next=3,tn().get("https://62f44a7fac59075124bbda32.mockapi.io/clicker?".concat(n?"name="+n:a?"type="+a:"","&").concat(""!==r?"sortBy="+r:"","&order=").concat(i));case 3:return o=e.sent,u=o.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e){e.LOADING="loading",e.SUCCESS="completed",e.ERROR="error"}(Zt||(Zt={}));var rn=lt({name:"data",initialState:{items:[],itemsDop:[],loading:Zt.LOADING},reducers:{setItems:function(e,t){e.itemsDop=t.payload}},extraReducers:function(e){e.addCase(nn.fulfilled,(function(e,t){e.items=t.payload,e.itemsDop=t.payload,e.loading=Zt.SUCCESS})),e.addCase(nn.pending,(function(e){e.items=[],e.itemsDop=[],e.loading=Zt.LOADING})),e.addCase(nn.rejected,(function(e){e.items=[],e.itemsDop=[],e.loading=Zt.ERROR}))}}),an=function(e){return e.dataItems},on=rn.actions.setItems,un=rn.reducer,sn=lt({name:"classChange",initialState:{likeItems:[]},reducers:{addLikeProductDB:function(e,t){e.likeItems=t.payload.likeItems.itemsLike},addLikeProduct:function(e,t){e.likeItems.push(t.payload)},deleteLikeProduct:function(e,t){0!==e.likeItems.length&&(e.likeItems=e.likeItems.filter((function(e){return e.id!==t.payload})))},clearLikeProduct:function(e){e.likeItems=[]}}}),cn=function(e){return e.likes.likeItems},ln=sn.actions,fn=ln.addLikeProductDB,hn=ln.addLikeProduct,dn=ln.deleteLikeProduct,pn=ln.clearLikeProduct,vn=sn.reducer,mn=lt({name:"classChange",initialState:{page:"like",salePageCounter:0,catalogPageCounter:0,pageLocation:"/",beforePage:""},reducers:{setPageSls:function(e,t){e.page=t.payload},upSalePage:function(e){e.salePageCounter+=4},downSalePage:function(e){e.salePageCounter-=4},upCatalogPage:function(e){e.catalogPageCounter+=6},downCatalogPage:function(e){e.catalogPageCounter-=6},clearCatalogPage:function(e){e.catalogPageCounter=0},setPageLocation:function(e,t){e.pageLocation=t.payload},setBeforePage:function(e,t){e.beforePage=t.payload}}}),yn=function(e){return e.pages},gn=mn.actions,kn=gn.setPageSls,bn=gn.downSalePage,wn=gn.upSalePage,_n=gn.upCatalogPage,xn=gn.downCatalogPage,In=gn.clearCatalogPage,En=gn.setPageLocation,Sn=gn.setBeforePage,An=mn.reducer,Tn=lt({name:"sortSlice",initialState:{sale:!1},reducers:{changeParamSale:function(e,t){e.sale=t.payload}}}),Cn=function(e){return e.sort},Nn=Tn.actions.changeParamSale,Pn=Tn.reducer;var On=mt("items/fetchItemsSale",A(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn().get("https://62f44a7fac59075124bbda32.mockapi.io/clicker?");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),Dn=lt({name:"dataSale",initialState:{saleItems:[],loading:Zt.LOADING},reducers:{},extraReducers:function(e){e.addCase(On.fulfilled,(function(e,t){var n=t.payload.filter((function(e){return 0!==e.sale}));e.saleItems=n,e.loading=Zt.SUCCESS})),e.addCase(On.pending,(function(e){e.saleItems=[],e.loading=Zt.LOADING})),e.addCase(On.rejected,(function(e){e.saleItems=[],e.loading=Zt.ERROR}))}}),Rn=function(e){return e.saleItems};!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(Dn.actions);var Ln,jn=Dn.reducer,Fn=lt({name:"cart",initialState:{items:[],totalPrice:0},reducers:{setItemFromDB:function(e,t){e.items=t.payload.items.cartItem,e.totalPrice=e.items.reduce((function(e,t){return Math.ceil(t.price/100*(100-t.saleProd))*t.countCart+e}),0)},setItemsCart:function(e,t){var n=e.items.find((function(e){return e.id===t.payload.id}));n?n.countCart++:e.items.push(Pe(Pe({},t.payload),{},{countCart:1})),e.totalPrice=e.items.reduce((function(e,t){return Math.ceil(t.price/100*(100-t.saleProd))*t.countCart+e}),0)},delItemCart:function(e,t){var n=e.items.find((function(e){return e.id===t.payload}));n&&(n.countCart>1?n.countCart--:e.items=e.items.filter((function(e){return e.id!==t.payload})),e.totalPrice=e.items.reduce((function(e,t){return Math.ceil(t.price/100*(100-t.saleProd))*t.countCart+e}),0))},clearCart:function(e){e.items=[],e.totalPrice=0}}}),Mn=function(e){return e.cart.items},Un=function(e){return e.cart.totalPrice},Vn=Fn.actions,Bn=Vn.setItemFromDB,zn=Vn.setItemsCart,qn=Vn.delItemCart,Wn=Vn.clearCart,Gn=Fn.reducer,Kn=lt({name:"classChange",initialState:{authStatus:!1,beforePage:"",userInfo:{}},reducers:{setAuthStatus:function(e,t){e.authStatus=t.payload},setBeforePage:function(e,t){e.beforePage=t.payload},setUser:function(e,t){e.userInfo=t.payload},removeUser:function(e){e.userInfo={}}}}),Hn=function(e){return e.profile},Qn=Kn.actions,Yn=(Qn.setAuthStatus,Qn.setBeforePage,Qn.setUser),Xn=Qn.removeUser,Jn=function(e){var t,n=ut(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!it(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Me(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Ve.apply(void 0,p),m=Ue;c&&(m=rt(et({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=Ke([v],d):"function"===typeof d&&(y=d(y)),Fe(t,f,m.apply(void 0,y))}({reducer:{dataItems:un,likes:vn,pages:An,filter:Pt,sort:Pn,saleItems:jn,cart:Gn,profile:Kn.reducer}}),$n=function(){return $t()},Zn="search_blockSearch__kJirD",er=n(763);function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Ln||(Ln={}));var nr=function(e){return e};var rr="beforeunload",ir="popstate";function ar(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=lr(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=r.state||{};return[c.idx,nr({pathname:i,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var a=null;function o(){if(a)h.call(a),a=null;else{var e=Ln.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){g(-1*o)}},g(o))}}else y(e)}}n.addEventListener(ir,o),n.addEventListener("hashchange",(function(){cr(i()[1])!==cr(l)&&o()}));var u=Ln.Pop,s=i(),c=s[0],l=s[1],f=ur(),h=ur();function d(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:cr(e))}function p(e,t){return void 0===t&&(t=null),nr(tr({pathname:l.pathname,hash:"",search:""},"string"===typeof e?lr(e):e,{state:t,key:sr()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function y(e){u=e;var t=i();c=t[0],l=t[1],f.call({action:u,location:l})}function g(e){r.go(e)}null==c&&(c=0,r.replaceState(tr({},r.state,{idx:c}),""));var k={get action(){return u},get location(){return l},createHref:d,push:function e(t,i){var a=Ln.Push,o=p(t,i);if(m(a,o,(function(){e(t,i)}))){var u=v(o,c+1),s=u[0],l=u[1];try{r.pushState(s,"",l)}catch(f){n.location.assign(l)}y(a)}},replace:function e(t,n){var i=Ln.Replace,a=p(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,c),u=o[0],s=o[1];r.replaceState(u,"",s),y(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(rr,or),function(){t(),h.length||n.removeEventListener(rr,or)}}};return k}function or(e){e.preventDefault(),e.returnValue=""}function ur(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function sr(){return Math.random().toString(36).substr(2,8)}function cr(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function lr(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var fr=(0,t.createContext)(null);var hr=(0,t.createContext)(null);var dr=(0,t.createContext)({outlet:null,matches:[]});function pr(e,t){if(!e)throw new Error(t)}function vr(e,t,n){void 0===n&&(n="/");var r=xr(("string"===typeof t?lr(t):t).pathname||"/",n);if(null==r)return null;var i=mr(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=br(i[o],r);return a}function mr(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||pr(!1),a.relativePath=a.relativePath.slice(r.length));var o=Ir([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&pr(!1),mr(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:kr(o,e.index),routesMeta:u})})),t}var yr=/^:\w+$/,gr=function(e){return"*"===e};function kr(e,t){var n=e.split("/"),r=n.length;return n.some(gr)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!gr(e)})).reduce((function(e,t){return e+(yr.test(t)?3:""===t?1:10)}),r)}function br(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=wr({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Ir([i,l.pathname]),pathnameBase:Er(Ir([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Ir([i,l.pathnameBase]))}return a}function wr(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function _r(e,t,n){var r,i="string"===typeof e?lr(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?lr(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Sr(a),hash:Ar(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function xr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Ir=function(e){return e.join("/").replace(/\/\/+/g,"/")},Er=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Sr=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Ar=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Tr(e){Cr()||pr(!1);var n=(0,t.useContext)(fr),r=n.basename,i=n.navigator,a=Or(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?lr(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):Ir([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function Cr(){return null!=(0,t.useContext)(hr)}function Nr(){return Cr()||pr(!1),(0,t.useContext)(hr).location}function Pr(){Cr()||pr(!1);var e=(0,t.useContext)(fr),n=e.basename,r=e.navigator,i=(0,t.useContext)(dr).matches,a=Nr().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=_r(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Ir([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function Or(e){var n=(0,t.useContext)(dr).matches,r=Nr().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return _r(e,JSON.parse(i),r)}),[e,i,r])}function Dr(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(dr.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Rr(e){pr(!1)}function Lr(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Ln.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Cr()&&pr(!1);var h=Er(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=lr(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,I=void 0===x?"default":x,E=(0,t.useMemo)((function(){var e=xr(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:_,key:I}}),[h,m,g,b,_,I]);return null==E?null:(0,t.createElement)(fr.Provider,{value:d},(0,t.createElement)(hr.Provider,{children:a,value:{location:E,navigationType:s}}))}function jr(e){var n=e.children,r=e.location;return function(e,n){Cr()||pr(!1);var r,i=(0,t.useContext)(dr).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,Nr());if(n){var c,l="string"===typeof n?lr(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||pr(!1),r=l}else r=s;var f=r.pathname||"/",h=vr(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return Dr(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Ir([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Ir([u,e.pathnameBase])})})),i)}(Fr(n),r)}function Fr(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==Rr&&pr(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=Fr(e.props.children)),n.push(r)}else n.push.apply(n,Fr(e.props.children))})),n}var Mr=function(){var e=$n(),t=Pr(),n=qt(yn).pageLocation,r=(0,er.debounce)(function(){var t=A(E().mark((function t(n){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=_t,t.next=4,n;case 4:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),250);function i(){return(i=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.jsx)("div",{children:(0,o.jsx)("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432",className:Zn,onChange:function(e){return function(e){return i.apply(this,arguments)}(e.target.value)},onClick:function(){"/catalog"!==n&&t("/catalog")}})})},Ur="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEdSURBVHgBtdTRsYIwEAXQTWiACphQwXt2gBU4dqAVOFagdqAVqB3YgZaAFRChARoAvOsER0EQNN4PE3VzGMIGQQ+JosiVUk6EEH/8PcuyC4aT7/unSl2AuhHq3KIoUoxn1HKdLmtEOUmSZJbn+RJTlyrBwh0WrnjuOM4WWED1aKzfAF/fYaALg7ZFm1G1FcGZMy5wWwq3FZHFAB/AlAuyn4nER0CWww+WYUX2oxhOyX5SiVYKyXLQjqEs+9NmsMf7Wx/HcXxsaPrewQ4cPM8b8x7z0R1jsLElIazp7QLlL+Y9ccT0nz5LiIMxxKlLn+Av8Se0Bn+I19CXcE9cG1RX/xBNKzrgjWgrbHBlcNUHfQs34G/RTnAFpy7oT3MFt4Gggh5636oAAAAASUVORK5CYII=";var Vr=n.p+"static/media/shoppingCart.6945a709023636d91afb1a932c314940.svg";function Br(){return Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}function zr(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qr=["onClick","reloadDocument","replace","state","target","to"];function Wr(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=ar({window:i}));var o=a.current,u=h((0,t.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(Lr,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var Gr=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=zr(e,qr),f=Tr(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=Pr(),s=Nr(),c=Or(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||cr(s)===cr(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",Br({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var Kr="buttonCatalog_catalogButton__1Z3Kp",Hr=function(){return(0,o.jsx)(Gr,{to:"/catalog",children:(0,o.jsxs)("button",{className:Kr,children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAMCAYAAABvEu28AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAArSURBVHgB7dAxDQBACATB5ZW8f1Pg5JBAQUIoGAljkhz49MTjVOyy5+zLTlJbDp6K+UciAAAAAElFTkSuQmCC",alt:"burger"})," \u041a\u0430\u0442\u0430\u043b\u043e\u0433"]})})},Qr="buttonDelivery_delivery__l5hnt",Yr="buttonDelivery_delivery__left__yEEo6",Xr="buttonDelivery_delivery__right__VhD85",Jr=function(){return(0,o.jsxs)("div",{className:Qr,children:[(0,o.jsxs)("div",{className:Yr,children:[(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACZSURBVHgBlZFtDYQwEES3lxOAhHNwSKgEJCABB0gAB4AScAAoaB2Ag2VISvgsbV/ywg+Y3XYgCoCZJWyh8vk4gjnseadyTS/gxHfk0/TMHMeG8p1+Jd1CLYfxW3Nf2MAR/mEMo5euaiGEtpUSw8RyEkkuTPhITz6sd3ksxTO8tazg6e4fR1abZ4dSZgrYWB5/QcjGwWzT1xcLuNEqEEqO0okAAAAASUVORK5CYII=",alt:"cursor"})," \u041c\u0421\u041a"]}),(0,o.jsxs)("div",{className:Xr,children:[(0,o.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f"}),(0,o.jsx)("p",{children:(0,o.jsx)("b",{children:" \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043b\u0438 \u0441\u0430\u043c\u043e\u0432\u044b\u0432\u043e\u0437"})})]})]})};function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}function Zr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$r(e)););return e}function ei(){return ei="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Zr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ei.apply(this,arguments)}function ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ni(e,t){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ni(e,t)}function ri(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ni(e,t)}function ii(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ai(e,t){if(t&&("object"===I(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}function oi(e){var t=ii();return function(){var n,r=$r(e);if(t){var i=$r(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ai(this,n)}}function ui(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t,n){return t&&ci(e.prototype,t),n&&ci(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function hi(e){return function(e){if(Array.isArray(e))return c(e)}(e)||fi(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t,n){return di=ii()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ni(i,n.prototype),i},di.apply(null,arguments)}function pi(e){var t="function"===typeof Map?new Map:void 0;return pi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return di(e,arguments,$r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ni(n,e)},pi(e)}var vi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},mi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},yi=function(e){return function(e){var t=vi(e);return mi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gi=function(e){try{return mi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ki(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ki(e[n],t[n]));return e}var bi=function(){function e(){var t=this;si(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return li(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function wi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yi(JSON.stringify({alg:"none",type:"JWT"})),yi(JSON.stringify(a)),""].join(".")}function _i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_i())}function Ii(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ei(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Si(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ai(){var e=_i();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ti(){return"object"===typeof indexedDB}var Ci=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ti(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ti(a),Ni.prototype.create),a}return li(n)}(pi(Error)),Ni=function(){function e(t,n,r){si(this,e),this.service=t,this.serviceName=n,this.errors=r}return li(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Pi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ci(n,a,t);return o}}]),e}();function Pi(e,t){return e.replace(Oi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Oi=/\{\$([^}]+)}/g;function Di(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ri(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Li(u)&&Li(s)){if(!Ri(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Li(e){return null!==e&&"object"===typeof e}function ji(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Fi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=h(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Mi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ui(e,t){var n=new Vi(e,t);return n.subscribe.bind(n)}var Vi=function(){function e(t,n){var r=this;si(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return li(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ui(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Bi),void 0===r.error&&(r.error=Bi),void 0===r.complete&&(r.complete=Bi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Bi(){}function zi(e){return e&&e._delegate?e._delegate:e}var qi=function(){function e(t,n,r){si(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return li(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Wi="[DEFAULT]",Gi=function(){function e(t,n){si(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return li(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new bi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch(s){}var t,n=ui(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(hi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),hi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ui(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=h(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Wi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.component?this.component.multipleInstances?e:Wi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ki,Hi,Qi=function(){function e(t){si(this,e),this.name=t,this.providers=new Map}return li(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Yi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hi||(Hi={}));var Xi={debug:Hi.DEBUG,verbose:Hi.VERBOSE,info:Hi.INFO,warn:Hi.WARN,error:Hi.ERROR,silent:Hi.SILENT},Ji=Hi.INFO,$i=(Ce(Ki={},Hi.DEBUG,"log"),Ce(Ki,Hi.VERBOSE,"log"),Ce(Ki,Hi.INFO,"info"),Ce(Ki,Hi.WARN,"warn"),Ce(Ki,Hi.ERROR,"error"),Ki),Zi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$i[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ea=function(){function e(t){si(this,e),this.name=t,this._logLevel=Ji,this._logHandler=Zi,this._userLogHandler=null,Yi.push(this)}return li(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Hi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Xi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Hi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Hi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.INFO].concat(t)),this._logHandler.apply(this,[this,Hi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.WARN].concat(t)),this._logHandler.apply(this,[this,Hi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.ERROR].concat(t)),this._logHandler.apply(this,[this,Hi.ERROR].concat(t))}}]),e}();var ta,na;var ra=new WeakMap,ia=new WeakMap,aa=new WeakMap,oa=new WeakMap,ua=new WeakMap;var sa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ia.get(e);if("objectStoreNames"===t)return e.objectStoreNames||aa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ca(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(na||(na=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ha(this),n),fa(ra.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fa(e.apply(ha(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ha(this),t].concat(r));return aa.set(a,t.sort?t.sort():[t]),fa(a)}}function la(e){return"function"===typeof e?ca(e):(e instanceof IDBTransaction&&function(e){if(!ia.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ia.set(e,t)}}(e),t=e,(ta||(ta=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,sa):e);var t}function fa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(fa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ra.set(t,e)})).catch((function(){})),ua.set(t,e),t}(e);if(oa.has(e))return oa.get(e);var t=la(e);return t!==e&&(oa.set(e,t),ua.set(t,e)),t}var ha=function(e){return ua.get(e)};var da,pa,va=["get","getKey","getAll","getAllKeys","count"],ma=["put","add","delete","clear"],ya=new Map;function ga(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ya.get(t))return ya.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ma.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||va.includes(n))){var a=function(){var e=A(E().mark((function e(t){var a,o,u,s,c,l,f=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ya.set(t,a),a}}}sa=function(e){return Pe(Pe({},e),{},{get:function(t,n,r){return ga(t,n)||e.get(t,n,r)},has:function(t,n){return!!ga(t,n)||e.has(t,n)}})}(sa);var ka=function(){function e(t){si(this,e),this.container=t}return li(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ba="@firebase/app",wa="0.7.32",_a=new ea("@firebase/app"),xa="[DEFAULT]",Ia=(Ce(da={},ba,"fire-core"),Ce(da,"@firebase/app-compat","fire-core-compat"),Ce(da,"@firebase/analytics","fire-analytics"),Ce(da,"@firebase/analytics-compat","fire-analytics-compat"),Ce(da,"@firebase/app-check","fire-app-check"),Ce(da,"@firebase/app-check-compat","fire-app-check-compat"),Ce(da,"@firebase/auth","fire-auth"),Ce(da,"@firebase/auth-compat","fire-auth-compat"),Ce(da,"@firebase/database","fire-rtdb"),Ce(da,"@firebase/database-compat","fire-rtdb-compat"),Ce(da,"@firebase/functions","fire-fn"),Ce(da,"@firebase/functions-compat","fire-fn-compat"),Ce(da,"@firebase/installations","fire-iid"),Ce(da,"@firebase/installations-compat","fire-iid-compat"),Ce(da,"@firebase/messaging","fire-fcm"),Ce(da,"@firebase/messaging-compat","fire-fcm-compat"),Ce(da,"@firebase/performance","fire-perf"),Ce(da,"@firebase/performance-compat","fire-perf-compat"),Ce(da,"@firebase/remote-config","fire-rc"),Ce(da,"@firebase/remote-config-compat","fire-rc-compat"),Ce(da,"@firebase/storage","fire-gcs"),Ce(da,"@firebase/storage-compat","fire-gcs-compat"),Ce(da,"@firebase/firestore","fire-fst"),Ce(da,"@firebase/firestore-compat","fire-fst-compat"),Ce(da,"fire-js","fire-js"),Ce(da,"firebase","fire-js-all"),da),Ea=new Map,Sa=new Map;function Aa(e,t){try{e.container.addComponent(t)}catch(n){_a.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ta(e,t){e.container.addOrOverwriteComponent(t)}function Ca(e){var t=e.name;if(Sa.has(t))return _a.debug("There were multiple attempts to register component ".concat(t,".")),!1;Sa.set(t,e);var n,r=ui(Ea.values());try{for(r.s();!(n=r.n()).done;){Aa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Na(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xa;Na(e,t).clearInstance(n)}function Oa(){Sa.clear()}var Da=(Ce(pa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ce(pa,"bad-app-name","Illegal App name: '{$appName}"),Ce(pa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ce(pa,"app-deleted","Firebase App named '{$appName}' already deleted"),Ce(pa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ce(pa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ce(pa,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ce(pa,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ce(pa,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ce(pa,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),pa),Ra=new Ni("app","Firebase",Da),La=function(){function e(t,n,r){var i=this;si(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",(function(){return i}),"PUBLIC"))}return li(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}]),e}(),ja="9.9.4";function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:xa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ra.create("bad-app-name",{appName:String(i)});var a=Ea.get(i);if(a){if(Ri(e,a.options)&&Ri(r,a.config))return a;throw Ra.create("duplicate-app",{appName:i})}var o,u=new Qi(i),s=ui(Sa.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new La(e,r,u);return Ea.set(i,l),l}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=Ea.get(e);if(!t)throw Ra.create("no-app",{appName:e});return t}function Ua(){return Array.from(Ea.values())}function Va(e){return Ba.apply(this,arguments)}function Ba(){return(Ba=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ea.has(n)){e.next=6;break}return Ea.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(e,t,n){var r,i=null!==(r=Ia[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _a.warn(u.join(" "))}Ca(new qi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function qa(e,t){if(null!==e&&"function"!==typeof e)throw Ra.create("invalid-log-argument");!function(e,t){var n,r=ui(Yi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Xi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Hi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Wa(e){var t;t=e,Yi.forEach((function(e){e.setLogLevel(t)}))}var Ga="firebase-heartbeat-store",Ka=null;function Ha(){return Ka||(Ka=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=fa(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(fa(u.result),e.oldVersion,e.newVersion,fa(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ga)}}).catch((function(e){throw Ra.create("idb-open",{originalErrorMessage:e.message})}))),Ka}function Qa(e){return Ya.apply(this,arguments)}function Ya(){return Ya=A(E().mark((function e(t){var n,r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ha();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ga).objectStore(Ga).get($a(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ci?_a.warn(e.t0.message):(i=Ra.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),_a.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ya.apply(this,arguments)}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=A(E().mark((function e(t,n){var r,i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ha();case 3:return i=e.sent,a=i.transaction(Ga,"readwrite"),o=a.objectStore(Ga),e.next=8,o.put(n,$a(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ci?_a.warn(e.t0.message):(u=Ra.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),_a.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ja.apply(this,arguments)}function $a(e){return"".concat(e.name,"!").concat(e.options.appId)}var Za=function(){function e(t){var n=this;si(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ro(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return li(e,[{key:"triggerHeartbeat",value:function(){var e=A(E().mark((function e(){var t,n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=eo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=A(E().mark((function e(){var t,n,r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=eo(),n=to(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=yi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eo(){return(new Date).toISOString().substring(0,10)}function to(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ui(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),io(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),io(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var no,ro=function(){function e(t){si(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return li(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ti()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Qa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(hi(r.heartbeats),hi(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function io(e){return yi(JSON.stringify({version:2,heartbeats:e})).length}no="",Ca(new qi("platform-logger",(function(e){return new ka(e)}),"PRIVATE")),Ca(new qi("heartbeat",(function(e){return new Za(e)}),"PRIVATE")),za(ba,wa,no),za(ba,wa,"esm2017"),za("fire-js","");function ao(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var oo;Object.create;var uo="facebook.com",so="github.com",co="google.com",lo="password",fo="twitter.com",ho="EMAIL_SIGNIN",po="PASSWORD_RESET",vo="RECOVER_EMAIL",mo="REVERT_SECOND_FACTOR_ADDITION",yo="VERIFY_AND_CHANGE_EMAIL",go="VERIFY_EMAIL";function ko(){return Ce({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var bo=function(){var e;return Ce(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ce(e,"argument-error",""),Ce(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ce(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ce(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ce(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ce(e,"cordova-not-ready","Cordova framework is not ready."),Ce(e,"cors-unsupported","This browser is not supported."),Ce(e,"credential-already-in-use","This credential is already associated with a different user account."),Ce(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ce(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ce(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ce(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ce(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ce(e,"email-already-in-use","The email address is already in use by another account."),Ce(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ce(e,"expired-action-code","The action code has expired."),Ce(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ce(e,"internal-error","An internal AuthError has occurred."),Ce(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ce(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ce(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ce(e,"invalid-auth-event","An internal AuthError has occurred."),Ce(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ce(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ce(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ce(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ce(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ce(e,"invalid-email","The email address is badly formatted."),Ce(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ce(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ce(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ce(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ce(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ce(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ce(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ce(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ce(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ce(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ce(e,"wrong-password","The password is invalid or the user does not have a password."),Ce(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ce(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ce(e,"invalid-provider-id","The specified provider ID is invalid."),Ce(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ce(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ce(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ce(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ce(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ce(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ce(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ce(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ce(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ce(e,"missing-continue-uri","A continue URL must be provided in the request."),Ce(e,"missing-iframe-start","An internal AuthError has occurred."),Ce(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ce(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ce(e,"missing-multi-factor-info","No second factor identifier is provided."),Ce(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ce(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ce(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ce(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ce(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ce(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ce(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ce(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ce(e,"no-auth-event","An internal AuthError has occurred."),Ce(e,"no-such-provider","User was not linked to an account with the given provider."),Ce(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ce(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ce(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ce(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ce(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ce(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ce(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ce(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ce(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ce(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ce(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ce(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ce(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ce(e,"timeout","The operation has timed out."),Ce(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ce(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ce(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ce(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ce(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ce(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ce(e,"unverified-email","The operation requires a verified email."),Ce(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ce(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ce(e,"user-disabled","The user account has been disabled by an administrator."),Ce(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ce(e,"user-signed-out",""),Ce(e,"weak-password","The password must be 6 characters long or more."),Ce(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ce(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},wo=ko,_o=new Ni("auth","Firebase",ko()),xo=new ea("@firebase/auth");function Io(e){if(xo.logLevel<=Hi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xo.error.apply(xo,["Auth (".concat(ja,"): ").concat(e)].concat(n))}}function Eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Co.apply(void 0,[e].concat(n))}function So(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Co.apply(void 0,[e].concat(n))}function Ao(e,t,n){var r=Object.assign(Object.assign({},wo()),Ce({},t,n));return new Ni("auth","Firebase",r).create(t,{appName:e.name})}function To(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Eo(e,"argument-error"),Ao(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Co(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=hi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(hi(o)))}return _o.create.apply(_o,[e].concat(n))}function No(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Co.apply(void 0,[t].concat(r))}}function Po(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Io(t),new Error(t)}function Oo(e,t){e||Po(t)}var Do=new Map;function Ro(e){Oo(e instanceof Function,"Expected a class definition");var t=Do.get(e);return t?(Oo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Do.set(e,t),t)}function Lo(e,t){var n=Na(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ri(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Eo(r,"already-initialized")}return n.initialize({options:t})}function jo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fo(){return"http:"===Mo()||"https:"===Mo()}function Mo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Uo=function(){function e(t,n){si(this,e),this.shortDelay=t,this.longDelay=n,Oo(n>t,"Short delay should be less than long delay!"),this.isMobile=xi()||Si()}return li(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fo()||Ei()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Vo(e,t){Oo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bo=function(){function e(){si(this,e)}return li(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zo=(Ce(oo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ce(oo,"MISSING_CUSTOM_TOKEN","internal-error"),Ce(oo,"INVALID_IDENTIFIER","invalid-email"),Ce(oo,"MISSING_CONTINUE_URI","internal-error"),Ce(oo,"INVALID_PASSWORD","wrong-password"),Ce(oo,"MISSING_PASSWORD","internal-error"),Ce(oo,"EMAIL_EXISTS","email-already-in-use"),Ce(oo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ce(oo,"INVALID_IDP_RESPONSE","invalid-credential"),Ce(oo,"INVALID_PENDING_TOKEN","invalid-credential"),Ce(oo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ce(oo,"MISSING_REQ_TYPE","internal-error"),Ce(oo,"EMAIL_NOT_FOUND","user-not-found"),Ce(oo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ce(oo,"EXPIRED_OOB_CODE","expired-action-code"),Ce(oo,"INVALID_OOB_CODE","invalid-action-code"),Ce(oo,"MISSING_OOB_CODE","internal-error"),Ce(oo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ce(oo,"INVALID_ID_TOKEN","invalid-user-token"),Ce(oo,"TOKEN_EXPIRED","user-token-expired"),Ce(oo,"USER_NOT_FOUND","user-token-expired"),Ce(oo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ce(oo,"INVALID_CODE","invalid-verification-code"),Ce(oo,"INVALID_SESSION_INFO","invalid-verification-id"),Ce(oo,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ce(oo,"MISSING_SESSION_INFO","missing-verification-id"),Ce(oo,"SESSION_EXPIRED","code-expired"),Ce(oo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ce(oo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ce(oo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ce(oo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ce(oo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ce(oo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ce(oo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ce(oo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ce(oo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ce(oo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ce(oo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),oo),qo=new Uo(3e4,6e4);function Wo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Go(e,t,n,r){return Ko.apply(this,arguments)}function Ko(){return Ko=A(E().mark((function e(t,n,r,i){var a,o=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ho(t,a,A(E().mark((function e(){var a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ji(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bo.fetch()(Jo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Ho(e,t,n){return Qo.apply(this,arguments)}function Qo(){return Qo=A(E().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zo),n),e.prev=2,a=new $o(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Zo(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=h(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Zo(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Zo(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Zo(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ao(t,p,d);case 34:Eo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ci)){e.next=41;break}throw e.t0;case 41:Eo(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Qo.apply(this,arguments)}function Yo(e,t,n,r){return Xo.apply(this,arguments)}function Xo(){return Xo=A(E().mark((function e(t,n,r,i){var a,o,u=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Go(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Eo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Vo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var $o=function(){function e(t){var n=this;si(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(So(n.auth,"network-request-failed"))}),qo.get())}))}return li(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Zo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=So(e,t,r);return i.customData._tokenResponse=n,i}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return au=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function uu(){return uu=A(E().mark((function e(t){var n,r,i,a,o,u,s=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=zi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,No((a=cu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ou(su(a.auth_time)),issuedAtTime:ou(su(a.iat)),expirationTime:ou(su(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e){return 1e3*Number(e)}function cu(e){var t,n=h(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Io("JWT malformed, contained fewer than 3 sections"),null;try{var o=gi(i);return o?JSON.parse(o):(Io("Failed to decode base64 JWT payload"),null)}catch(u){return Io("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=A(E().mark((function e(t,n){var r=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ci&&hu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fu.apply(this,arguments)}function hu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var du=function(){function e(t){si(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return li(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pu=function(){function e(t,n){si(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return li(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function vu(e){return mu.apply(this,arguments)}function mu(){return mu=A(E().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,lu(t,iu(r,{idToken:i}));case 6:No(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ku(o.providerUserInfo):[],s=gu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new pu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(){return(yu=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zi(t),e.next=3,vu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(hi(n),hi(t))}function ku(e){return e.map((function(e){var t=e.providerId,n=ao(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function bu(e,t){return wu.apply(this,arguments)}function wu(){return wu=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ho(t,{},A(E().mark((function e(){var r,i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ji({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Jo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}var _u=function(){function e(){si(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return li(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){No(e.idToken,"internal-error"),No("undefined"!==typeof e.idToken,"internal-error"),No("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=cu(e);return No(t,"internal-error"),No("undefined"!==typeof t.exp,"internal-error"),No("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=A(E().mark((function e(t){var n,r=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],No(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Po("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(No("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(No("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(No("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function xu(e,t){No("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Iu=function(){function e(t){si(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ao(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new du(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?hi(a.providerData):[],this.metadata=new pu(a.createdAt||void 0,a.lastLoginAt||void 0)}return li(e,[{key:"getIdToken",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(No(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return uu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return yu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(No(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){No(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=A(E().mark((function e(t){var n,r,i=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,vu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,lu(this,eu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;No(k&&x,t,"internal-error");var I=_u.fromJSON(this.name,x);No("string"===typeof k,t,"internal-error"),xu(f,t.name),xu(h,t.name),No("boolean"===typeof b,t,"internal-error"),No("boolean"===typeof w,t,"internal-error"),xu(d,t.name),xu(p,t.name),xu(v,t.name),xu(m,t.name),xu(y,t.name),xu(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=A(E().mark((function t(n,r){var i,a,o,u=arguments;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new _u).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,vu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Eu=function(){function e(){si(this,e),this.type="NONE",this.storage={}}return li(e,[{key:"_isAvailable",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Eu.type="NONE";var Su=Eu;function Au(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Tu=function(){function e(t,n,r){si(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Au(this.userKey,a.apiKey,o),this.fullPersistenceKey=Au("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return li(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Iu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=A(E().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ro(Su),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ro(Su),u=Au(i,n.config.apiKey,n.name),s=null,c=ui(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Iu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Cu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Du(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lu(t))return"Blackberry";if(ju(t))return"Webos";if(Pu(t))return"Safari";if((t.includes("chrome/")||Ou(t))&&!t.includes("edge/"))return"Chrome";if(Ru(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/firefox\//i.test(e)}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/crios\//i.test(e)}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/iemobile/i.test(e)}function Ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/android/i.test(e)}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/blackberry/i.test(e)}function ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/webos/i.test(e)}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return Fu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Uu(){return Ai()&&10===document.documentMode}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return Fu(e)||Ru(e)||ju(e)||Lu(e)||/windows phone/i.test(e)||Du(e)}function Bu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Cu(_i());break;case"Worker":t="".concat(Cu(_i()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ja,"/").concat(r)}var zu=function(){function e(t){si(this,e),this.auth=t,this.queue=[]}return li(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=A(E().mark((function e(t){var n,r,i,a,o,u,s,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=ui(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=ui(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(K){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qu=function(){function e(t,n,r){si(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gu(this),this.idTokenSubscription=new Gu(this),this.beforeStateQueue=new zu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_o,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return li(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ro(t)),this._initializationPromise=this.queue(A(E().mark((function r(){var i,a;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Tu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=A(E().mark((function e(t){var n,r,i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return No(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?zi(t):null)&&No(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=A(E().mark((function e(t){var n,r=this,i=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&No(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(A(E().mark((function n(){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ro(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ni("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return No(n=t&&Ro(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Tu.create(this,[Ro(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=A(E().mark((function e(t){var n=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return No(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return No(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=A(E().mark((function e(){var t,n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ce({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wu(e){return zi(e)}var Gu=function(){function e(t){var n=this;si(this,e),this.auth=t,this.observer=null,this.addObserver=Ui((function(e){return n.observer=e}))}return li(e,[{key:"next",get:function(){return No(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ku(e,t,n){var r=Wu(e);No(r._canInitEmulator,r,"emulator-config-failed"),No(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hu(t),o=function(e){var t=Hu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Qu(r.substr(a.length+1))}}var o=h(r.split(":"),2);return{host:o[0],port:Qu(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Yu=function(){function e(t,n){si(this,e),this.providerId=t,this.signInMethod=n}return li(e,[{key:"toJSON",value:function(){return Po("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Po("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Po("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Po("not implemented")}}]),e}();function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:resetPassword",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function $u(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithPassword",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:sendOobCode",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,n));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,n));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,n));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,n));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithEmailLink",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return ys=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithEmailLink",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}var gs=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return si(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return li(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ns(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ps(t,{email:this._email,oobCode:this._password}));case 5:Eo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$u(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ms(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Eo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Yu);function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithIdp",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}var ws=function(e){ri(n,e);var t=oi(n);function n(){var e;return si(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return li(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ks(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ks(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ji(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Eo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ao(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Yu);function _s(e,t){return xs.apply(this,arguments)}function xs(){return xs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:sendVerificationCode",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function Is(){return Is=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Es(){return Es=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Wo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Zo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Ss=Ce({},"USER_NOT_FOUND","user-not-found");function As(){return As=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithPhoneNumber",Wo(t,r),Ss));case 2:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Ts=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this,"phone","phone")).params=e,r}return li(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Is.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Es.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return As.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Yu);var Cs=function(){function e(t){var n,r,i,a,o,u;si(this,e);var s=Fi(Mi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);No(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return li(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Fi(Mi(e)).link,n=t?Fi(Mi(t)).deep_link_id:null,r=Fi(Mi(e)).deep_link_id;return(r?Fi(Mi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ns=function(){function e(){si(this,e),this.providerId=e.PROVIDER_ID}return li(e,null,[{key:"credential",value:function(e,t){return gs._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Cs.parseLink(t);return No(n,"argument-error"),gs._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ns.PROVIDER_ID="password",Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ps=function(){function e(t){si(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return li(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Os=function(e){ri(n,e);var t=oi(n);function n(){var e;return si(this,n),(e=t.apply(this,arguments)).scopes=[],e}return li(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return hi(this.scopes)}}]),n}(Ps),Ds=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return No(e.idToken||e.accessToken,"argument-error"),ws._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return No("providerId"in t&&"signInMethod"in t,"argument-error"),ws._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Os),Rs=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.call(this,"facebook.com")}return li(n,null,[{key:"credential",value:function(e){return ws._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Os);Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rs.PROVIDER_ID="facebook.com";var Ls=function(e){ri(n,e);var t=oi(n);function n(){var e;return si(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return li(n,null,[{key:"credential",value:function(e,t){return ws._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Os);Ls.GOOGLE_SIGN_IN_METHOD="google.com",Ls.PROVIDER_ID="google.com";var js=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.call(this,"github.com")}return li(n,null,[{key:"credential",value:function(e){return ws._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Os);js.GITHUB_SIGN_IN_METHOD="github.com",js.PROVIDER_ID="github.com";var Fs=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return li(n,[{key:"_getIdTokenResponse",value:function(e){return ks(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ks(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ks(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yu),Ms=function(e){ri(n,e);var t=oi(n);function n(e){return si(this,n),No(e.startsWith("saml."),"argument-error"),t.call(this,e)}return li(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Fs.fromJSON(e);return No(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Fs._create(r,n)}catch(i){return null}}}]),n}(Ps),Us=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.call(this,"twitter.com")}return li(n,null,[{key:"credential",value:function(e,t){return ws._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Os);function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signUp",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}Us.TWITTER_SIGN_IN_METHOD="twitter.com",Us.PROVIDER_ID="twitter.com";var zs=function(){function e(t){si(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return li(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=A(E().mark((function t(n,r,i){var a,o,u,s,c=arguments;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Iu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=qs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=A(E().mark((function t(n,r,i){var a;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=qs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function qs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ws(){return Ws=A(E().mark((function e(t){var n,r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new zs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Vs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,zs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Gs=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a){var o,u;return si(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ti(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return li(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ci);function Ks(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Gs._fromErrorAndOperation(e,n,t,r);throw n}))}function Hs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Qs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,$s(!0,r,n);case 3:return e.t0=nu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Hs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t){return Js.apply(this,arguments)}function Js(){return Js=A(E().mark((function e(t,n){var r,i,a=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=lu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function $s(e,t,n){return Zs.apply(this,arguments)}function Zs(){return(Zs=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vu(n);case 2:i=Hs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",No(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=A(E().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,lu(t,Ks(a,o,n,t),r);case 6:return No((u=e.sent).idToken,a,"internal-error"),No(s=cu(u.idToken),a,"internal-error"),c=s.sub,No(t.uid===c,a,"user-mismatch"),e.abrupt("return",zs._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Eo(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=A(E().mark((function e(t,n){var r,i,a,o,u=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ks(t,i,n);case 4:return a=e.sent,e.next=7,zs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(Wu(t),n));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return(uc=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,$s(!1,r,n.providerId);case 3:return e.abrupt("return",Xs(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return(cc=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ec(zi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return fc=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yo(t,"POST","/v1/accounts:signInWithCustomToken",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(){return hc=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,lc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,zs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}var dc=function(){function e(t,n){si(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return li(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?pc._fromServerResponse(e,t):Eo(e,"internal-error")}}]),e}(),pc=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return li(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(dc);function vc(e,t,n){var r;No((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),No("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(No(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(No(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function mc(){return mc=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),a={requestType:"PASSWORD_RESET",email:n},r&&vc(i,a,r),e.next=5,ss(i,a);case 5:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(){return yc=A(E().mark((function e(t,n,r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(zi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(){return gc=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es(zi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,Xu(r,{oobCode:n});case 3:i=e.sent,No(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return No(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:No(i.mfaInfo,r,"internal-error");case 13:No(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=dc._fromServerResponse(Wu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(){return wc=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(zi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function _c(e,t,n){return xc.apply(this,arguments)}function xc(){return xc=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,Vs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,zs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Ic(e,t,n){return ic(zi(e),Ns.credential(t,n))}function Ec(){return Ec=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),a={requestType:"EMAIL_SIGNIN",email:n},No(r.handleCodeInApp,i,"argument-error"),r&&vc(i,a,r),e.next=6,ls(i,a);case 6:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Sc(){return Sc=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),No((a=Ns.credentialWithLink(n,r||jo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ic(i,a));case 4:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ac(e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:createAuthUri",Wo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(){return Cc=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fo()?jo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ac(zi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&vc(r.auth,a,n),e.next=8,os(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(){return(Oc=A(E().mark((function e(t,n,r){var i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&vc(i.auth,o,r),e.next=8,hs(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Lc(){return(Lc=A(E().mark((function e(t,n){var r,i,a,o,u,s,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=zi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,lu(a,Dc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=A(E().mark((function e(t,n,r){var i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,lu(t,$u(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}var Mc=li((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};si(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Uc=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a){var o;return si(this,n),(o=t.call(this,e,r,i)).username=a,o}return li(n)}(Mc),Vc=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"facebook.com",r)}return li(n)}(Mc),Bc=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return li(n)}(Uc),zc=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"google.com",r)}return li(n)}(Mc),qc=function(e){ri(n,e);var t=oi(n);function n(e,r,i){return si(this,n),t.call(this,e,"twitter.com",r,i)}return li(n)}(Uc);function Wc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=cu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Mc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Vc(a,i);case"github.com":return new Bc(a,i);case"google.com":return new zc(a,i);case"twitter.com":return new qc(a,i,e.screenName||null);case"custom":case"anonymous":return new Mc(a,null);default:return new Mc(a,r,i)}}(n)}var Gc=function(){function e(t,n){si(this,e),this.type=t,this.credential=n}return li(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ce({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Kc=function(){function e(t,n,r){si(this,e),this.session=t,this.hints=n,this.signInResolver=r}return li(e,[{key:"resolveSignIn",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return dc._fromServerResponse(r,e)}));No(i.mfaPendingCredential,r,"internal-error");var o=Gc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=A(E().mark((function e(t){var a,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,zs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return No(n.user,r,"internal-error"),e.abrupt("return",zs._forOperation(n.user,n.operationType,u));case 17:Eo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Hc(e,t){return Go(e,"POST","/v2/accounts/mfaEnrollment:start",Wo(e,t))}function Qc(e,t){return Go(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Wo(e,t))}var Yc=function(){function e(t){var n=this;si(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return dc._fromServerResponse(t.auth,e)})))}))}return li(e,[{key:"getSession",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Gc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,lu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=A(E().mark((function e(t){var n,r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,lu(this.user,Qc(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Xc=new WeakMap;var Jc="__sak",$c=function(){function e(t,n){si(this,e),this.storageRetriever=t,this.type=n}return li(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zc=function(e){ri(n,e);var t=oi(n);function n(){var e;return si(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=_i();return Pu(e)||Fu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Vu(),e._shouldAllowMigration=!0,e}return li(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Uu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=A(E().mark((function e(t,r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei($r(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=A(E().mark((function e(t){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei($r(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei($r(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($c);Zc.type="LOCAL";var el=Zc,tl=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return li(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}($c);tl.type="SESSION";var nl=tl;function rl(e){return Promise.all(e.map(function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var il=function(){function e(t){si(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return li(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=A(E().mark((function e(t){var n,r,i,a,o,u,s,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,rl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function al(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}il.receivers=[];var ol=function(){function e(t){si(this,e),this.target=t,this.handlers=new Set}return li(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=A(E().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=al("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ul(){return window}function sl(){return"undefined"!==typeof ul().WorkerGlobalScope&&"function"===typeof ul().importScripts}function cl(){return ll.apply(this,arguments)}function ll(){return(ll=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function fl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var hl="firebaseLocalStorageDb",dl="firebaseLocalStorage",pl="fbase_key",vl=function(){function e(t){si(this,e),this.request=t}return li(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ml(e,t){return e.transaction([dl],t?"readwrite":"readonly").objectStore(dl)}function yl(){var e=indexedDB.deleteDatabase(hl);return new vl(e).toPromise()}function gl(){var e=indexedDB.open(hl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(dl,{keyPath:pl})}catch(r){n(r)}})),e.addEventListener("success",A(E().mark((function n(){var r;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(dl)){n.next=12;break}return r.close(),n.next=5,yl();case 5:return n.t0=t,n.next=8,gl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function kl(e,t,n){return bl.apply(this,arguments)}function bl(){return bl=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ml(t,!0).put((Ce(i={},pl,n),Ce(i,"value",r),i)),e.abrupt("return",new vl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t){return _l.apply(this,arguments)}function _l(){return _l=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ml(t,!1).get(n),e.next=3,new vl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function xl(e,t){var n=ml(e,!0).delete(t);return new vl(n).toPromise()}var Il=function(){function e(){si(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return li(e,[{key:"_openDb",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,gl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=A(E().mark((function e(){var t=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=il._getInstance(sl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=A(E().mark((function e(n,r){var i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=A(E().mark((function e(){var t,n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ol(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&fl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,gl();case 5:return t=e.sent,e.next=8,kl(t,Jc,"1");case 8:return e.next=10,xl(t,Jc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=A(E().mark((function e(t,n){var r=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return kl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return wl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=A(E().mark((function e(t){var n=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=A(E().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ml(e,!1).getAll();return new vl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ui(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Il.type="LOCAL";var El=Il;function Sl(e,t){return Go(e,"POST","/v2/accounts/mfaSignIn:start",Wo(e,t))}function Al(e){return Tl.apply(this,arguments)}function Tl(){return Tl=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=So("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Nl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Pl=1e12,Ol=function(){function e(t){si(this,e),this.auth=t,this.counter=Pl,this._widgets=new Map}return li(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Dl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Pl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Pl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Pl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Dl=function(){function e(t,n,r){var i=this;si(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;No(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return li(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Rl=Nl("rcb"),Ll=new Uo(3e4,6e4),jl="https://www.google.com/recaptcha/api.js?",Fl=function(){function e(){var t;si(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ul().grecaptcha)||void 0===t?void 0:t.render)}return li(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return No(Ml(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ul().grecaptcha):new Promise((function(r,i){var a=ul().setTimeout((function(){i(So(e,"network-request-failed"))}),Ll.get());ul()[Rl]=function(){ul().clearTimeout(a),delete ul()[Rl];var o=ul().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(So(e,"internal-error"))},Cl("".concat(jl,"?").concat(ji({onload:Rl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(So(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ul().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ml(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ul=function(){function e(){si(this,e)}return li(e,[{key:"load",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ol(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Vl="recaptcha",Bl={theme:"light",type:"image"},zl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Bl),r=arguments.length>2?arguments[2]:void 0;si(this,e),this.parameters=n,this.type=Vl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wu(r),this.isInvisible="invisible"===this.parameters.size,No("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;No(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ul:new Fl,this.validateStartingState()}return li(e,[{key:"verify",value:function(){var e=A(E().mark((function e(){var t,n,r,i=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){No(!this.parameters.sitekey,this.auth,"argument-error"),No(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),No("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ul()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){No(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=A(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return No(Fo()&&!sl(),this.auth,"internal-error"),e.next=3,ql();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Al(this.auth);case 8:No(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return No(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ql(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Wl=function(){function e(t,n){si(this,e),this.verificationId=t,this.onConfirmation=n}return li(e,[{key:"confirm",value:function(e){var t=Ts._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Gl(){return Gl=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,Yl(i,n,zi(r));case 3:return a=e.sent,e.abrupt("return",new Wl(a,(function(e){return ic(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Kl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return(Hl=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),e.next=3,$s(!1,i,"phone");case 3:return e.next=5,Yl(i.auth,n,zi(r));case 5:return a=e.sent,e.abrupt("return",new Wl(a,(function(e){return oc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(){return(Ql=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),e.next=3,Yl(i.auth,n,zi(r));case 3:return a=e.sent,e.abrupt("return",new Wl(a,(function(e){return sc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t,n){return Xl.apply(this,arguments)}function Xl(){return Xl=A(E().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,No("string"===typeof a,t,"argument-error"),No(r.type===Vl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return No("enroll"===u.type,t,"internal-error"),e.next=13,Hc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return No("signin"===u.type,t,"internal-error"),No(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Sl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,_s(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Xl.apply(this,arguments)}function Jl(){return(Jl=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(zi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $l=function(){function e(t){si(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wu(t)}return li(e,[{key:"verifyPhoneNumber",value:function(e,t){return Yl(this.auth,e,zi(t))}}],[{key:"credential",value:function(e,t){return Ts._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ts._fromTokenResponse(n,r):null}}]),e}();function Zl(e,t){return t?Ro(t):(No(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$l.PROVIDER_ID="phone",$l.PHONE_SIGN_IN_METHOD="phone";var ef=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this,"custom","custom")).params=e,r}return li(n,[{key:"_getIdTokenResponse",value:function(e){return ks(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ks(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ks(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Yu);function tf(e){return nc(e.auth,new ef(e),e.bypassAuthState)}function nf(e){var t=e.auth,n=e.user;return No(n,t,"internal-error"),ec(n,new ef(e),e.bypassAuthState)}function rf(e){return af.apply(this,arguments)}function af(){return af=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,No(r=t.user,n,"internal-error"),e.abrupt("return",Xs(r,new ef(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}var of=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];si(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return li(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=A(E().mark((function t(n,r){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=A(E().mark((function e(t){var n,r,i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tf;case"linkViaPopup":case"linkViaRedirect":return rf;case"reauthViaPopup":case"reauthViaRedirect":return nf;default:Eo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),uf=new Uo(2e3,1e4);function sf(e,t,n){return cf.apply(this,arguments)}function cf(){return cf=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),To(t,n,Ps),a=Zl(i,r),o=new df(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(){return(lf=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To((i=zi(t)).auth,n,Ps),a=Zl(i.auth,r),o=new df(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return(hf=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To((i=zi(t)).auth,n,Ps),a=Zl(i.auth,r),o=new df(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var df=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a,o){var u;return si(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ti(u),u}return li(n,[{key:"executeNotNull",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return No(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=A(E().mark((function e(){var t,n=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oo(1===this.filter.length,"Popup operations only handle one event"),t=al(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(So(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(So(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(So(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,uf.get())}()}}]),n}(of);df.currentPopupAction=null;var pf=new Map,vf=function(e){ri(n,e);var t=oi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return si(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return li(n,[{key:"execute",value:function(){var e=A(E().mark((function e(){var t,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,mf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ei($r(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:pf.set(this.auth._key(),t);case 21:return this.bypassAuthState||pf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=A(E().mark((function e(t){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ei($r(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ei($r(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(of);function mf(e,t){return yf.apply(this,arguments)}function yf(){return yf=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(n),i=wf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}function gf(e,t){return kf.apply(this,arguments)}function kf(){return kf=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wf(t)._set(_f(n),"true"));case 1:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(e,t){pf.set(e._key(),t)}function wf(e){return Ro(e._redirectPersistence)}function _f(e){return Au("pendingRedirect",e.config.apiKey,e.name)}function xf(e,t,n){return function(e,t,n){return If.apply(this,arguments)}(e,t,n)}function If(){return If=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),To(t,n,Ps),a=Zl(i,r),e.next=5,gf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Ef(e,t,n){return function(e,t,n){return Sf.apply(this,arguments)}(e,t,n)}function Sf(){return(Sf=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To((i=zi(t)).auth,n,Ps),a=Zl(i.auth,r),e.next=5,gf(a,i.auth);case 5:return e.next=7,Df(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e,t,n){return function(e,t,n){return Tf.apply(this,arguments)}(e,t,n)}function Tf(){return(Tf=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To((i=zi(t)).auth,n,Ps),a=Zl(i.auth,r),e.next=5,$s(!1,i,n.providerId);case 5:return e.next=7,gf(a,i.auth);case 7:return e.next=9,Df(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu(t)._initializationPromise;case 2:return e.abrupt("return",Pf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Pf(e,t){return Of.apply(this,arguments)}function Of(){return Of=A(E().mark((function e(t,n){var r,i,a,o,u,s=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Wu(t),a=Zl(i,n),o=new vf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Df(e){return Rf.apply(this,arguments)}function Rf(){return(Rf=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=al("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lf=function(){function e(t){si(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return li(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ff(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ff(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(So(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(jf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function jf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ff(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Mf(e){return Uf.apply(this,arguments)}function Uf(){return Uf=A(E().mark((function e(t){var n,r=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Go(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}var Vf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bf=/^https?/;function zf(){return zf=A(E().mark((function e(t){var n,r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Mf(t);case 4:n=e.sent,r=n.authorizedDomains,i=ui(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!qf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Eo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),zf.apply(this,arguments)}function qf(e){var t=jo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Bf.test(r))return!1;if(Vf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Wf=new Uo(3e4,6e4);function Gf(){var e=ul().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=hi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Kf=null;function Hf(e){return Kf=Kf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Gf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Gf(),n(So(e,"network-request-failed"))},timeout:Wf.get()})}if(null===(i=null===(r=ul().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ul().gapi)||void 0===a?void 0:a.load)){var u=Nl("iframefcb");return ul()[u]=function(){gapi.load?o():n(So(e,"network-request-failed"))},Cl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Kf=null,e}))}(e),Kf}var Qf=new Uo(5e3,15e3),Yf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jf(e){var t=e.config;No(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Vo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ja},i=Xf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ji(r).slice(1))}function $f(e){return Zf.apply(this,arguments)}function Zf(){return Zf=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hf(t);case 2:return n=e.sent,No(r=ul().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Jf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yf,dontclear:!0},(function(e){return new Promise(function(){var n=A(E().mark((function n(r,i){var a,o,u;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ul().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=So(t,"network-request-failed"),o=ul().setTimeout((function(){i(a)}),Qf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}var eh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},th="_blank",nh="http://localhost",rh=function(){function e(t){si(this,e),this.window=t,this.associatedEvent=null}return li(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ih(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},eh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=_i().toLowerCase();n&&(u=Ou(c)?th:n),Nu(c)&&(t=t||nh,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Mu(c)&&"_self"!==u)return ah(t||"",u),new rh(null);var f=window.open(t||"",u,l);No(f,e,"popup-blocked");try{f.focus()}catch(d){}return new rh(f)}function ah(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var oh="__/auth/handler",uh="emulator/auth/handler";function sh(e,t,n,r,i,a){No(e.config.authDomain,e,"auth-domain-config-required"),No(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ja,eventId:i};if(t instanceof Ps){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=h(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Os){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(oh);return Vo(t,uh)}(e),"?").concat(ji(p).slice(1))}var ch="webStorageSupport",lh=function(){function e(){si(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nl,this._completeRedirectFn=Pf,this._overrideRedirectResult=bf}return li(e,[{key:"_openPopup",value:function(){var e=A(E().mark((function e(t,n,r,i){var a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=sh(t,n,r,jo(),i),e.abrupt("return",ih(t,o,al()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=A(E().mark((function e(t,n,r,i){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=sh(t,n,r,jo(),i),ul().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Oo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f(t);case 2:return n=e.sent,r=new Lf(t),n.register("authEvent",(function(e){return No(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ch,{type:ch},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Eo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Vu()||Pu()||Fu()}}]),e}(),fh=lh,hh=function(){function e(t){si(this,e),this.factorId=t}return li(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Po("unexpected MultiFactorSessionType")}}}]),e}(),dh=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this,"phone")).credential=e,r}return li(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Go(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Go(e,"POST","/v2/accounts/mfaSignIn:finalize",Wo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(hh),ph=function(){function e(){si(this,e)}return li(e,null,[{key:"assertion",value:function(e){return dh._fromCredential(e)}}]),e}();ph.FACTOR_ID="phone";var vh,mh="@firebase/auth",yh="0.20.6",gh=function(){function e(t){si(this,e),this.auth=t,this.internalListeners=new Map}return li(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){No(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function kh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma(),t=Na(e,"auth");return t.isInitialized()?t.getImmediate():Lo(e,{popupRedirectResolver:fh,persistence:[El,el,nl]})}function bh(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function wh(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}vh="Browser",Ca(new qi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){No(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),No(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:vh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bu(vh)},i=new qu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ro);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ca(new qi("auth-internal",(function(e){return function(e){return new gh(e)}(Wu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),za(mh,yh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vh)),za(mh,yh,"esm2017");var _h,xh=function(){return xh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xh.apply(this,arguments)},Ih=function(e){return{loading:void 0===e||null===e,value:e}},Eh=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return xh(xh({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Ih(t.defaultValue);case"value":return xh(xh({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Ih(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},Sh=function(e,n){var r=Eh((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,u=r.setValue,s=r.value;(0,t.useEffect)((function(){var t=function(e,t,n,r){return zi(e).onAuthStateChanged(t,n,r)}(e,(function(e){return bh(void 0,void 0,void 0,(function(){var t;return wh(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){t()}}),[e]);var c=[s,a,i];return(0,t.useMemo)((function(){return c}),c)},Ah=function(){function e(t,n){var r=this;si(this,e),this._delegate=t,this.firebase=n,Aa(t,new qi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return li(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Va(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Aa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ta(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Th=(Ce(_h={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ce(_h,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_h),Ch=new Ni("app-compat","Firebase",Th);var Nh=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Di(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:za,setLogLevel:Wa,onLog:qa,apps:null,SDK_VERSION:ja,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ca(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ch.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ki(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Di(n,e=e||xa))throw Ch.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ah);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ki(n,e)},createSubscribe:Ui,ErrorFactory:Ni,deepExtend:ki}),n}(),Ph=new ea("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ph.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Oh=self.firebase.SDK_VERSION;Oh&&Oh.indexOf("LITE")>=0&&Ph.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Dh=Nh;!function(e){za("@firebase/app-compat","0.1.33",e)}();function Rh(){return window}Dh.registerVersion("firebase","9.9.4","app-compat");function Lh(e,t,n){return jh.apply(this,arguments)}function jh(){return jh=A(E().mark((function e(t,n,r){var i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rh(),o=a.BuildInfo,Oo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zh(n.sessionId);case 4:return u=e.sent,s={},Fu()?s.ibi=o.packageName:Ru()?s.apn=o.packageName:Eo(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",sh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Fh(){return Fh=A(E().mark((function e(t){var n,r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(),r=n.BuildInfo,i={},Fu()?i.iosBundleId=r.packageName:Ru()?i.androidPackageName=r.packageName:Eo(t,"operation-not-supported-in-this-environment"),e.next=5,Mf(t,i);case 5:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Mh(e){var t=Rh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Uh(e,t,n){return Vh.apply(this,arguments)}function Vh(){return Vh=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(So(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ru()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Vh.apply(this,arguments)}function Bh(e){var t,n,r,i,a,o,u,s,c,l,f=Rh();No("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),No("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),No("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),No("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),No("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zh(e){return qh.apply(this,arguments)}function qh(){return(qh=A(E().mark((function e(t){var n,r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wh(e){if(Oo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Gh=function(e){ri(n,e);var t=oi(n);function n(){var e;return si(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return li(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ei($r(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Lf);function Kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Jh(),postBody:null,tenantId:e.tenantId,error:So(e,"no-auth-event")}}function Hh(e,t){return $h()._set(Zh(e),t)}function Qh(e){return Yh.apply(this,arguments)}function Yh(){return Yh=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$h()._get(Zh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,$h()._remove(Zh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function Xh(e,t){var n,r,i=function(e){var t=ed(e),n=t.link?decodeURIComponent(t.link):void 0,r=ed(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ed(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ed(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?So(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function $h(){return Ro(el)}function Zh(e){return Au("authEvent",e.config.apiKey,e.name)}function ed(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=s(t=n)||fi(t)||l(t)||f();r[0];return Fi(r.slice(1).join("?"))}var td=function(){function e(){si(this,e),this._redirectPersistence=nl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pf,this._overrideRedirectResult=bf}return li(e,[{key:"_initialize",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Gh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Eo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=A(E().mark((function e(t,n,r,i){var a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),pf.clear(),e.next=10,this._originValidation(t);case 10:return o=Kh(t,r,i),e.next=13,Hh(t,o);case 13:return e.next=15,Lh(t,o,n);case 15:return u=e.sent,e.next=18,Mh(u);case 18:return s=e.sent,e.abrupt("return",Uh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Rh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(A(E().mark((function n(){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qh(e);case 2:t.onEvent(rd());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=A(E().mark((function n(r){var i,a;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Qh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Xh(i,r.url)),t.onEvent(a||rd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Rh().handleOpenURL=function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),nd=td;function rd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:So("no-auth-event")}}function id(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ad(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return!("file:"!==id()&&"ionic:"!==id()&&"capacitor:"!==id()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function od(){return Ai()&&11===(null===document||void 0===document?void 0:document.documentMode)}function ud(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/Edge\/\d+/.test(e)}function sd(){try{var e=self.localStorage,t=al();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return od()||ud(e)}()||Ti()}catch(n){return cd()&&Ti()}return!1}function cd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ld(){return("http:"===id()||"https:"===id()||Ei()||ad())&&!(Si()||Ii())&&sd()&&!cd()}function fd(){return ad()&&"undefined"!==typeof document}function hd(){return dd.apply(this,arguments)}function dd(){return(dd=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pd={LOCAL:"local",NONE:"none",SESSION:"session"},vd=No,md="persistence";function yd(e,t){vd(Object.values(pd).includes(t),e,"invalid-persistence-type"),Si()?vd(t!==pd.SESSION,e,"unsupported-persistence-type"):Ii()?vd(t===pd.NONE,e,"unsupported-persistence-type"):cd()?vd(t===pd.NONE||t===pd.LOCAL&&Ti(),e,"unsupported-persistence-type"):vd(t===pd.NONE||sd(),e,"unsupported-persistence-type")}function gd(e){return kd.apply(this,arguments)}function kd(){return kd=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=bd(),r=Au(md,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var wd=No,_d=function(){function e(){si(this,e),this.browserResolver=Ro(fh),this.cordovaResolver=Ro(nd),this.underlyingResolver=null,this._redirectPersistence=nl,this._completeRedirectFn=Pf,this._overrideRedirectResult=bf}return li(e,[{key:"_initialize",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=A(E().mark((function e(t,n,r,i){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=A(E().mark((function e(t,n,r,i){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return fd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return wd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xd(e){return e.unwrap()}function Id(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Cd(e,function(e,t){var n,r=zi(e),i=t;return No(t.customData.operationType,r,"argument-error"),No(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Kc._fromError(r,i)}(e,t));else if(i){var a=Ed(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Ed(e){var t=(e instanceof Ci?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ci)&&"temporaryProof"in t&&"phoneNumber"in t)return $l.credentialFromResult(e);var n,r=t.providerId;if(!r||r===lo)return null;switch(r){case co:n=Ls;break;case uo:n=Rs;break;case so:n=js;break;case fo:n=Us;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Fs._create(r,u):ws._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ds(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ci?n.credentialFromError(e):n.credentialFromResult(e)}function Sd(e,t){return t.catch((function(t){throw t instanceof Ci&&Id(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ed(t)),additionalUserInfo:Wc(e),user:Nd.getOrCreate(r)}}))}function Ad(e,t){return Td.apply(this,arguments)}function Td(){return Td=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Sd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}var Cd=function(){function e(t,n){si(this,e),this.resolver=n,this.auth=t.wrapped()}return li(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Sd(xd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Nd=function(){function e(t){si(this,e),this._delegate=t,this.multiFactor=function(e){var t=zi(e);return Xc.has(t)||Xc.set(t,Yc._fromUser(t)),Xc.get(t)}(t)}return li(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(this.auth,oc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ad(this.auth,Kl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(this.auth,ff(this._delegate,t,_d)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd(Wu(this.auth));case 2:return e.abrupt("return",Af(this._delegate,t,_d));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(this.auth,sc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ad(this.auth,function(e,t,n){return Ql.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Sd(this.auth,function(e,t,n){return lf.apply(this,arguments)}(this._delegate,e,_d))}},{key:"reauthenticateWithRedirect",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd(Wu(this.auth));case 2:return e.abrupt("return",Ef(this._delegate,t,_d));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return Nc(this._delegate,e)}},{key:"unlink",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return jc(zi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return jc(zi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Jl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Lc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Oc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Nd.USER_MAP=new WeakMap;var Pd=No,Od=function(){function e(t,n){if(si(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Pd(r,"invalid-api-key",{appName:t.name}),Pd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?_d:void 0;this._delegate=n.initialize({options:{persistence:Rd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(bo),this.linkUnderlyingAuth()}return li(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Nd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ku(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return gc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return kc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(this._delegate,_c(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Cc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Cs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pd(ld(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Cf(this._delegate,_d);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Sd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Dd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Dd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ec.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return mc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yd(this._delegate,t),e.t0=t,e.next=e.t0===pd.SESSION?4:e.t0===pd.LOCAL?6:e.t0===pd.NONE?11:13;break;case 4:return n=nl,e.abrupt("break",14);case 6:return e.next=8,Ro(El)._isAvailable();case 8:return r=e.sent,n=r?El:el,e.abrupt("break",14);case 11:return n=Su,e.abrupt("break",14);case 13:return e.abrupt("return",Eo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Sd(this._delegate,function(e){return Ws.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Sd(this._delegate,ic(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Sd(this._delegate,function(e,t){return hc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Sd(this._delegate,Ic(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Sd(this._delegate,function(e,t,n){return Sc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ad(this._delegate,function(e,t,n){return Gl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pd(ld(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Sd(this._delegate,sf(this._delegate,t,_d)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pd(ld(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gd(this._delegate);case 3:return e.abrupt("return",xf(this._delegate,t,_d));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return wc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Dd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Nd.getOrCreate(e))},error:t,complete:n}}function Rd(e,t){var n=function(e,t){var n=bd();if(!n)return[];var r=Au(md,e,t);switch(n.getItem(r)){case pd.NONE:return[Su];case pd.LOCAL:return[El,nl];case pd.SESSION:return[nl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(El)||n.push(El),"undefined"!==typeof window)for(var r=0,i=[el,nl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Su)||n.push(Su),n}Od.Persistence=pd;var Ld=function(){function e(){si(this,e),this.providerId="phone",this._delegate=new $l(xd(Dh.auth()))}return li(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return $l.credential(e,t)}}]),e}();Ld.PHONE_SIGN_IN_METHOD=$l.PHONE_SIGN_IN_METHOD,Ld.PROVIDER_ID=$l.PROVIDER_ID;var jd,Fd=No,Md=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dh.app();si(this,e),Fd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new zl(t,n,i.auth()),this.type=this._delegate.type}return li(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(jd=Dh).INTERNAL.registerComponent(new qi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Od(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ho,PASSWORD_RESET:po,RECOVER_EMAIL:vo,REVERT_SECOND_FACTOR_ADDITION:mo,VERIFY_AND_CHANGE_EMAIL:yo,VERIFY_EMAIL:go}},EmailAuthProvider:Ns,FacebookAuthProvider:Rs,GithubAuthProvider:js,GoogleAuthProvider:Ls,OAuthProvider:Ds,SAMLAuthProvider:Ms,PhoneAuthProvider:Ld,PhoneMultiFactorGenerator:ph,RecaptchaVerifier:Md,TwitterAuthProvider:Us,Auth:Od,AuthCredential:Yu,Error:Ci}).setInstantiationMode("LAZY").setMultipleInstances(!1)),jd.registerVersion("@firebase/auth-compat","0.2.19");var Ud,Vd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Bd={},zd=zd||{},qd=Vd||self;function Wd(){}function Gd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Kd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hd="closure_uid_"+(1e9*Math.random()>>>0),Qd=0;function Yd(e,t,n){return e.call.apply(e.bind,arguments)}function Xd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jd(e,t,n){return(Jd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yd:Xd).apply(null,arguments)}function $d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zd(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ep(){this.s=this.s,this.o=this.o}var tp={};ep.prototype.s=!1,ep.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Hd)&&e[Hd]||(e[Hd]=++Qd)}(this);delete tp[e]}},ep.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var np=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},rp=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ip(e){return Array.prototype.concat.apply([],arguments)}function ap(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function op(e){return/^[\s\xa0]*$/.test(e)}var up,sp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function cp(e,t){return-1!=e.indexOf(t)}function lp(e,t){return e<t?-1:e>t?1:0}e:{var fp=qd.navigator;if(fp){var hp=fp.userAgent;if(hp){up=hp;break e}}up=""}function dp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pp(e){var t={};for(var n in e)t[n]=e[n];return t}var vp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vp.length;a++)n=vp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yp(e){return yp[" "](e),e}yp[" "]=Wd;var gp,kp=cp(up,"Opera"),bp=cp(up,"Trident")||cp(up,"MSIE"),wp=cp(up,"Edge"),_p=wp||bp,xp=cp(up,"Gecko")&&!(cp(up.toLowerCase(),"webkit")&&!cp(up,"Edge"))&&!(cp(up,"Trident")||cp(up,"MSIE"))&&!cp(up,"Edge"),Ip=cp(up.toLowerCase(),"webkit")&&!cp(up,"Edge");function Ep(){var e=qd.document;return e?e.documentMode:void 0}e:{var Sp="",Ap=function(){var e=up;return xp?/rv:([^\);]+)(\)|;)/.exec(e):wp?/Edge\/([\d\.]+)/.exec(e):bp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ip?/WebKit\/(\S+)/.exec(e):kp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ap&&(Sp=Ap?Ap[1]:""),bp){var Tp=Ep();if(null!=Tp&&Tp>parseFloat(Sp)){gp=String(Tp);break e}}gp=Sp}var Cp,Np={};function Pp(){return function(e){var t=Np;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=sp(String(gp)).split("."),n=sp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=lp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||lp(0==a[2].length,0==o[2].length)||lp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(qd.document&&bp){var Op=Ep();Cp=Op||(parseInt(gp,10)||void 0)}else Cp=void 0;var Dp=Cp,Rp=function(){if(!qd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qd.addEventListener("test",Wd,t),qd.removeEventListener("test",Wd,t)}catch(j){}return e}();function Lp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function jp(e,t){if(Lp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xp){e:{try{yp(t.nodeName);var i=!0;break e}catch(L){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&jp.Z.h.call(this)}}Lp.prototype.h=function(){this.defaultPrevented=!0},Zd(jp,Lp);var Fp={2:"touch",3:"pen",4:"mouse"};jp.prototype.h=function(){jp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mp="closure_listenable_"+(1e6*Math.random()|0),Up=0;function Vp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Up,this.ca=this.fa=!1}function Bp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function zp(e){this.src=e,this.g={},this.h=0}function qp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=np(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Bp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}zp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Wp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Vp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Gp="closure_lm_"+(1e6*Math.random()|0),Kp={};function Hp(e,t,n,r,i){if(r&&r.once)return Yp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hp(e,t[a],n,r,i);return null}return n=nv(n),e&&e[Mp]?e.N(t,n,Kd(r)?!!r.capture:!!r,i):Qp(e,t,n,!1,r,i)}function Qp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Kd(i)?!!i.capture:!!i,u=ev(e);if(u||(e[Gp]=u=new zp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Rp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($p(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Yp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yp(e,t[a],n,r,i);return null}return n=nv(n),e&&e[Mp]?e.O(t,n,Kd(r)?!!r.capture:!!r,i):Qp(e,t,n,!0,r,i)}function Xp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xp(e,t[a],n,r,i);else r=Kd(r)?!!r.capture:!!r,n=nv(n),e&&e[Mp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wp(a=e.g[t],n,r,i))&&(Bp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ev(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wp(t,n,r,i)),(n=-1<e?t[e]:null)&&Jp(n))}function Jp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Mp])qp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($p(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ev(t))?(qp(n,e),0==n.h&&(n.src=null,t[Gp]=null)):Bp(e)}}}function $p(e){return e in Kp?Kp[e]:Kp[e]="on"+e}function Zp(e,t){if(e.ca)e=!0;else{t=new jp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jp(e),e=n.call(r,t)}return e}function ev(e){return(e=e[Gp])instanceof zp?e:null}var tv="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(e){return"function"===typeof e?e:(e[tv]||(e[tv]=function(t){return e.handleEvent(t)}),e[tv])}function rv(){ep.call(this),this.i=new zp(this),this.P=this,this.I=null}function iv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Lp(t,e);else if(t instanceof Lp)t.target=t.target||e;else{var i=t;mp(t=new Lp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=av(o,r,!0,t)&&i}if(i=av(o=t.g=e,r,!0,t)&&i,i=av(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=av(o=t.g=n[a],r,!1,t)&&i}function av(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&qp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Zd(rv,ep),rv.prototype[Mp]=!0,rv.prototype.removeEventListener=function(e,t,n,r){Xp(this,e,t,n,r)},rv.prototype.M=function(){if(rv.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bp(n[r]);delete t.g[e],t.h--}}this.I=null},rv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},rv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ov=qd.JSON.stringify;function uv(){var e=vv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var sv,cv=function(){function e(){si(this,e),this.h=this.g=null}return li(e,[{key:"add",value:function(e,t){var n=lv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),lv=new(function(){function e(t,n){si(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return li(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new fv}),(function(e){return e.reset()})),fv=function(){function e(){si(this,e),this.next=this.g=this.h=null}return li(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function hv(e){qd.setTimeout((function(){throw e}),0)}function dv(e,t){sv||function(){var e=qd.Promise.resolve(void 0);sv=function(){e.then(mv)}}(),pv||(sv(),pv=!0),vv.add(e,t)}var pv=!1,vv=new cv;function mv(){for(var e;e=uv();){try{e.h.call(e.g)}catch(j){hv(j)}var t=lv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}pv=!1}function yv(e,t){rv.call(this),this.h=e||1,this.g=t||qd,this.j=Jd(this.kb,this),this.l=Date.now()}function gv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function kv(e,t,n){if("function"===typeof e)n&&(e=Jd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jd(e.handleEvent,e)}return 2147483647<Number(t)?-1:qd.setTimeout(e,t||0)}function bv(e){e.g=kv((function(){e.g=null,e.i&&(e.i=!1,bv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Zd(yv,rv),(Ud=yv.prototype).da=!1,Ud.S=null,Ud.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),iv(this,"tick"),this.da&&(gv(this),this.start()))}},Ud.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ud.M=function(){yv.Z.M.call(this),gv(this),delete this.g};var wv=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return li(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:bv(this)}},{key:"M",value:function(){ei($r(n.prototype),"M",this).call(this),this.g&&(qd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ep);function _v(e){ep.call(this),this.h=e,this.g={}}Zd(_v,ep);var xv=[];function Iv(e,t,n,r){Array.isArray(n)||(n&&(xv[0]=n.toString()),n=xv);for(var i=0;i<n.length;i++){var a=Hp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ev(e){dp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Jp(e)}),e),e.g={}}function Sv(){this.g=!0}function Av(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ov(n)}catch(T){return t}}(e,n)+(r?" "+r:"")}))}_v.prototype.M=function(){_v.Z.M.call(this),Ev(this)},_v.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sv.prototype.Aa=function(){this.g=!1},Sv.prototype.info=function(){};var Tv={},Cv=null;function Nv(){return Cv=Cv||new rv}function Pv(e){Lp.call(this,Tv.Ma,e)}function Ov(e){var t=Nv();iv(t,new Pv(t,e))}function Dv(e,t){Lp.call(this,Tv.STAT_EVENT,e),this.stat=t}function Rv(e){var t=Nv();iv(t,new Dv(t,e))}function Lv(e,t){Lp.call(this,Tv.Na,e),this.size=t}function jv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qd.setTimeout((function(){e()}),t)}Tv.Ma="serverreachability",Zd(Pv,Lp),Tv.STAT_EVENT="statevent",Zd(Dv,Lp),Tv.Na="timingevent",Zd(Lv,Lp);var Fv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Uv(){}function Vv(e){return e.h||(e.h=e.i())}function Bv(){}Uv.prototype.h=null;var zv,qv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wv(){Lp.call(this,"d")}function Gv(){Lp.call(this,"c")}function Kv(){}function Hv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new _v(this),this.P=Yv,e=_p?125:void 0,this.W=new yv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}Zd(Wv,Lp),Zd(Gv,Lp),Zd(Kv,Uv),Kv.prototype.g=function(){return new XMLHttpRequest},Kv.prototype.i=function(){return{}},zv=new Kv;var Yv=45e3,Xv={},Jv={};function $v(e,t,n){e.K=1,e.v=wm(vm(t)),e.s=n,e.U=!0,Zv(e,null)}function Zv(e,t){e.F=Date.now(),rm(e),e.A=vm(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Rm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Qv,e.g=Ly(e.l,n?t:null,!e.s),0<e.O&&(e.L=new wv(Jd(e.Ia,e,e.g),e.O)),Iv(e.V,e.g,"readystatechange",e.gb),t=e.H?pp(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ov(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function em(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function tm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=nm(e,n))==Jv){4==t&&(e.o=4,Rv(14),i=!1),Av(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xv){e.o=4,Rv(15),Av(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Av(e.j,e.m,r,null),sm(e,r)}em(e)&&r!=Jv&&r!=Xv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Rv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ay(t),t.L=!0,Rv(11))):(Av(e.j,e.m,n,"[Invalid Chunked Response]"),um(e),om(e))}function nm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jv:(n=Number(t.substring(n,r)),isNaN(n)?Xv:(r+=1)+n>t.length?Jv:(t=t.substr(r,n),e.C=r+n,t))}function rm(e){e.Y=Date.now()+e.P,im(e,e.P)}function im(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=jv(Jd(e.eb,e),t)}function am(e){e.B&&(qd.clearTimeout(e.B),e.B=null)}function om(e){0==e.l.G||e.I||Ny(e.l,e)}function um(e){am(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,gv(e.W),Ev(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function sm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Bm(n.i,e)))if(n.I=e.N,!e.J&&Bm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Cy(n),gy(n)}Sy(n),Rv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=jv(Jd(n.ab,n),6e3));if(1>=Vm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Oy(n,11)}else if((e.J||n.g==e)&&Cy(n),!op(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(cp(l,"spdy")||cp(l,"quic")||cp(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(zm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,bm(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ry(r,r.H?r.la:null,r.W),d.J){qm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(am(p),rm(p)),r.g=d}else Ey(r);0<n.l.length&&wy(n)}else"stop"!=a[0]&&"close"!=a[0]||Oy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Oy(n,7):yy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ov(4)}catch(a){}}function cm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gd(e)||"string"===typeof e)rp(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Gd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function lm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof lm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function fm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];hm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)hm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function hm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ud=Hv.prototype).setTimeout=function(e){this.P=e},Ud.gb=function(e){e=e.target;var t=this.L;t&&3==hy(e)?t.l():this.Ia(e)},Ud.Ia=function(e){try{if(e==this.g)e:{var t=hy(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||_p||this.g&&(this.h.h||this.g.ga()||dy(this.g)))){this.I||4!=t||7==n||Ov(8==n||0>=r?3:2),am(this);var i=this.g.ba();this.N=i;t:if(em(this)){var a=dy(this.g);e="";var o=a.length,u=4==hy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){um(this),om(this);var s="";break t}this.h.i=new qd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!op(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Rv(12),um(this),om(this);break e}Av(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sm(this,i)}this.U?(tm(this,t,s),_p&&this.i&&3==t&&(Iv(this.V,this.W,"tick",this.fb),this.W.start())):(Av(this.j,this.m,s,null),sm(this,s)),4==t&&um(this),this.i&&!this.I&&(4==t?Ny(this.l,this):(this.i=!1,rm(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Rv(12)):(this.o=0,Rv(13)),um(this),om(this)}}}catch(t){}},Ud.fb=function(){if(this.g){var e=hy(this.g),t=this.g.ga();this.C<t.length&&(am(this),tm(this,e,t),this.i&&4!=e&&rm(this))}},Ud.cancel=function(){this.I=!0,um(this)},Ud.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ov(3),Rv(17)),um(this),this.o=2,om(this)):im(this,this.Y-e)},(Ud=lm.prototype).R=function(){fm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ud.T=function(){return fm(this),this.g.concat()},Ud.get=function(e,t){return hm(this.h,e)?this.h[e]:t},Ud.set=function(e,t){hm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ud.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var dm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pm(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof pm){this.g=void 0!==t?t:e.g,mm(this,e.j),this.s=e.s,ym(this,e.i),gm(this,e.m),this.l=e.l,t=e.h;var n=new Nm;n.i=t.i,t.g&&(n.g=new lm(t.g),n.h=t.h),km(this,n),this.o=e.o}else e&&(n=String(e).match(dm))?(this.g=!!t,mm(this,n[1]||"",!0),this.s=_m(n[2]||""),ym(this,n[3]||"",!0),gm(this,n[4]),this.l=_m(n[5]||"",!0),km(this,n[6]||"",!0),this.o=_m(n[7]||"")):(this.g=!!t,this.h=new Nm(null,this.g))}function vm(e){return new pm(e)}function mm(e,t,n){e.j=n?_m(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ym(e,t,n){e.i=n?_m(t,!0):t}function gm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function km(e,t,n){t instanceof Nm?(e.h=t,function(e,t){t&&!e.j&&(Pm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Om(this,t),Rm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=xm(t,Tm)),e.h=new Nm(t,e.g))}function bm(e,t,n){e.h.set(t,n)}function wm(e){return bm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _m(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Im),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Im(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xm(t,Em,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xm(t,Em,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xm(n,"/"==n.charAt(0)?Am:Sm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xm(n,Cm)),e.join("")};var Em=/[#\/\?@]/g,Sm=/[#\?:]/g,Am=/[#\?]/g,Tm=/[#\?@]/g,Cm=/#/g;function Nm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pm(e){e.g||(e.g=new lm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Om(e,t){Pm(e),t=Lm(e,t),hm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,hm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&fm(e)))}function Dm(e,t){return Pm(e),t=Lm(e,t),hm(e.g.h,t)}function Rm(e,t,n){Om(e,t),0<n.length&&(e.i=null,e.g.set(Lm(e,t),ap(n)),e.h+=n.length)}function Lm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ud=Nm.prototype).add=function(e,t){Pm(this),this.i=null,e=Lm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ud.forEach=function(e,t){Pm(this),this.g.forEach((function(n,r){rp(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ud.T=function(){Pm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ud.R=function(e){Pm(this);var t=[];if("string"===typeof e)Dm(this,e)&&(t=ip(t,this.g.get(Lm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ip(t,e[n])}return t},Ud.set=function(e,t){return Pm(this),this.i=null,Dm(this,e=Lm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ud.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ud.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var jm=li((function e(t,n){si(this,e),this.h=t,this.g=n}));function Fm(e){this.l=e||Mm,qd.PerformanceNavigationTiming?e=0<(e=qd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qd.g&&qd.g.Ea&&qd.g.Ea()&&qd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mm=10;function Um(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vm(e){return e.h?1:e.g?e.g.size:0}function Bm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zm(e,t){e.g?e.g.add(t):e.h=t}function qm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ui(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ap(e.i)}function Gm(){}function Km(){this.g=new Gm}function Hm(e,t,n){var r=n||"";try{cm(e,(function(e,n){var i=e;Kd(e)&&(i=ov(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(L){}}function Ym(e){this.l=e.$b||null,this.j=e.ib||!1}function Xm(e,t){rv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Jm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fm.prototype.cancel=function(){if(this.i=Wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ui(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Gm.prototype.stringify=function(e){return qd.JSON.stringify(e,void 0)},Gm.prototype.parse=function(e){return qd.JSON.parse(e,void 0)},Zd(Ym,Uv),Ym.prototype.g=function(){return new Xm(this.l,this.j)},Ym.prototype.i=function(e){return function(){return e}}({}),Zd(Xm,rv);var Jm=0;function $m(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Zm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ey(e)}function ey(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ud=Xm.prototype).open=function(e,t){if(this.readyState!=Jm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ey(this)},Ud.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||qd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ud.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zm(this)),this.readyState=Jm},Ud.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ey(this)),this.g&&(this.readyState=3,ey(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof qd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$m(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ud.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zm(this):ey(this),3==this.readyState&&$m(this)}},Ud.Ua=function(e){this.g&&(this.response=this.responseText=e,Zm(this))},Ud.Ta=function(e){this.g&&(this.response=e,Zm(this))},Ud.ha=function(){this.g&&Zm(this)},Ud.setRequestHeader=function(e,t){this.v.append(e,t)},Ud.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ud.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ty=qd.JSON.parse;function ny(e){rv.call(this),this.headers=new lm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ry,this.K=this.L=!1}Zd(ny,rv);var ry="",iy=/^https?$/i,ay=["POST","PUT"];function oy(e){return"content-type"==e.toLowerCase()}function uy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sy(e),ly(e)}function sy(e){e.D||(e.D=!0,iv(e,"complete"),iv(e,"error"))}function cy(e){if(e.h&&"undefined"!=typeof zd&&(!e.C[1]||4!=hy(e)||2!=e.ba()))if(e.v&&4==hy(e))kv(e.Fa,0,e);else if(iv(e,"readystatechange"),4==hy(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(dm)[1]||null;if(!a&&qd.self&&qd.self.location){var o=qd.self.location.protocol;a=o.substr(0,o.length-1)}i=!iy.test(a?a.toLowerCase():"")}t=i}if(t)iv(e,"complete"),iv(e,"success");else{e.m=6;try{var u=2<hy(e)?e.g.statusText:""}catch(D){u=""}e.j=u+" ["+e.ba()+"]",sy(e)}}finally{ly(e)}}}function ly(e,t){if(e.g){fy(e);var n=e.g,r=e.C[0]?Wd:null;e.g=null,e.C=null,t||iv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(qd.clearTimeout(e.A),e.A=null)}function hy(e){return e.g?e.g.readyState:0}function dy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ry:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(W){return null}}function py(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return dp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bm(e,t,n))}function vy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function my(e){this.za=0,this.l=[],this.h=new Sv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vy("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vy("baseRetryDelayMs",5e3,e),this.$a=vy("retryDelaySeedMs",1e4,e),this.Ya=vy("forwardChannelMaxRetries",2,e),this.ra=vy("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Fm(e&&e.concurrentRequestLimit),this.Ca=new Km,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function yy(e){if(ky(e),3==e.G){var t=e.V++,n=vm(e.F);bm(n,"SID",e.J),bm(n,"RID",t),bm(n,"TYPE","terminate"),xy(e,n),(t=new Hv(e,e.h,t,void 0)).K=2,t.v=wm(vm(n)),n=!1,qd.navigator&&qd.navigator.sendBeacon&&(n=qd.navigator.sendBeacon(t.v.toString(),"")),!n&&qd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ly(t.l,null),t.g.ea(t.v)),t.F=Date.now(),rm(t)}Dy(e)}function gy(e){e.g&&(Ay(e),e.g.cancel(),e.g=null)}function ky(e){gy(e),e.u&&(qd.clearTimeout(e.u),e.u=null),Cy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qd.clearTimeout(e.m),e.m=null)}function by(e,t){e.l.push(new jm(e.Za++,t)),3==e.G&&wy(e)}function wy(e){Um(e.i)||e.m||(e.m=!0,dv(e.Ha,e),e.C=0)}function _y(e,t){var n;n=t?t.m:e.V++;var r=vm(e.F);bm(r,"SID",e.J),bm(r,"RID",n),bm(r,"AID",e.U),xy(e,r),e.o&&e.s&&py(r,e.o,e.s),n=new Hv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Iy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zm(e.i,n),$v(n,r,t)}function xy(e,t){e.j&&cm({},(function(e,n){bm(t,n,e)}))}function Iy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Hm(l,o,"req"+c+"_")}catch(le){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ey(e){e.g||e.u||(e.Y=1,dv(e.Ga,e),e.A=0)}function Sy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=jv(Jd(e.Ga,e),Py(e,e.A)),e.A++,!0)}function Ay(e){null!=e.B&&(qd.clearTimeout(e.B),e.B=null)}function Ty(e){e.g=new Hv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=vm(e.oa);bm(t,"RID","rpc"),bm(t,"SID",e.J),bm(t,"CI",e.N?"0":"1"),bm(t,"AID",e.U),xy(e,t),bm(t,"TYPE","xmlhttp"),e.o&&e.s&&py(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=wm(vm(t)),n.s=null,n.U=!0,Zv(n,e)}function Cy(e){null!=e.v&&(qd.clearTimeout(e.v),e.v=null)}function Ny(e,t){var n=null;if(e.g==t){Cy(e),Ay(e),e.g=null;var r=2}else{if(!Bm(e.i,t))return;n=t.D,qm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;iv(r=Nv(),new Lv(r,n,t,i)),wy(e)}else Ey(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Vm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=jv(Jd(e.Ha,e,t),Py(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Oy(e,5);break;case 4:Oy(e,10);break;case 3:Oy(e,6);break;default:Oy(e,2)}}function Py(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Oy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jd(e.jb,e);n||(n=new pm("//www.google.com/images/cleardot.gif"),qd.location&&"http"==qd.location.protocol||mm(n,"https"),wm(n)),function(e,t){var n=new Sv;if(qd.Image){var r=new Image;r.onload=$d(Qm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$d(Qm,n,r,"TestLoadImage: error",!1,t),r.onabort=$d(Qm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$d(Qm,n,r,"TestLoadImage: timeout",!1,t),qd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Rv(2);e.G=0,e.j&&e.j.va(t),Dy(e),ky(e)}function Dy(e){e.G=0,e.I=-1,e.j&&(0==Wm(e.i).length&&0==e.l.length||(e.i.i.length=0,ap(e.l),e.l.length=0),e.j.ua())}function Ry(e,t,n){var r=function(e){return e instanceof pm?vm(e):new pm(e,void 0)}(n);if(""!=r.i)t&&ym(r,t+"."+r.i),gm(r,r.m);else{var i=qd.location;r=function(e,t,n,r){var i=new pm(null,void 0);return e&&mm(i,e),t&&ym(i,t),n&&gm(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&dp(e.aa,(function(e,t){bm(r,t,e)})),t=e.D,n=e.sa,t&&n&&bm(r,t,n),bm(r,"VER",e.ma),xy(e,r),r}function Ly(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ny(new Ym({ib:!0})):new ny(e.qa)).L=e.H,t}function jy(){}function Fy(){if(bp&&!(10<=Number(Dp)))throw Error("Environmental error: no available transport.")}function My(e,t){rv.call(this),this.g=new my(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!op(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!op(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new By(this)}function Uy(e){Wv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Vy(){Gv.call(this),this.status=1}function By(e){this.g=e}(Ud=ny.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=this.u?Vv(this.u):Vv(zv),this.g.onreadystatechange=Jd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(L){return void uy(this,L)}e=n||"";var i=new lm(this.headers);r&&cm(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=oy,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=qd.FormData&&e instanceof qd.FormData,!(0<=np(ay,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fy(this),0<this.B&&((this.K=function(e){return bp&&Pp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jd(this.pa,this)):this.A=kv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(L){uy(this,L)}},Ud.pa=function(){"undefined"!=typeof zd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,iv(this,"timeout"),this.abort(8))},Ud.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,iv(this,"complete"),iv(this,"abort"),ly(this))},Ud.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ly(this,!0)),ny.Z.M.call(this)},Ud.Fa=function(){this.s||(this.F||this.v||this.l?cy(this):this.cb())},Ud.cb=function(){cy(this)},Ud.ba=function(){try{return 2<hy(this)?this.g.status:-1}catch(R){return-1}},Ud.ga=function(){try{return this.g?this.g.responseText:""}catch(R){return""}},Ud.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ty(t)}},Ud.Da=function(){return this.m},Ud.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ud=my.prototype).ma=8,Ud.G=1,Ud.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(W){}},Ud.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Hv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?mp(n=pp(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Iy(this,t,r),bm(i=vm(this.F),"RID",e),bm(i,"CVER",22),this.D&&bm(i,"X-HTTP-Session-Id",this.D),xy(this,i),this.o&&n&&py(i,this.o,n),zm(this.i,t),this.Ra&&bm(i,"TYPE","init"),this.ja?(bm(i,"$req",r),bm(i,"SID","null"),t.$=!0,$v(t,i,null)):$v(t,i,r),this.G=2}}else 3==this.G&&(e?_y(this,e):0==this.l.length||Um(this.i)||_y(this))},Ud.Ga=function(){if(this.u=null,Ty(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=jv(Jd(this.bb,this),e)}},Ud.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rv(10),gy(this),Ty(this))},Ud.ab=function(){null!=this.v&&(this.v=null,gy(this),Sy(this),Rv(19))},Ud.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rv(2)):(this.h.info("Failed to ping google.com"),Rv(1))},(Ud=jy.prototype).xa=function(){},Ud.wa=function(){},Ud.va=function(){},Ud.ua=function(){},Ud.Oa=function(){},Fy.prototype.g=function(e,t){return new My(e,t)},Zd(My,rv),My.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),dv(Jd(e.hb,e,t))),Rv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ry(e,null,e.W),wy(e)},My.prototype.close=function(){yy(this.g)},My.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,by(this.g,t)}else this.v?((t={}).__data__=ov(e),by(this.g,t)):by(this.g,e)},My.prototype.M=function(){this.g.j=null,delete this.j,yy(this.g),delete this.g,My.Z.M.call(this)},Zd(Uy,Wv),Zd(Vy,Gv),Zd(By,jy),By.prototype.xa=function(){iv(this.g,"a")},By.prototype.wa=function(e){iv(this.g,new Uy(e))},By.prototype.va=function(e){iv(this.g,new Vy(e))},By.prototype.ua=function(){iv(this.g,"b")},Fy.prototype.createWebChannel=Fy.prototype.g,My.prototype.send=My.prototype.u,My.prototype.open=My.prototype.m,My.prototype.close=My.prototype.close,Fv.NO_ERROR=0,Fv.TIMEOUT=8,Fv.HTTP_ERROR=6,Mv.COMPLETE="complete",Bv.EventType=qv,qv.OPEN="a",qv.CLOSE="b",qv.ERROR="c",qv.MESSAGE="d",rv.prototype.listen=rv.prototype.N,ny.prototype.listenOnce=ny.prototype.O,ny.prototype.getLastError=ny.prototype.La,ny.prototype.getLastErrorCode=ny.prototype.Da,ny.prototype.getStatus=ny.prototype.ba,ny.prototype.getResponseJson=ny.prototype.Qa,ny.prototype.getResponseText=ny.prototype.ga,ny.prototype.send=ny.prototype.ea;var zy=Bd.createWebChannelTransport=function(){return new Fy},qy=Bd.getStatEventTarget=function(){return Nv()},Wy=Bd.ErrorCode=Fv,Gy=Bd.EventType=Mv,Ky=Bd.Event=Tv,Hy=Bd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qy=Bd.FetchXmlHttpFactory=Ym,Yy=Bd.WebChannel=Bv,Xy=Bd.XhrIo=ny,Jy="@firebase/firestore",$y=function(){function e(t){si(this,e),this.uid=t}return li(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$y.UNAUTHENTICATED=new $y(null),$y.GOOGLE_CREDENTIALS=new $y("google-credentials-uid"),$y.FIRST_PARTY=new $y("first-party-uid"),$y.MOCK_USER=new $y("mock-user");var Zy="9.9.4",eg=new ea("@firebase/firestore");function tg(){return eg.logLevel}function ng(e){if(eg.logLevel<=Hi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ag);eg.debug.apply(eg,["Firestore (".concat(Zy,"): ").concat(e)].concat(hi(i)))}}function rg(e){if(eg.logLevel<=Hi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ag);eg.error.apply(eg,["Firestore (".concat(Zy,"): ").concat(e)].concat(hi(i)))}}function ig(e){if(eg.logLevel<=Hi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ag);eg.warn.apply(eg,["Firestore (".concat(Zy,"): ").concat(e)].concat(hi(i)))}}function ag(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function og(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Zy,") INTERNAL ASSERTION FAILED: ")+e;throw rg(t),new Error(t)}function ug(e,t){e||og()}function sg(e,t){return e}var cg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lg=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return li(n)}(Ci),fg=li((function e(){var t=this;si(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),hg=li((function e(t,n){si(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),dg=function(){function e(){si(this,e)}return li(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($y.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),pg=function(){function e(t){si(this,e),this.token=t,this.changeListener=null}return li(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),vg=function(){function e(t){si(this,e),this.t=t,this.currentUser=$y.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return li(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new fg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new fg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ng("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ng("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ng("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ug("string"==typeof n.accessToken),new hg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ug(null===e||"string"==typeof e),new $y(e)}}]),e}(),mg=function(){function e(t,n,r,i){si(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=$y.FIRST_PARTY,this.p=new Map}return li(e,[{key:"I",value:function(){return this.g?this.g():(ug(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),yg=function(){function e(t,n,r,i){si(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return li(e,[{key:"getToken",value:function(){return Promise.resolve(new mg(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($y.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),gg=li((function e(t){si(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kg=function(){function e(t){si(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return li(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ng("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,ng("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ng("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):ng("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ug("string"==typeof t.token),e.A=t.token,new gg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function bg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var wg=function(){function e(){si(this,e)}return li(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=bg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function _g(e,t){return e<t?-1:e>t?1:0}function xg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ig(e){return e+"\0"}var Eg=function(){function e(t,n){if(si(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new lg(cg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lg(cg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lg(cg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lg(cg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return li(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?_g(this.nanoseconds,e.nanoseconds):_g(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Sg=function(){function e(t){si(this,e),this.timestamp=t}return li(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Eg(0,0))}},{key:"max",value:function(){return new e(new Eg(253402300799,999999999))}}]),e}(),Ag=function(){function e(t,n,r){si(this,e),void 0===n?n=0:n>t.length&&og(),void 0===r?r=t.length-n:r>t.length-n&&og(),this.segments=t,this.offset=n,this.len=r}return li(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Tg=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new lg(cg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,hi(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ag),Cg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ng=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Cg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new lg(cg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new lg(cg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new lg(cg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new lg(cg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ag),Pg=function(){function e(t){si(this,e),this.path=t}return li(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Tg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Tg.fromString(t))}},{key:"fromName",value:function(t){return new e(Tg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Tg.emptyPath())}},{key:"comparator",value:function(e,t){return Tg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Tg(t.slice()))}}]),e}(),Og=li((function e(t,n,r,i){si(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Dg(e){return e.fields.find((function(e){return 2===e.kind}))}function Rg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Og.UNKNOWN_ID=-1;var Lg=li((function e(t,n){si(this,e),this.fieldPath=t,this.kind=n}));var jg=function(){function e(t,n){si(this,e),this.sequenceNumber=t,this.offset=n}return li(e,null,[{key:"empty",value:function(){return new e(0,Ug.min())}}]),e}();function Fg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sg.fromTimestamp(1e9===r?new Eg(n+1,0):new Eg(n,r));return new Ug(i,Pg.empty(),t)}function Mg(e){return new Ug(e.readTime,e.key,-1)}var Ug=function(){function e(t,n,r){si(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return li(e,null,[{key:"min",value:function(){return new e(Sg.min(),Pg.empty(),-1)}},{key:"max",value:function(){return new e(Sg.max(),Pg.empty(),-1)}}]),e}();function Vg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Pg.comparator(e.documentKey,t.documentKey))?n:_g(e.largestBatchId,t.largestBatchId)}var Bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zg=function(){function e(){si(this,e),this.onCommittedListeners=[]}return li(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function qg(e){return Wg.apply(this,arguments)}function Wg(){return Wg=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===cg.FAILED_PRECONDITION&&t.message===Bg){e.next=2;break}throw t;case 2:ng("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}var Gg=function(){function e(t){var n=this;si(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return li(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&og(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ui(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Kg=function(){function e(t,n){var r=this;si(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new fg,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Yg(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ek(e.target.error);r.P.reject(new Yg(t,n))}}return li(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(ng("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Jg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Yg(n,t)}}}]),e}(),Hg=function(){function e(t,n,r){si(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(_i())&&rg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return li(e,[{key:"F",value:function(){var e=A(E().mark((function e(t){var n=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ng("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Yg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new lg(cg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new lg(cg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Yg(t,n))},i.onupgradeneeded=function(e){ng("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){ng("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=A(E().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(E().mark((function e(){var n,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Kg.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Gg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,ng("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ng("SimpleDb","Removing database:",e),$g(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Ti())return!1;if(e.N())return!0;var t=_i(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/inetShopTest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBhOfaLUXFFF2ZOxBoHElhwX8M01FUGvtg",REACT_APP_FIREBASE_APP_ID:"1:64167625191:web:bb240ad285cff79dbbfd42",REACT_APP_FIREBASE_AUTH_DOMAIN:"shop-cfe80.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"64167625191",REACT_APP_FIREBASE_PROJECT_ID:"shop-cfe80",REACT_APP_FIREBASE_STORAGE_BUCKET:"shop-cfe80.appspot.com"})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Qg=function(){function e(t){si(this,e),this.U=t,this.q=!1,this.K=null}return li(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return $g(this.U.delete())}}]),e}(),Yg=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,cg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return li(n)}(lg);function Xg(e){return"IndexedDbTransactionError"===e.name}var Jg=function(){function e(t){si(this,e),this.store=t}return li(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ng("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ng("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),$g(n)}},{key:"add",value:function(e){return ng("SimpleDb","ADD",this.store.name,e,e),$g(this.store.add(e))}},{key:"get",value:function(e){var t=this;return $g(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ng("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ng("SimpleDb","DELETE",this.store.name,e),$g(this.store.delete(e))}},{key:"count",value:function(){return ng("SimpleDb","COUNT",this.store.name),$g(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Gg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Gg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){ng("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Gg((function(n,r){t.onerror=function(e){var t=ek(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Gg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Qg(i),o=t(i.primaryKey,i.value,a);if(o instanceof Gg){var u=o.catch((function(e){return a.done(),Gg.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Gg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function $g(e){return new Gg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ek(e.target.error);n(t)}}))}var Zg=!1;function ek(e){var t=Hg.D(_i());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new lg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Zg||(Zg=!0,setTimeout((function(){throw r}),0)),r}}return e}var tk=function(){function e(t,n){si(this,e),this.asyncQueue=t,this.et=n,this.task=null}return li(e,[{key:"start",value:function(){this.nt(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;ng("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ng,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Xg(e.t4)){e.next=17;break}ng("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,qg(e.t4);case 19:return e.next=21,t.nt(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),nk=function(){function e(t,n){si(this,e),this.localStore=t,this.persistence=n}return li(e,[{key:"st",value:function(){var e=A(E().mark((function e(){var t,n=this,r=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Gg.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ng("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return ng("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Mg(t);Vg(r,n)>0&&(n=r)})),new Ug(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),rk=function(){function e(t,n){var r=this;si(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return li(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function ik(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ak(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ok(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}rk.at=-1;var uk=function(){function e(t,n){si(this,e),this.comparator=t,this.root=n||ck.EMPTY}return li(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ck.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ck.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sk(this.root,e,this.comparator,!0)}}]),e}(),sk=function(){function e(t,n,r,i){si(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return li(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ck=function(){function e(t,n,r,i,a){si(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return li(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw og();if(this.right.isRed())throw og();var e=this.left.check();if(e!==this.right.check())throw og();return e+(this.isRed()?0:1)}}]),e}();ck.EMPTY=null,ck.RED=!0,ck.BLACK=!1,ck.EMPTY=new(function(){function e(){si(this,e),this.size=0}return li(e,[{key:"key",get:function(){throw og()}},{key:"value",get:function(){throw og()}},{key:"color",get:function(){throw og()}},{key:"left",get:function(){throw og()}},{key:"right",get:function(){throw og()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ck(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lk=function(){function e(t){si(this,e),this.comparator=t,this.data=new uk(this.comparator)}return li(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fk=function(){function e(t){si(this,e),this.iter=t}return li(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function hk(e){return e.hasNext()?e.getNext():void 0}var dk=function(){function e(t){si(this,e),this.fields=t,t.sort(Ng.comparator)}return li(e,[{key:"unionWith",value:function(t){var n,r=new lk(Ng.comparator),i=ui(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ui(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ui(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return xg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var pk=function(e){function t(e){si(this,t),this.binaryString=e}return li(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return _g(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();pk.EMPTY_BYTE_STRING=new pk("");var vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mk(e){if(ug(!!e),"string"==typeof e){var t=0,n=vk.exec(e);if(ug(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yk(e.seconds),nanos:yk(e.nanos)}}function yk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gk(e){return"string"==typeof e?pk.fromBase64String(e):pk.fromUint8Array(e)}function kk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bk(e){var t=e.mapValue.fields.__previous_value__;return kk(t)?bk(t):t}function wk(e){var t=mk(e.mapValue.fields.__local_write_time__.timestampValue);return new Eg(t.seconds,t.nanos)}var _k=li((function e(t,n,r,i,a,o,u,s){si(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),xk=function(){function e(t,n){si(this,e),this.projectId=t,this.database=n||"(default)"}return li(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ik(e){return null==e}function Ek(e){return 0===e&&1/e==-1/0}function Sk(e){return"number"==typeof e&&Number.isInteger(e)&&!Ek(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ak={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tk={nullValue:"NULL_VALUE"};function Ck(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kk(e)?4:qk(e)?9007199254740991:10:og()}function Nk(e,t){if(e===t)return!0;var n=Ck(e);if(n!==Ck(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wk(e).isEqual(wk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=mk(e.timestampValue),r=mk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gk(e.bytesValue).isEqual(gk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yk(e.geoPointValue.latitude)===yk(t.geoPointValue.latitude)&&yk(e.geoPointValue.longitude)===yk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yk(e.integerValue)===yk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yk(e.doubleValue),r=yk(t.doubleValue);return n===r?Ek(n)===Ek(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xg(e.arrayValue.values||[],t.arrayValue.values||[],Nk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ik(n)!==ik(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nk(n[i],r[i])))return!1;return!0}(e,t);default:return og()}}function Pk(e,t){return void 0!==(e.values||[]).find((function(e){return Nk(e,t)}))}function Ok(e,t){if(e===t)return 0;var n=Ck(e),r=Ck(t);if(n!==r)return _g(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _g(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yk(e.integerValue||e.doubleValue),r=yk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dk(e.timestampValue,t.timestampValue);case 4:return Dk(wk(e),wk(t));case 5:return _g(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gk(e),r=gk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=_g(n[i],r[i]);if(0!==a)return a}return _g(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=_g(yk(e.latitude),yk(t.latitude));return 0!==n?n:_g(yk(e.longitude),yk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ok(n[i],r[i]);if(a)return a}return _g(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ak.mapValue&&t===Ak.mapValue)return 0;if(e===Ak.mapValue)return 1;if(t===Ak.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=_g(r[o],a[o]);if(0!==u)return u;var s=Ok(n[r[o]],i[a[o]]);if(0!==s)return s}return _g(r.length,a.length)}(e.mapValue,t.mapValue);default:throw og()}}function Dk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _g(e,t);var n=mk(e),r=mk(t),i=_g(n.seconds,r.seconds);return 0!==i?i:_g(n.nanos,r.nanos)}function Rk(e){return Lk(e)}function Lk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=mk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ui(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ui(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):og();var t,n}function jk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fk(e){return!!e&&"integerValue"in e}function Mk(e){return!!e&&"arrayValue"in e}function Uk(e){return!!e&&"nullValue"in e}function Vk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bk(e){return!!e&&"mapValue"in e}function zk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ak(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=zk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wk(e){return"nullValue"in e?Tk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jk(xk.empty(),Pg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:og()}function Gk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jk(xk.empty(),Pg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ak:og()}function Kk(e,t){var n=Ok(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hk(e,t){var n=Ok(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Qk=function(){function e(t){si(this,e),this.value=t}return li(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Bk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zk(t)}},{key:"setAll",value:function(e){var t=this,n=Ng.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=zk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Bk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Nk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Bk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ak(t,(function(t,n){return e[t]=n}));var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(zk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Yk(e){var t=[];return ak(e.fields,(function(e,n){var r=new Ng([e]);if(Bk(n)){var i=Yk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ui(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new dk(t)}var Xk=function(){function e(t,n,r,i,a,o){si(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return li(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Qk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Qk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Sg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Sg.min(),Sg.min(),Qk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Sg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Sg.min(),Qk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Sg.min(),Qk.empty(),2)}}]),e}(),Jk=li((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;si(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function $k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Jk(e,t,n,r,i,a,o)}function Zk(e){var t=sg(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Rk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ik(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Rk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Rk(e)})).join(",")),t.ht=n}return t.ht}function eb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Nk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gb(e.startAt,t.startAt)&&gb(e.endAt,t.endAt)}function tb(e){return Pg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function nb(e,t){return e.filters.filter((function(e){return e instanceof ab&&e.field.isEqual(t)}))}function rb(e,t,n){var r,i=Tk,a=!0,o=ui(nb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Tk,c=!0;switch(u.op){case"<":case"<=":s=Wk(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Tk}Kk({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Kk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ib(e,t,n){var r,i=Ak,a=!0,o=ui(nb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ak,c=!0;switch(u.op){case">=":case">":s=Gk(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ak}Hk({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ab=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return li(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ok(t,this.value)):null!==t&&Ck(this.value)===Ck(t)&&this.ft(Ok(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return og()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ob(e,t,r):"array-contains"===t?new lb(e,r):"in"===t?new fb(e,r):"not-in"===t?new hb(e,r):"array-contains-any"===t?new db(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new ub(e,n):new sb(e,n)}}]),n}(function(){return li((function e(){si(this,e)}))}()),ob=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this,e,r,i)).key=Pg.fromName(i.referenceValue),a}return li(n,[{key:"matches",value:function(e){var t=Pg.comparator(e.key,this.key);return this.ft(t)}}]),n}(ab),ub=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,"in",r)).keys=cb("in",r),i}return li(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ab),sb=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,"not-in",r)).keys=cb("not-in",r),i}return li(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ab);function cb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pg.fromName(e.referenceValue)}))}var lb=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"array-contains",r)}return li(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Mk(t)&&Pk(t.arrayValue,this.value)}}]),n}(ab),fb=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"in",r)}return li(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Pk(this.value.arrayValue,t)}}]),n}(ab),hb=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"not-in",r)}return li(n,[{key:"matches",value:function(e){if(Pk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Pk(this.value.arrayValue,t)}}]),n}(ab),db=function(e){ri(n,e);var t=oi(n);function n(e,r){return si(this,n),t.call(this,e,"array-contains-any",r)}return li(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Mk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Pk(t.value.arrayValue,e)}))}}]),n}(ab),pb=li((function e(t,n){si(this,e),this.position=t,this.inclusive=n})),vb=li((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";si(this,e),this.field=t,this.dir=n}));function mb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Pg.comparator(Pg.fromName(o.referenceValue),n.key):Ok(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function gb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Nk(e.position[n],t.position[n]))return!1;return!0}var kb=li((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;si(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function bb(e,t,n,r,i,a,o,u){return new kb(e,t,n,r,i,a,o,u)}function wb(e){return new kb(e)}function _b(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ib(e){var t,n=ui(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Eb(e){return null!==e.collectionGroup}function Sb(e){var t=sg(e);if(null===t._t){t._t=[];var n=Ib(t),r=xb(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new vb(n)),t._t.push(new vb(Ng.keyField(),"asc"));else{var i,a=!1,o=ui(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new vb(Ng.keyField(),s))}}}return t._t}function Ab(e){var t=sg(e);if(!t.wt)if("F"===t.limitType)t.wt=$k(t.path,t.collectionGroup,Sb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ui(Sb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new vb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new pb(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new pb(t.startAt.position,t.startAt.inclusive):null;t.wt=$k(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Tb(e,t,n){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cb(e,t){return eb(Ab(e),Ab(t))&&e.limitType===t.limitType}function Nb(e){return"".concat(Zk(Ab(e)),"|lt:").concat(e.limitType)}function Pb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Rk(t.value));var t})).join(", "),"]")),Ik(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Rk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Rk(e)})).join(",")),"Target(".concat(t,")")}(Ab(e)),"; limitType=").concat(e.limitType,")")}function Ob(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ui(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ui(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=yb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sb(e),t))&&!(e.endAt&&!function(e,t,n){var r=yb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sb(e),t))}(e,t)}function Db(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rb(e){return function(t,n){var r,i=!1,a=ui(Sb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Lb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Lb(e,t,n){var r=e.field.isKeyField()?Pg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ok(r,i):og()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return og()}}function jb(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ek(t)?"-0":t}}function Fb(e){return{integerValue:""+e}}function Mb(e,t){return Sk(t)?Fb(t):jb(e,t)}var Ub=li((function e(){si(this,e),this._=void 0}));function Vb(e,t,n){return e instanceof qb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Wb?Gb(e,t):e instanceof Kb?Hb(e,t):function(e,t){var n=zb(e,t),r=Yb(n)+Yb(e.yt);return Fk(n)&&Fk(e.yt)?Fb(r):jb(e.It,r)}(e,t)}function Bb(e,t,n){return e instanceof Wb?Gb(e,t):e instanceof Kb?Hb(e,t):n}function zb(e,t){return e instanceof Qb?Fk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var qb=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n)}(Ub),Wb=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).elements=e,r}return li(n)}(Ub);function Gb(e,t){var n,r=Xb(t),i=ui(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Nk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Kb=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).elements=e,r}return li(n)}(Ub);function Hb(e,t){var n,r=Xb(t),i=ui(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Nk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qb=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).It=e,i.yt=r,i}return li(n)}(Ub);function Yb(e){return yk(e.integerValue||e.doubleValue)}function Xb(e){return Mk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Jb=li((function e(t,n){si(this,e),this.field=t,this.transform=n}));var $b=li((function e(t,n){si(this,e),this.version=t,this.transformResults=n})),Zb=function(){function e(t,n){si(this,e),this.updateTime=t,this.exists=n}return li(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ew(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var tw=li((function e(){si(this,e)}));function nw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new pw(e.key,Zb.none()):new uw(e.key,e.data,Zb.none());var n,r=e.data,i=Qk.empty(),a=new lk(Ng.comparator),o=ui(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new sw(e.key,i,new dk(a.toArray()),Zb.none())}function rw(e,t,n){e instanceof uw?function(e,t,n){var r=e.value.clone(),i=lw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sw?function(e,t,n){if(ew(e.precondition,t)){var r=lw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function iw(e,t,n,r){return e instanceof uw?function(e,t,n,r){if(!ew(e.precondition,t))return n;var i=e.value.clone(),a=fw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sw?function(e,t,n,r){if(!ew(e.precondition,t))return n;var i=fw(e.fieldTransforms,r,t),a=t.data;return a.setAll(cw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ew(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function aw(e,t){var n,r=null,i=ui(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zb(a.transform,o||null);null!=u&&(null===r&&(r=Qk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ow(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Wb&&t instanceof Wb||e instanceof Kb&&t instanceof Kb?xg(e.elements,t.elements,Nk):e instanceof Qb&&t instanceof Qb?Nk(e.yt,t.yt):e instanceof qb&&t instanceof qb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var uw=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return si(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return li(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tw),sw=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return si(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return li(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(tw);function cw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function lw(e,t,n){var r=new Map;ug(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Bb(o,u,n[i]))}return r}function fw(e,t,n){var r,i=new Map,a=ui(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Vb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var hw,dw,pw=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return li(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tw),vw=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return li(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tw),mw=li((function e(t){si(this,e),this.count=t}));function yw(e){switch(e){default:return og();case cg.CANCELLED:case cg.UNKNOWN:case cg.DEADLINE_EXCEEDED:case cg.RESOURCE_EXHAUSTED:case cg.INTERNAL:case cg.UNAVAILABLE:case cg.UNAUTHENTICATED:return!1;case cg.INVALID_ARGUMENT:case cg.NOT_FOUND:case cg.ALREADY_EXISTS:case cg.PERMISSION_DENIED:case cg.FAILED_PRECONDITION:case cg.ABORTED:case cg.OUT_OF_RANGE:case cg.UNIMPLEMENTED:case cg.DATA_LOSS:return!0}}function gw(e){if(void 0===e)return rg("GRPC error has no .code"),cg.UNKNOWN;switch(e){case hw.OK:return cg.OK;case hw.CANCELLED:return cg.CANCELLED;case hw.UNKNOWN:return cg.UNKNOWN;case hw.DEADLINE_EXCEEDED:return cg.DEADLINE_EXCEEDED;case hw.RESOURCE_EXHAUSTED:return cg.RESOURCE_EXHAUSTED;case hw.INTERNAL:return cg.INTERNAL;case hw.UNAVAILABLE:return cg.UNAVAILABLE;case hw.UNAUTHENTICATED:return cg.UNAUTHENTICATED;case hw.INVALID_ARGUMENT:return cg.INVALID_ARGUMENT;case hw.NOT_FOUND:return cg.NOT_FOUND;case hw.ALREADY_EXISTS:return cg.ALREADY_EXISTS;case hw.PERMISSION_DENIED:return cg.PERMISSION_DENIED;case hw.FAILED_PRECONDITION:return cg.FAILED_PRECONDITION;case hw.ABORTED:return cg.ABORTED;case hw.OUT_OF_RANGE:return cg.OUT_OF_RANGE;case hw.UNIMPLEMENTED:return cg.UNIMPLEMENTED;case hw.DATA_LOSS:return cg.DATA_LOSS;default:return og()}}(dw=hw||(hw={}))[dw.OK=0]="OK",dw[dw.CANCELLED=1]="CANCELLED",dw[dw.UNKNOWN=2]="UNKNOWN",dw[dw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dw[dw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dw[dw.NOT_FOUND=5]="NOT_FOUND",dw[dw.ALREADY_EXISTS=6]="ALREADY_EXISTS",dw[dw.PERMISSION_DENIED=7]="PERMISSION_DENIED",dw[dw.UNAUTHENTICATED=16]="UNAUTHENTICATED",dw[dw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dw[dw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dw[dw.ABORTED=10]="ABORTED",dw[dw.OUT_OF_RANGE=11]="OUT_OF_RANGE",dw[dw.UNIMPLEMENTED=12]="UNIMPLEMENTED",dw[dw.INTERNAL=13]="INTERNAL",dw[dw.UNAVAILABLE=14]="UNAVAILABLE",dw[dw.DATA_LOSS=15]="DATA_LOSS";var kw=function(){function e(t,n){si(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return li(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ak(this.inner,(function(t,n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ok(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),bw=new uk(Pg.comparator);function ww(){return bw}var _w=new uk(Pg.comparator);function xw(){for(var e=_w,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Iw(e){var t=_w;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ew(){return Aw()}function Sw(){return Aw()}function Aw(){return new kw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Tw=new uk(Pg.comparator),Cw=new lk(Pg.comparator);function Nw(){for(var e=Cw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Pw=new lk(_g);function Ow(){return Pw}var Dw=function(){function e(t,n,r,i,a){si(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return li(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Rw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Sg.min(),r,Ow(),ww(),Nw())}}]),e}(),Rw=function(){function e(t,n,r,i,a){si(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return li(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(pk.EMPTY_BYTE_STRING,n,Nw(),Nw(),Nw())}}]),e}(),Lw=li((function e(t,n,r,i){si(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),jw=li((function e(t,n){si(this,e),this.targetId=t,this.At=n})),Fw=li((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;si(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Mw=function(){function e(){si(this,e),this.Rt=0,this.bt=Bw(),this.Pt=pk.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return li(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Nw(),t=Nw(),n=Nw();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:og()}})),new Rw(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Bw()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Uw=function(){function e(t){si(this,e),this.Bt=t,this.Lt=new Map,this.Ut=ww(),this.qt=Vw(),this.Kt=new lk(_g)}return li(e,[{key:"Gt",value:function(e){var t,n=ui(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=ui(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:og()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(tb(i))if(0===n){var a=new Pg(i.path);this.jt(t,a,Xk.newNoDocument(a,Sg.min()))}else ug(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&tb(a.target)){var o=new Pg(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Xk.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Nw();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dw(e,n,this.Kt,this.Ut,r);return this.Ut=ww(),this.qt=Vw(),this.Kt=new lk(_g),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Mw,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new lk(_g),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||ng("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Mw),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Vw(){return new uk(Pg.comparator)}function Bw(){return new uk(Pg.comparator)}var zw={asc:"ASCENDING",desc:"DESCENDING"},qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ww=li((function e(t,n){si(this,e),this.databaseId=t,this.gt=n}));function Gw(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kw(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Hw(e,t){return Gw(e,t.toTimestamp())}function Qw(e){return ug(!!e),Sg.fromTimestamp(function(e){var t=mk(e);return new Eg(t.seconds,t.nanos)}(e))}function Yw(e,t){return function(e){return new Tg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xw(e){var t=Tg.fromString(e);return ug(k_(t)),t}function Jw(e,t){return Yw(e.databaseId,t.path)}function $w(e,t){var n=Xw(t);if(n.get(1)!==e.databaseId.projectId)throw new lg(cg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lg(cg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pg(n_(n))}function Zw(e,t){return Yw(e.databaseId,t)}function e_(e){var t=Xw(e);return 4===t.length?Tg.emptyPath():n_(t)}function t_(e){return new Tg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function n_(e){return ug(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function r_(e,t,n){return{name:Jw(e,t),fields:n.value.mapValue.fields}}function i_(e,t,n){var r=$w(e,t.name),i=Qw(t.updateTime),a=new Qk({mapValue:{fields:t.fields}}),o=Xk.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function a_(e,t){return"found"in t?function(e,t){ug(!!t.found),t.found.name,t.found.updateTime;var n=$w(e,t.found.name),r=Qw(t.found.updateTime),i=new Qk({mapValue:{fields:t.found.fields}});return Xk.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ug(!!t.missing),ug(!!t.readTime);var n=$w(e,t.missing),r=Qw(t.readTime);return Xk.newNoDocument(n,r)}(e,t):og()}function o_(e,t){var n;if(t instanceof uw)n={update:r_(e,t.key,t.value)};else if(t instanceof pw)n={delete:Jw(e,t.key)};else if(t instanceof sw)n={update:r_(e,t.key,t.data),updateMask:g_(t.fieldMask)};else{if(!(t instanceof vw))return og();n={verify:Jw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof qb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qb)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw og()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:og()}(e,t.precondition)),n}function u_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Zb.updateTime(Qw(e.updateTime)):void 0!==e.exists?Zb.exists(e.exists):Zb.none()}(t.currentDocument):Zb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ug("REQUEST_TIME"===t.setToServerValue),n=new qb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Wb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Kb(i)}else"increment"in t?n=new Qb(e,t.increment):og();var a=Ng.fromServerFormat(t.fieldPath);return new Jb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=$w(e,t.update.name),a=new Qk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new dk(t.map((function(e){return Ng.fromServerFormat(e)})))}(t.updateMask);return new sw(i,a,o,n,r)}return new uw(i,a,n,r)}if(t.delete){var u=$w(e,t.delete);return new pw(u,n)}if(t.verify){var s=$w(e,t.verify);return new vw(s,n)}return og()}function s_(e,t){return{documents:[Zw(e,t.path)]}}function c_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Vk(e.value))return{unaryFilter:{field:p_(e.field),op:"IS_NAN"}};if(Uk(e.value))return{unaryFilter:{field:p_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vk(e.value))return{unaryFilter:{field:p_(e.field),op:"IS_NOT_NAN"}};if(Uk(e.value))return{unaryFilter:{field:p_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:p_(e.field),op:d_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:p_(e.field),direction:h_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Ik(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function l_(e){var t=e_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ug(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=f_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new vb(v_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ik(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pb(n,t)}(n.endAt)),bb(t,i,u,o,s,"F",c,l)}function f_(e){return e?void 0!==e.unaryFilter?[y_(e)]:void 0!==e.fieldFilter?[m_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return f_(e)})).reduce((function(e,t){return e.concat(t)})):og():[]}function h_(e){return zw[e]}function d_(e){return qw[e]}function p_(e){return{fieldPath:e.canonicalString()}}function v_(e){return Ng.fromServerFormat(e.fieldPath)}function m_(e){return ab.create(v_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return og()}}(e.fieldFilter.op),e.fieldFilter.value)}function y_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=v_(e.unaryFilter.field);return ab.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=v_(e.unaryFilter.field);return ab.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=v_(e.unaryFilter.field);return ab.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=v_(e.unaryFilter.field);return ab.create(i,"!=",{nullValue:"NULL_VALUE"});default:return og()}}function g_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function k_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function b_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=__(t)),t=w_(e.get(n),t);return __(t)}function w_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function __(e){return e+"\x01\x01"}function x_(e){var t=e.length;if(ug(t>=2),2===t)return ug("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Tg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&og(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:og()}a=o+2}return new Tg(r)}var I_=["userId","batchId"];function E_(e,t){return[e,b_(t)]}function S_(e,t,n){return[e,b_(t),n]}var A_={},T_=["prefixPath","collectionGroup","readTime","documentId"],C_=["prefixPath","collectionGroup","documentId"],N_=["collectionGroup","readTime","prefixPath","documentId"],P_=["canonicalId","targetId"],O_=["targetId","path"],D_=["path","targetId"],R_=["collectionId","parent"],L_=["indexId","uid"],j_=["uid","sequenceNumber"],F_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M_=["indexId","uid","orderedDocumentKey"],U_=["userId","collectionPath","documentId"],V_=["userId","collectionPath","largestBatchId"],B_=["userId","collectionGroup","largestBatchId"],z_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),q_=[].concat(hi(z_),["documentOverlays"]),W_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],G_=W_,K_=[].concat(G_,["indexConfiguration","indexState","indexEntries"]),H_=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return li(n)}(zg);function Q_(e,t){var n=sg(e);return Hg.O(n.ie,t)}var Y_=function(){function e(t,n,r,i){si(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return li(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ui(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=iw(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ui(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=iw(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Sw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=nw(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Sg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Nw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&xg(this.mutations,e.mutations,(function(e,t){return ow(e,t)}))&&xg(this.baseMutations,e.baseMutations,(function(e,t){return ow(e,t)}))}}]),e}(),X_=function(){function e(t,n,r,i){si(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return li(e,null,[{key:"from",value:function(t,n,r){ug(t.mutations.length===r.length);for(var i=Tw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),J_=function(){function e(t,n){si(this,e),this.largestBatchId=t,this.mutation=n}return li(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),$_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pk.EMPTY_BYTE_STRING;si(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return li(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Z_=li((function e(t){si(this,e),this.re=t}));function ex(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Jw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gw(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nx(t.version)};else{if(!t.isUnknownDocument())return og();r.unknownDocument={path:n.path.toArray(),version:nx(t.version)}}return r}function tx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rx(e){var t=new Eg(e.seconds,e.nanoseconds);return Sg.fromTimestamp(t)}function ix(e,t){for(var n=(t.baseMutations||[]).map((function(t){return u_(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return u_(e.re,t)})),u=Eg.fromMillis(t.localWriteTimeMs);return new Y_(t.batchId,u,n,o)}function ax(e){var t,n,r=rx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?rx(e.lastLimboFreeSnapshotVersion):Sg.min();return void 0!==e.query.documents?(ug(1===(n=e.query).documents.length),t=Ab(wb(e_(n.documents[0])))):t=function(e){return Ab(l_(e))}(e.query),new $_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pk.fromBase64String(e.resumeToken))}function ox(e,t){var n,r=nx(t.snapshotVersion),i=nx(t.lastLimboFreeSnapshotVersion);n=tb(t.target)?s_(e.re,t.target):c_(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ux(e){var t=l_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tb(t,t.limit,"L"):t}function sx(e,t){return new J_(t.largestBatchId,u_(e.re,t.overlayMutation))}function cx(e,t){var n=t.path.lastSegment();return[e,b_(t.path.popLast()),n]}function lx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:nx(r.readTime),documentKey:b_(r.documentKey.path),largestBatchId:r.largestBatchId}}var fx=function(){function e(){si(this,e)}return li(e,[{key:"getBundleMetadata",value:function(e,t){return hx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:rx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return hx(e).put({bundleId:(n=t).id,createTime:nx(Qw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return dx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ux(t.bundledQuery),readTime:rx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return dx(e).put(function(e){return{name:e.name,readTime:nx(Qw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hx(e){return Q_(e,"bundles")}function dx(e){return Q_(e,"namedQueries")}var px=function(){function e(t,n){si(this,e),this.It=t,this.userId=n}return li(e,[{key:"getOverlay",value:function(e,t){var n=this;return vx(e).get(cx(this.userId,t)).next((function(e){return e?sx(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ew();return Gg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new J_(t,a);i.push(r.ue(e,o))})),Gg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(b_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(vx(e).Y("collectionPathOverlayIndex",i))})),Gg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ew(),a=b_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vx(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=sx(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ew(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vx(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=sx(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return vx(e).put(function(e,t,n){var r=h(cx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:o_(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function vx(e){return Q_(e,"documentOverlays")}var mx=function(){function e(){si(this,e)}return li(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(yk(e.integerValue));else if("doubleValue"in e){var n=yk(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ek(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(gk(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?qk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):og()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Pg.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function yx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=yx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}mx.Te=new mx;var kx=function(){function e(){si(this,e),this.buffer=new Uint8Array(1024),this.position=0}return li(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=gx(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=gx(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),bx=function(){function e(t){si(this,e),this.Be=t}return li(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),wx=function(){function e(t){si(this,e),this.Be=t}return li(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),_x=function(){function e(){si(this,e),this.Be=new kx,this.Le=new bx(this.Be),this.Ue=new wx(this.Be)}return li(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),xx=function(){function e(t,n,r,i){si(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return li(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Ix(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ex(e.arrayValue,t.arrayValue))?n:0!==(n=Ex(e.directionalValue,t.directionalValue))?n:Pg.comparator(e.documentKey,t.documentKey)}function Ex(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Sx=function(){function e(t){si(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=ui(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return li(e,[{key:"We",value:function(e){var t=Dg(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Rg(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=ui(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Ax=function(){function e(){si(this,e),this.Ye=new Tx}return li(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Gg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Gg.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Gg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Gg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Gg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Gg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Gg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Gg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Gg.resolve(Ug.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Gg.resolve(Ug.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Gg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Gg.resolve()}}]),e}(),Tx=function(){function e(){si(this,e),this.index={}}return li(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lk(Tg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lk(Tg.comparator)).toArray()}}]),e}(),Cx=new Uint8Array(0),Nx=function(){function e(t,n){si(this,e),this.user=t,this.databaseId=n,this.Xe=new Tx,this.Ze=new kw((function(e){return Zk(e)}),(function(e,t){return eb(e,t)})),this.uid=t.uid||""}return li(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:b_(i)};return Px(e).put(a)}return Gg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ig(t),""],!1,!0);return Px(e).W(r).next((function(e){var r,i=ui(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(x_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Dx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Rx(e);return a.next((function(e){o.put(lx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Dx(e),r=Rx(e),i=Ox(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ox(e),i=!0,a=new Map;return Gg.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Nw(),o=[];return Gg.forEach(a,(function(i,a){var u;ng("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Zk(t)));var s=function(e,t){var n=Dg(t);if(void 0===n)return null;var r,i=ui(nb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ui(Rg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ui(nb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ui(Rg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?rb(e,o.fieldPath,e.startAt):ib(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new pb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ui(Rg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ib(e,o.fieldPath,e.endAt):rb(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new pb(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Gg.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Pg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Gg.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Cx,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,hi(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new xx(e,Pg.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new xx(e,Pg.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Sx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ui(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Gg.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new lk(Ng.comparator),r=!1,i=ui(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=ui(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new _x,i=ui(Rg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);mx.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new _x;return mx.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new _x;return mx.Te.ce(jk(this.databaseId,t),n.qe(function(e){var t=Rg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new _x);var i,a=0,o=ui(Rg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ui(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Mk(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);mx.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=hi(e),a=[],o=ui(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ui(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new _x;f.seed(l.$e()),mx.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ab&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Dx(e),i=Rx(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Gg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new jg(t.sequenceNumber,new Ug(rx(t.readTime),new Pg(x_(t.documentKey)),t.largestBatchId)):jg.empty(),r=e.fields.map((function(e){var t=h(e,2),n=t[0],r=t[1];return new Lg(Ng.fromServerFormat(n),r)}));return new Og(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:_g(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Dx(e),a=Rx(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Gg.forEach(t,(function(t){return a.put(lx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Gg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Gg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Gg.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Gg.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Ox(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Ox(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Ox(e),i=new lk(Ix);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new xx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new lk(Ix),r=this.an(t,e);if(null==r)return n;var i=Dg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Mk(a)){var o,u=ui(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new xx(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new xx(t.indexId,e.key,Cx,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;ng("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=hk(a),s=hk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=hk(o)):l?(i(u),u=hk(a)):(u=hk(a),s=hk(o))}}(r,i,Ix,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Gg.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Rx(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Ix(e,t)})).filter((function(e,t,n){return!t||0!==Ix(e,n[t-1])}));var r=[];r.push(e);var i,a=ui(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Ix(o,e),s=Ix(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Cx,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Cx,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Lx)}},{key:"getMinOffset",value:function(e,t){var n=this;return Gg.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||og()}))})).next(Lx)}}]),e}();function Px(e){return Q_(e,"collectionParents")}function Ox(e){return Q_(e,"indexEntries")}function Dx(e){return Q_(e,"indexConfiguration")}function Rx(e){return Q_(e,"indexState")}function Lx(e){ug(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Vg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ug(t.readTime,t.documentKey,n)}var jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fx=function(){function e(t,n,r){si(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return li(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Mx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ug(1===u)})));var c,l=[],f=ui(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=S_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Gg.waitFor(a).next((function(){return l}))}function Ux(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw og();t=e.noDocument}return JSON.stringify(t).length}Fx.DEFAULT_COLLECTION_PERCENTILE=10,Fx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fx.DEFAULT=new Fx(41943040,Fx.DEFAULT_COLLECTION_PERCENTILE,Fx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fx.DISABLED=new Fx(-1,0,0);var Vx=function(){function e(t,n,r,i){si(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return li(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zx(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qx(e),o=zx(e);return o.add({}).next((function(u){ug("number"==typeof u);var s,c=new Y_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return o_(e.re,t)})),i=n.mutations.map((function(t){return o_(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new lk((function(e,t){return _g(e.canonicalString(),t.canonicalString())})),d=ui(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=S_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,A_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Gg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return zx(e).get(t).next((function(e){return e?(ug(e.userId===n.userId),ix(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Gg.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return zx(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ug(t.batchId>=r),a=ix(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zx(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zx(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ix(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=E_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qx(e).Z({range:i},(function(r,i,o){var u=h(r,3),s=u[0],c=u[1],l=u[2],f=x_(c);if(s===n.userId&&t.path.isEqual(f))return zx(e).get(l).next((function(e){if(!e)throw og();ug(e.userId===n.userId),a.push(ix(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lk(_g),i=[];return t.forEach((function(t){var a=E_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=qx(e).Z({range:o},(function(e,i,a){var o=h(e,3),u=o[0],s=o[1],c=o[2],l=x_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Gg.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=E_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new lk(_g);return qx(e).Z({range:o},(function(e,t,a){var o=h(e,3),s=o[0],c=o[1],l=o[2],f=x_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zx(e).get(t).next((function(e){if(null===e)throw og();ug(e.userId===n.userId),r.push(ix(n.It,e))})))})),Gg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Mx(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Gg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Gg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return qx(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=x_(e[1]);i.push(a)}else r.done()})).next((function(){ug(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Bx(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Wx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return ug(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Bx(e,t,n){var r=E_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return qx(e).Z({range:a,X:!0},(function(e,n,r){var a=h(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function zx(e){return Q_(e,"mutations")}function qx(e){return Q_(e,"documentMutations")}function Wx(e){return Q_(e,"mutationQueues")}var Gx=function(){function e(t){si(this,e),this.bn=t}return li(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Kx=function(){function e(t,n){si(this,e),this.referenceDelegate=t,this.It=n}return li(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Gx(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Sg.fromTimestamp(new Eg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hx(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return ug(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Hx(e).Z((function(o,u){var s=ax(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Gg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hx(e).Z((function(e,n){var r=ax(n);t(r)}))}},{key:"Vn",value:function(e){return Qx(e).get("targetGlobalKey").next((function(e){return ug(null!==e),e}))}},{key:"Sn",value:function(e,t){return Qx(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Hx(e).put(ox(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Zk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hx(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ax(n);eb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Yx(e);return t.forEach((function(t){var o=b_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Gg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Yx(e);return Gg.forEach(t,(function(t){var a=b_(t.path);return Gg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Yx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yx(e),i=Nw();return r.Z({range:n,X:!0},(function(e,t,n){var r=x_(e[1]),a=new Pg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=b_(t.path),r=IDBKeyRange.bound([n],[Ig(n)],!1,!0),i=0;return Yx(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=h(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Hx(e).get(t).next((function(e){return e?ax(e):null}))}}]),e}();function Hx(e){return Q_(e,"targets")}function Qx(e){return Q_(e,"targetGlobal")}function Yx(e){return Q_(e,"targetDocuments")}function Xx(e,t){var n=h(e,2),r=n[0],i=n[1],a=h(t,2),o=a[0],u=a[1],s=_g(r,o);return 0===s?_g(i,u):s}var Jx=function(){function e(t){si(this,e),this.xn=t,this.buffer=new lk(Xx),this.Nn=0}return li(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Xx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),$x=function(){function e(t,n,r){si(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return li(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;ng("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Xg(e.t0)){e.next=12;break}ng("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,qg(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Zx=function(){function e(t,n){si(this,e),this.$n=t,this.params=n}return li(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Gg.resolve(rk.at);var r=new Jx(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ng("LruGarbageCollector","Garbage collection skipped; disabled"),Gg.resolve(jx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ng("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),jx):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ng("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),tg()<=Hi.DEBUG&&ng("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Gg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),eI=function(){function e(t,n){si(this,e),this.db=t,this.garbageCollector=function(e,t){return new Zx(e,t)}(this,n)}return li(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return tI(e,n)}},{key:"removeReference",value:function(e,t,n){return tI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return tI(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Wx(e).tt((function(r){return Bx(e,r,t).next((function(e){return e&&(n=!0),Gg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Sg.min()),Yx(e).delete([0,b_(o.path)])}))}));i.push(s)}})).next((function(){return Gg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return tI(e,t)}},{key:"Kn",value:function(e,t){var n,r=Yx(e),i=rk.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=h(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==rk.at&&t(new Pg(x_(n)),i),i=s,n=u):i=rk.at})).next((function(){i!==rk.at&&t(new Pg(x_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function tI(e,t){return Yx(e).put(function(e,t){return{targetId:0,path:b_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var nI=function(){function e(){si(this,e),this.changes=new kw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return li(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Xk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Gg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),rI=function(){function e(t){si(this,e),this.It=t}return li(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return uI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return uI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],tx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Xk.newInvalidDocument(t);return uI(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(sI(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Xk.newInvalidDocument(t)};return uI(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(sI(t))},(function(e,i){r={document:n.jn(t,i),size:Ux(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ww();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ww(),i=new uk(Pg.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Ux(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Gg.resolve();var r=new lk(lI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(sI(r.first()),sI(r.last())),a=r.getIterator(),o=a.getNext();return uI(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Pg.fromSegments([].concat(hi(t.prefixPath),[t.collectionGroup,t.documentId]));o&&lI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(sI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),tx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uI(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ww(),i=ui(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Pg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ww(),o=cI(t,n),u=cI(t,Ug.max());return uI(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Pg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new aI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return oI(e).get("remoteDocumentGlobalKey").next((function(e){return ug(!!e),e}))}},{key:"Qn",value:function(e,t){return oI(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=i_(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Pg.fromSegments(t.noDocument.path),i=rx(t.noDocument.readTime);n=Xk.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return og();var a=Pg.fromSegments(t.unknownDocument.path),o=rx(t.unknownDocument.version);n=Xk.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Eg(e[0],e[1]);return Sg.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Sg.min()))return n}return Xk.newInvalidDocument(e)}}]),e}();function iI(e){return new rI(e)}var aI=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new kw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return li(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new lk((function(e,t){return _g(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ex(t.Yn.It,o);i=i.add(a.path.popLast());var c=Ux(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ex(t.Yn.It,o.convertToNoDocument(Sg.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Gg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(nI);function oI(e){return Q_(e,"remoteDocumentGlobal")}function uI(e){return Q_(e,"remoteDocumentsV14")}function sI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cI(e,t){var n=t.documentKey.path.toArray();return[e,tx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=_g(n[a],r[a]))return i;return(i=_g(n.length,r.length))||((i=_g(n[n.length-2],r[r.length-2]))||_g(n[n.length-1],r[r.length-1]))}var fI=li((function e(t,n){si(this,e),this.overlayedDocument=t,this.mutatedFields=n})),hI=function(){function e(t,n,r,i){si(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return li(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&iw(r.mutation,e,dk.empty(),Eg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Nw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nw(),i=Ew();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=xw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ew();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Nw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ww(),a=Aw(),o=Aw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof sw)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),iw(o.mutation,t,o.mutation.getFieldMask(),Eg.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new fI(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Aw(),i=new uk((function(e,t){return e-t})),a=Nw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ui(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||dk.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Nw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Sw();c.forEach((function(e){if(!a.has(e)){var n=nw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Gg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Pg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Eb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Gg.resolve(Ew()),u=-1,s=a;return o.next((function(t){return Gg.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Gg.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Nw())})).next((function(e){return{batchId:u,changes:Iw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Pg(t)).next((function(e){var t=xw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=xw();return this.indexManager.getCollectionParents(e,i).next((function(o){return Gg.forEach(o,(function(o){var u=function(e,t){return new kb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Xk.newInvalidDocument(n)))}));var n=xw();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&iw(a.mutation,i,dk.empty(),Eg.now()),Ob(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Gg.resolve(Xk.newInvalidDocument(t))}}]),e}(),dI=function(){function e(t){si(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return li(e,[{key:"getBundleMetadata",value:function(e,t){return Gg.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Qw(n.createTime)}),Gg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Gg.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:ux(e.bundledQuery),readTime:Qw(e.readTime)}}(t)),Gg.resolve()}}]),e}(),pI=function(){function e(){si(this,e),this.overlays=new uk(Pg.comparator),this.es=new Map}return li(e,[{key:"getOverlay",value:function(e,t){return Gg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ew();return Gg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Gg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Gg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ew(),i=t.length+1,a=new Pg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Gg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new uk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ew(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ew(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Gg.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new J_(t,n));var a=this.es.get(t);void 0===a&&(a=Nw(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),vI=function(){function e(){si(this,e),this.ns=new lk(mI.ss),this.rs=new lk(mI.os)}return li(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new mI(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new mI(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Pg(new Tg([])),r=new mI(n,e),i=new mI(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Pg(new Tg([])),n=new mI(t,e),r=new mI(t,e+1),i=Nw();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new mI(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),mI=function(){function e(t,n){si(this,e),this.key=t,this._s=n}return li(e,null,[{key:"ss",value:function(e,t){return Pg.comparator(e.key,t.key)||_g(e._s,t._s)}},{key:"os",value:function(e,t){return _g(e._s,t._s)||Pg.comparator(e.key,t.key)}}]),e}(),yI=function(){function e(t,n){si(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new lk(mI.ss)}return li(e,[{key:"checkEmpty",value:function(e){return Gg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Y_(i,t,n,r);this.mutationQueue.push(a);var o,u=ui(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new mI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Gg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Gg.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Gg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Gg.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Gg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new mI(t,0),i=new mI(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Gg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lk(_g);return t.forEach((function(e){var t=new mI(e,0),i=new mI(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Gg.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pg.isDocumentKey(i)||(i=i.child(""));var a=new mI(new Pg(i),0),o=new lk(_g);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Gg.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ug(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Gg.forEach(t.mutations,(function(i){var a=new mI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new mI(t,0),r=this.gs.firstAfterOrEqual(n);return Gg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Gg.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),gI=function(){function e(t){si(this,e),this.Es=t,this.docs=new uk(Pg.comparator),this.size=0}return li(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Gg.resolve(n?n.document.mutableCopy():Xk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ww();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xk.newInvalidDocument(e))})),Gg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ww(),i=new Pg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Vg(Mg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Gg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){og()}},{key:"As",value:function(e,t){return Gg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new kI(this)}},{key:"getSize",value:function(e){return Gg.resolve(this.size)}}]),e}(),kI=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).Yn=e,r}return li(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Gg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(nI),bI=function(){function e(t){si(this,e),this.persistence=t,this.Rs=new kw((function(e){return Zk(e)}),eb),this.lastRemoteSnapshotVersion=Sg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new vI,this.targetCount=0,this.vs=Gx.Pn()}return li(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Gg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Gg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Gg.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Gg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Gg.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Gx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Gg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Gg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Gg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Gg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Gg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Gg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Gg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Gg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Gg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Gg.resolve(n)}},{key:"containsKey",value:function(e,t){return Gg.resolve(this.Ps.containsKey(t))}}]),e}(),wI=function(){function e(t,n){var r=this;si(this,e),this.Vs={},this.overlays={},this.Ss=new rk(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new bI(this),this.indexManager=new Ax,this.remoteDocumentCache=new gI((function(e){return r.referenceDelegate.xs(e)})),this.It=new Z_(n),this.Ns=new dI(this.It)}return li(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new pI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new yI(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;ng("MemoryPersistence","Starting transaction:",e);var i=new _I(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Gg.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_I=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return li(n)}(zg),xI=function(){function e(t){si(this,e),this.persistence=t,this.Fs=new vI,this.$s=null}return li(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw og()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Gg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Gg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Gg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gg.forEach(this.Ls,(function(r){var i=Pg.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Sg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Gg.or([function(){return Gg.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),II=function(){function e(t){si(this,e),this.It=t}return li(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Kg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I_,{unique:!0}),e.createObjectStore("documentMutations")}(e),EI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Gg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),EI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Gg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:U_});t.createIndex("collectionPathOverlayIndex",V_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",B_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:T_});t.createIndex("documentKeyIndex",C_),t.createIndex("collectionGroupIndex",N_)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:L_}).createIndex("sequenceNumberIndex",j_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:F_}).createIndex("documentKeyIndex",M_,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Ux(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Gg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Gg.forEach(r,(function(r){ug(r.userId===n.userId);var i=ix(t.It,r);return Mx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Tg(n),o=function(e){return[0,b_(e)]}(a);r.push(t.get(o).next((function(n){return n?Gg.resolve():function(n){return t.put({targetId:0,path:b_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Gg.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:R_});var n=t.store("collectionParents"),r=new Tx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:b_(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Tg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=h(e,3),r=(n[0],n[1]),a=(n[2],x_(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=ax(r),a=ox(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Pg(Tg.fromString(i.document.name).popFirst(5)):i.noDocument?Pg.fromSegments(i.noDocument.path):i.unknownDocument?Pg.fromSegments(i.unknownDocument.path):og()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Gg.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=iI(this.It),a=new wI(xI.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Nw();ix(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Gg.forEach(r,(function(e,r){var o=new $y(r),u=px.oe(n.It,o),s=a.getIndexManager(o),c=Vx.oe(o,n.It,s,a.referenceDelegate);return new hI(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new H_(t,rk.at),e).next()}))}))}}]),e}();function EI(e){e.createObjectStore("targetDocuments",{keyPath:O_}).createIndex("documentTargetsIndex",D_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P_,{unique:!0}),e.createObjectStore("targetGlobal")}var SI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",AI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(si(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new lg(cg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eI(this,i),this.ii=n+"main",this.It=new Z_(s),this.ri=new Hg(this.ii,this.Xs,new II(this.It)),this.Cs=new Kx(this.referenceDelegate,this.It),this.remoteDocumentCache=iI(this.It),this.Ns=new fx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&rg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return li(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new lg(cg.FAILED_PRECONDITION,SI);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new rk(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=A(E().mark((function n(r){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=A(E().mark((function t(n){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return CI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Xg(t))return ng("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ng("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return TI(e).get("owner").next((function(e){return Gg.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return CI(e).delete(this.clientId)}},{key:"yi",value:function(){var e=A(E().mark((function e(){var t,n,r,i,a=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Q_(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Gg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=ui(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Gg.resolve(!0):TI(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new lg(cg.FAILED_PRECONDITION,SI);return!1}}return!(!t.networkEnabled||!t.inForeground)||CI(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ng("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=A(E().mark((function e(){var t=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new H_(e,rk.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return CI(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Vx.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Nx(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return px.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;ng("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?K_:14===i?G_:13===i?W_:12===i?q_:11===i?z_:void og();return this.ri.runTransaction(e,o,u,(function(i){return a=new H_(i,r.Ss?r.Ss.next():rk.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw rg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new lg(cg.FAILED_PRECONDITION,Bg);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return TI(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new lg(cg.FAILED_PRECONDITION,SI)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return TI(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=TI(e);return n.get("owner").next((function(e){return t.mi(e)?(ng("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Gg.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(rg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ii()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ng("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return rg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(N){rg("Failed to set zombie client id.",N)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(N){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Hg.C()}}]),e}();function TI(e){return Q_(e,"owner")}function CI(e){return Q_(e,"clientMetadata")}function NI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var PI=function(){function e(t,n,r,i){si(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return li(e,null,[{key:"Ci",value:function(t,n){var r,i=Nw(),a=Nw(),o=ui(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),OI=function(){function e(){si(this,e),this.xi=!1}return li(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(_b(t))return Gg.resolve(null);var r=Ab(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Tb(t,null,"F"),r=Ab(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Nw.apply(void 0,hi(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Tb(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return _b(t)||r.isEqual(Sg.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(tg()<=Hi.DEBUG&&ng("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pb(t)),i.Bi(e,o,t,Fg(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new lk(Rb(e));return t.forEach((function(t,r){Ob(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return tg()<=Hi.DEBUG&&ng("QueryEngine","Using full collection scan to execute query:",Pb(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ug.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),DI=function(){function e(t,n,r,i){si(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new uk(_g),this.qi=new kw((function(e){return Zk(e)}),eb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return li(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hI(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function RI(e,t,n,r){return new DI(e,t,n,r)}function LI(e,t){return jI.apply(this,arguments)}function jI(){return jI=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Nw(),s=ui(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ui(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ui(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ui(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function FI(e,t){var n=sg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Gg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ug(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Nw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function MI(e){var t=sg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function UI(e,t){var n=sg(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(pk.EMPTY_BYTE_STRING,Sg.min()).withLastLimboFreeSnapshotVersion(Sg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=ww(),s=Nw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(VI(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Sg.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Gg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function VI(e,t,n){var r=Nw(),i=Nw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ww();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Sg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ng("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function BI(e,t){var n=sg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function zI(e,t){var n=sg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Gg.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new $_(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function qI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=sg(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xg(e.t1)){e.next=12;break}throw e.t1;case 12:ng("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),WI.apply(this,arguments)}function GI(e,t,n){var r=sg(e),i=Sg.min(),a=Nw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=sg(e),i=r.qi.get(n);return void 0!==i?Gg.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ab(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Sg.min(),n?a:Nw())})).next((function(e){return QI(r,Db(t),e),{documents:e,Hi:a}}))}))}function KI(e,t){var n=sg(e),r=sg(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function HI(e,t){var n=sg(e),r=n.Ki.get(t)||Sg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Fg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return QI(n,t,e),e}))}function QI(e,t,n){var r=Sg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function YI(e,t,n,r){return XI.apply(this,arguments)}function XI(){return XI=A(E().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sg(t),o=Nw(),u=ww(),s=ui(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,zI(a,function(e){return Ab(wb(Tg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return VI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t){return $I.apply(this,arguments)}function $I(){return $I=A(E().mark((function e(t,n){var r,i,a,o=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Nw(),e.next=3,zI(t,Ab(ux(n.bundledQuery)));case 3:return i=e.sent,a=sg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Qw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(pk.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function ZI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function eE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function tE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var nE=function(){function e(t,n,r,i){si(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return li(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new lg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(rg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),rE=function(){function e(t,n,r){si(this,e),this.targetId=t,this.state=n,this.error=r}return li(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new lg(i.error.code,i.error.message))),a?new e(t,i.state,r):(rg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),iE=function(){function e(t,n){si(this,e),this.clientId=t,this.activeTargetIds=n}return li(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ow(),o=0;i&&o<r.activeTargetIds.length;++o)i=Sk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(rg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),aE=function(){function e(t,n){si(this,e),this.clientId=t,this.onlineState=n}return li(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(rg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),oE=function(){function e(){si(this,e),this.activeTargetIds=Ow()}return li(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),uE=function(){function e(t,n,r,i,a){si(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new uk(_g),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=ZI(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new oE),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return li(e,[{key:"start",value:function(){var e=A(E().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=ui(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ZI(this.persistenceKey,i)))&&(o=iE.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=ui(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tE(this.persistenceKey,e));if(n){var r=rE.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(tE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ng("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ng("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ng("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ng("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void rg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(A(E().mark((function e(){var r,i,a,o,u,s,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=rk.at;if(null!=e)try{var n=JSON.parse(e);ug("number"==typeof n),t=n}catch(e){rg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==rk.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new nE(this.currentUser,e,t,n),i=eE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=eE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=tE(this.persistenceKey,e),i=new rE(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return iE.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return nE.Zi(new $y(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return rE.Zi(r,t)}},{key:"yr",value:function(e){return aE.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:ng("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Ow();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sE=function(){function e(){si(this,e),this.Lr=new oE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return li(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new oE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),cE=function(){function e(){si(this,e)}return li(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),lE=function(){function e(){var t=this;si(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return li(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){ng("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ui(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){ng("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ui(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),fE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hE=function(){function e(t){si(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return li(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),dE=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return li(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Xy;o.listenOnce(Gy.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Wy.NO_ERROR:var t=o.getResponseJson();ng("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Wy.TIMEOUT:ng("Connection",'RPC "'+e+'" timed out'),a(new lg(cg.DEADLINE_EXCEEDED,"Request time out"));break;case Wy.HTTP_ERROR:var n=o.getStatus();if(ng("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(cg).indexOf(t)>=0?t:cg.UNKNOWN}(r.status);a(new lg(u,r.message))}else a(new lg(cg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new lg(cg.UNAVAILABLE,"Connection failed."));break;default:og()}}finally{ng("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zy(),a=qy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qy({})),this.ho(o.initMessageHeaders,t,n),xi()||Si()||_i().indexOf("Electron/")>=0||Ai()||_i().indexOf("MSAppHost/")>=0||Ei()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");ng("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new hE({Hr:function(e){l?ng("Connection","Not sending because WebChannel is closed:",e):(c||(ng("Connection","Opening WebChannel transport."),s.open(),c=!0),ng("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Yy.EventType.OPEN,(function(){l||ng("Connection","WebChannel transport opened.")})),h(s,Yy.EventType.CLOSE,(function(){l||(l=!0,ng("Connection","WebChannel transport closed"),f.io())})),h(s,Yy.EventType.ERROR,(function(e){l||(l=!0,ig("Connection","WebChannel transport errored:",e),f.io(new lg(cg.UNAVAILABLE,"The operation could not be completed")))})),h(s,Yy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ug(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ng("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=hw[e];if(void 0!==t)return gw(t)}(a),u=i.message;void 0===o&&(o=cg.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new lg(o,u)),s.close()}else ng("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Ky.STAT_EVENT,(function(e){e.stat===Hy.PROXY?ng("Connection","Detected buffering proxy"):e.stat===Hy.NOPROXY&&ng("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){si(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return li(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);ng("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return ng("RestConnection","Received: ",e),e}),(function(t){throw ig("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=fE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function pE(){return"undefined"!=typeof window?window:null}function vE(){return"undefined"!=typeof document?document:null}function mE(e){return new Ww(e,!0)}var yE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;si(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return li(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ng("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),gE=function(){function e(t,n,r,i,a,o,u,s){si(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new yE(t,n)}return li(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===cg.RESOURCE_EXHAUSTED?(rg(n.toString()),rg("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===cg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=h(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new lg(cg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return ng("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(ng("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),kE=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a,o,u){var s;return si(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return li(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:og()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(ug(void 0===t||"string"==typeof t),pk.fromBase64String(t||"")):(ug(void 0===t||t instanceof Uint8Array),pk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?cg.UNKNOWN:gw(e.code);return new lg(t,e.message||"")}(o);n=new Fw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=$w(e,s.document.name),l=Qw(s.document.updateTime),f=new Qk({mapValue:{fields:s.document.fields}}),h=Xk.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Lw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=$w(e,v.document),y=v.readTime?Qw(v.readTime):Sg.min(),g=Xk.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Lw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=$w(e,b.document),_=b.removedTargetIds||[];n=new Lw([],_,w,null)}else{if(!("filter"in t))return og();t.filter;var x=t.filter;x.targetId;var I=x.count||0,E=new mw(I),S=x.targetId;n=new jw(S,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Sg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Sg.min():t.readTime?Qw(t.readTime):Sg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=t_(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=tb(r)?{documents:s_(e,r)}:{query:c_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Kw(e,t.resumeToken):t.snapshotVersion.compareTo(Sg.min())>0&&(n.readTime=Gw(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return og()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=t_(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(gE),bE=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a,o,u){var s;return si(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return li(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,ei($r(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(ug(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ug(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Qw(e.updateTime):Qw(t);return n.isEqual(Sg.min())&&(n=Qw(t)),new $b(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Qw(e.commitTime);return this.listener.Zo(n,t)}return ug(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=t_(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return o_(t.It,e)}))};this.Bo(n)}}]),n}(gE),wE=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a){var o;return si(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return li(n,[{key:"su",value:function(){if(this.nu)throw new lg(cg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lg(cg.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=h(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new lg(cg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return li((function e(){si(this,e)}))}()),_E=function(){function e(t,n){si(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return li(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(rg(t),this.ou=!1):ng("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),xE=li((function e(t,n,r,i,a){var o=this;si(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=RE(o),!e.t0){e.next=5;break}return ng("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=sg(t))._u.add(4),e.next=4,SE(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,IE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new _E(r,i)}));function IE(e){return EE.apply(this,arguments)}function EE(){return EE=A(E().mark((function e(t){var n,r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!RE(t)){e.next=18;break}n=ui(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),EE.apply(this,arguments)}function SE(e){return AE.apply(this,arguments)}function AE(){return AE=A(E().mark((function e(t){var n,r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ui(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),AE.apply(this,arguments)}function TE(e,t){var n=sg(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),DE(n)?OE(n):cS(n).ko()&&NE(n,t))}function CE(e,t){var n=sg(e),r=cS(n);n.du.delete(t),r.ko()&&PE(n,t),0===n.du.size&&(r.ko()?r.Fo():RE(n)&&n.gu.set("Unknown"))}function NE(e,t){e.yu.Ot(t.targetId),cS(e).zo(t)}function PE(e,t){e.yu.Ot(t),cS(e).Ho(t)}function OE(e){e.yu=new Uw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),cS(e).start(),e.gu.uu()}function DE(e){return RE(e)&&!cS(e).No()&&e.du.size>0}function RE(e){return 0===sg(e)._u.size}function LE(e){e.yu=void 0}function jE(e){return FE.apply(this,arguments)}function FE(){return FE=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){NE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function ME(e,t){return UE.apply(this,arguments)}function UE(){return UE=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LE(t),DE(t)?(t.gu.hu(n),OE(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=A(E().mark((function e(t,n,r){var i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Fw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ui(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ng("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,zE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Lw?t.yu.Gt(n):n instanceof jw?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Sg.min())){e.next=29;break}return e.prev=14,e.next=17,MI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(pk.EMPTY_BYTE_STRING,n.snapshotVersion)),PE(e,t);var r=new $_(n.target,t,1,n.sequenceNumber);NE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ng("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,zE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),BE.apply(this,arguments)}function zE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=A(E().mark((function e(t,n,r){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xg(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,SE(t);case 5:t.gu.set("Offline"),r||(r=function(){return MI(t.localStore)}),t.asyncQueue.enqueueRetryable(A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ng("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,IE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function WE(e,t){return t().catch((function(n){return zE(e,n,t)}))}function GE(e){return KE.apply(this,arguments)}function KE(){return KE=A(E().mark((function e(t){var n,r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sg(t),r=lS(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!HE(n)){e.next=19;break}return e.prev=3,e.next=6,BI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,QE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,zE(n,e.t0);case 17:e.next=2;break;case 19:YE(n)&&XE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),KE.apply(this,arguments)}function HE(e){return RE(e)&&e.fu.length<10}function QE(e,t){e.fu.push(t);var n=lS(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function YE(e){return RE(e)&&!lS(e).No()&&e.fu.length>0}function XE(e){lS(e).start()}function JE(e){return $E.apply(this,arguments)}function $E(){return $E=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lS(t).eu();case 1:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function ZE(e){return eS.apply(this,arguments)}function eS(){return eS=A(E().mark((function e(t){var n,r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lS(t),r=ui(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return nS=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=X_.from(i,n,r),e.next=3,WE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,GE(t);case 5:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&lS(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yw(i=n.code)||i===cg.ABORTED){e.next=7;break}return r=t.fu.shift(),lS(t).Oo(),e.next=5,WE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,GE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:YE(t)&&XE(t);case 5:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=sg(t)).asyncQueue.verifyOperationInProgress(),ng("RemoteStore","RemoteStore received new credentials"),i=RE(r),r._u.add(3),e.next=6,SE(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,IE(r);case 12:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sg(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,IE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,SE(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function cS(e){return e.pu||(e.pu=function(e,t,n){var r=sg(e);return r.su(),new kE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:jE.bind(null,e),Zr:ME.bind(null,e),Wo:VE.bind(null,e)}),e.wu.push(function(){var t=A(E().mark((function t(n){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),DE(e)?OE(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:LE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function lS(e){return e.Iu||(e.Iu=function(e,t,n){var r=sg(e);return r.su(),new bE(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:JE.bind(null,e),Zr:rS.bind(null,e),tu:ZE.bind(null,e),Zo:tS.bind(null,e)}),e.wu.push(function(){var t=A(E().mark((function t(n){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,GE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(ng("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var fS=function(){function e(t,n,r,i,a){si(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return li(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lg(cg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function hS(e,t){if(rg("AsyncQueue","".concat(t,": ").concat(e)),Xg(e))return new lg(cg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var dS=function(){function e(t){si(this,e),this.comparator=t?function(e,n){return t(e,n)||Pg.comparator(e.key,n.key)}:function(e,t){return Pg.comparator(e.key,t.key)},this.keyedMap=xw(),this.sortedSet=new uk(this.comparator)}return li(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pS=function(){function e(){si(this,e),this.Tu=new uk(Pg.comparator)}return li(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):og():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vS=function(){function e(t,n,r,i,a,o,u,s){si(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return li(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,dS.emptySet(n),a,r,i,!0,!1)}}]),e}(),mS=li((function e(){si(this,e),this.Au=void 0,this.listeners=[]})),yS=li((function e(){si(this,e),this.queries=new kw((function(e){return Nb(e)}),Cb),this.onlineState="Unknown",this.Ru=new Set}));function gS(e,t){return kS.apply(this,arguments)}function kS(){return kS=A(E().mark((function e(t,n){var r,i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=hS(e.t0,"Initialization of query '".concat(Pb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&IS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=A(E().mark((function e(t,n){var r,i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function _S(e,t){var n,r=sg(e),i=!1,a=ui(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ui(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&IS(r)}function xS(e,t,n){var r=sg(e),i=r.queries.get(t);if(i){var a,o=ui(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function IS(e){e.Ru.forEach((function(e){e.next()}))}var ES=function(){function e(t,n,r){si(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return li(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ui(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=vS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),SS=function(){function e(t,n){si(this,e),this.payload=t,this.byteLength=n}return li(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),AS=function(){function e(t){si(this,e),this.It=t}return li(e,[{key:"Ji",value:function(e){return $w(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?i_(this.It,e.document,!1):Xk.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Qw(e)}}]),e}(),TS=function(){function e(t,n,r){si(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CS(t)}return li(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Tg.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new AS(this.It),i=ui(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=ui(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Nw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=A(E().mark((function e(){var t,n,r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YI(this.localStore,new AS(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=ui(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,JI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function CS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var NS=li((function e(t){si(this,e),this.key=t})),PS=li((function e(t){si(this,e),this.key=t})),OS=function(){function e(t,n){si(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Nw(),this.mutatedKeys=Nw(),this.Ku=Rb(t),this.Gu=new dS(this.Ku)}return li(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new pS,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ob(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return og()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new vS(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new pS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Nw(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new PS(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new NS(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Nw();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return vS.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),DS=li((function e(t,n,r){si(this,e),this.query=t,this.targetId=n,this.view=r})),RS=li((function e(t){si(this,e),this.key=t,this.ec=!1})),LS=function(){function e(t,n,r,i,a,o){si(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new kw((function(e){return Nb(e)}),Cb),this.ic=new Map,this.rc=new Set,this.oc=new uk(Pg.comparator),this.uc=new Map,this.cc=new vI,this.ac={},this.hc=new Map,this.lc=Gx.vn(),this.onlineState="Unknown",this.fc=void 0}return li(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function jS(e,t){return FS.apply(this,arguments)}function FS(){return FS=A(E().mark((function e(t,n){var r,i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=CA(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,zI(r.localStore,Ab(n));case 8:return u=e.sent,r.isPrimaryClient&&TE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,MS(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function MS(e,t,n,r){return US.apply(this,arguments)}function US(){return US=A(E().mark((function e(t,n,r,i){var a,o,u,s,c,l;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=A(E().mark((function e(t,n,r,i){var a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,GI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(aA(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,GI(t.localStore,n,!0);case 3:return a=e.sent,o=new OS(n,a.Hi),u=o.ju(a.documents),s=Rw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),aA(t,r,c.Yu),l=new DS(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t){return BS.apply(this,arguments)}function BS(){return BS=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sg(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Cb(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,qI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),CE(r.remoteStore,i.targetId),rA(r,i.targetId)})).catch(qg);case 9:e.next=14;break;case 11:return rA(r,i.targetId),e.next=14,qI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function zS(e,t,n){return qS.apply(this,arguments)}function qS(){return qS=A(E().mark((function e(t,n,r){var i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=sg(e),a=Eg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Nw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ww(),s=Nw();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ui(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=aw(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new sw(c.key,l,Yk(l.value.mapValue),Zb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Iw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new uk(_g)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,sA(i,a.changes);case 9:return e.next=11,GE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=hS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),qS.apply(this,arguments)}function WS(e,t){return GS.apply(this,arguments)}function GS(){return GS=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),e.prev=1,e.next=4,UI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(ug(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?ug(n.ec):e.removedDocuments.size>0&&(ug(n.ec),n.ec=!1))})),e.next=8,sA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,qg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),GS.apply(this,arguments)}function KS(e,t,n){var r=sg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=sg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ui(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&IS(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function HS(e,t,n){return QS.apply(this,arguments)}function QS(){return QS=A(E().mark((function e(t,n,r){var i,a,o,u,s,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=sg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new uk(Pg.comparator)).insert(o,Xk.newNoDocument(o,Sg.min())),s=Nw().add(o),c=new Dw(Sg.min(),new Map,new lk(_g),u,s),e.next=9,WS(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),uA(i),e.next=16;break;case 14:return e.next=16,qI(i.localStore,n,!1).then((function(){return rA(i,n,r)})).catch(qg);case 16:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function YS(e,t){return XS.apply(this,arguments)}function XS(){return XS=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),i=n.batch.batchId,e.prev=1,e.next=4,FI(r.localStore,n);case 4:return a=e.sent,nA(r,i,null),tA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,sA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XS.apply(this,arguments)}function JS(e,t,n){return $S.apply(this,arguments)}function $S(){return $S=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sg(t),e.prev=1,e.next=4,function(e,t){var n=sg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ug(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,nA(i,n,r),tA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,sA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$S.apply(this,arguments)}function ZS(e,t){return eA.apply(this,arguments)}function eA(){return eA=A(E().mark((function e(t,n){var r,i,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RE((r=sg(t)).remoteStore)||ng("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=sg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=hS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),eA.apply(this,arguments)}function tA(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function nA(e,t,n){var r=sg(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function rA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ui(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||iA(e,t)}))}function iA(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(CE(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),uA(e))}function aA(e,t,n){var r,i=ui(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof NS?(e.cc.addReference(a.key,t),oA(e,a)):a instanceof PS?(ng("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||iA(e,a.key)):og()}}catch(o){i.e(o)}finally{i.f()}}function oA(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(ng("SyncEngine","New document in limbo: "+n),e.rc.add(r),uA(e))}function uA(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Pg(Tg.fromString(t)),r=e.lc.next();e.uc.set(r,new RS(n)),e.oc=e.oc.insert(n,r),TE(e.remoteStore,new $_(Ab(wb(n.path)),r,2,rk.at))}}function sA(e,t,n){return cA.apply(this,arguments)}function cA(){return cA=A(E().mark((function e(t,n,r){var i,a,o,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=sg(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=PI.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=A(E().mark((function e(t,n){var r,i,a,o,u,s,c,l;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Gg.forEach(n,(function(t){return Gg.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Gg.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xg(e.t0)){e.next=10;break}throw e.t0;case 10:ng("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ui(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=sg(t)).currentUser.isEqual(n)){e.next=11;break}return ng("SyncEngine","User change. New user:",n.toKey()),e.next=5,LI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new lg(cg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,sA(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t){var n=sg(e),r=n.uc.get(t);if(r&&r.ec)return Nw().add(r.key);var i=Nw(),a=n.ic.get(t);if(!a)return i;var o,u=ui(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function dA(e,t){return pA.apply(this,arguments)}function pA(){return pA=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),e.next=3,GI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&aA(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=A(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),e.abrupt("return",HI(r.localStore,n).then((function(e){return sA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function yA(e,t,n,r){return gA.apply(this,arguments)}function gA(){return gA=A(E().mark((function e(t,n,r,i){var a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sg(t),e.next=3,function(e,t){var n=sg(e),r=sg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Gg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,GE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(nA(a,n,i||null),tA(a,n),function(e,t){sg(sg(e).mutationQueue).An(t)}(a.localStore,n)):og();case 11:return e.next=13,sA(a,o);case 13:e.next=16;break;case 15:ng("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function kA(e,t){return bA.apply(this,arguments)}function bA(){return bA=A(E().mark((function e(t,n){var r,i,a,o,u,s,c,l;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CA(r=sg(t)),NA(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,wA(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,uS(r.remoteStore,!0);case 9:o=ui(a);try{for(o.s();!(u=o.n()).done;)s=u.value,TE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return rA(r,t),qI(r.localStore,t,!0)})),CE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,wA(r,c);case 21:return function(e){var t=sg(e);t.uc.forEach((function(e,n){CE(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new uk(Pg.comparator)}(r),r.fc=!1,e.next=25,uS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function wA(e,t,n){return _A.apply(this,arguments)}function _A(){return _A=A(E().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=sg(t),a=[],o=[],u=ui(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,zI(i.localStore,Ab(f[0]));case 11:l=e.sent,h=ui(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,dA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,KI(i.localStore,c);case 36:return y=e.sent,e.next=39,zI(i.localStore,y);case 39:return l=e.sent,e.next=42,MS(i,xA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_A.apply(this,arguments)}function xA(e){return bb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function IA(e){var t=sg(e);return sg(sg(t.localStore).persistence).vi()}function EA(e,t,n,r){return SA.apply(this,arguments)}function SA(){return SA=A(E().mark((function e(t,n,r,i){var a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=sg(t)).fc){e.next=3;break}return e.abrupt("return",void ng("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,HI(a.localStore,Db(o[0]));case 10:return u=e.sent,s=Dw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,sA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,qI(a.localStore,n,!0);case 17:return rA(a,n,i),e.abrupt("break",20);case 19:og();case 20:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function AA(e,t,n){return TA.apply(this,arguments)}function TA(){return TA=A(E().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=CA(t)).fc){e.next=45;break}a=ui(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return ng("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,KI(i.localStore,u);case 12:return s=e.sent,e.next=15,zI(i.localStore,s);case 15:return c=e.sent,e.next=18,MS(i,xA(s),c.targetId,!1);case 18:TE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ui(r),e.prev=30,h=E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,qI(i.localStore,t,!1).then((function(){CE(i.remoteStore,t),rA(i,t)})).catch(qg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),TA.apply(this,arguments)}function CA(e){var t=sg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HS.bind(null,t),t.nc.Wo=_S.bind(null,t.eventManager),t.nc._c=xS.bind(null,t.eventManager),t}function NA(e){var t=sg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,t),t}function PA(e,t,n){var r=sg(e);(function(){var e=A(E().mark((function e(t,n,r){var i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=sg(e),r=Qw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(CS(i)),a=new TS(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,sA(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=sg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ig("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var OA=function(){function e(){si(this,e),this.synchronizeTabs=!1}return li(e,[{key:"initialize",value:function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=mE(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return RI(this.persistence,new OI,e.initialUser,this.It)}},{key:"gc",value:function(e){return new wI(xI.Bs,this.It)}},{key:"mc",value:function(e){return new sE}},{key:"terminate",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DA=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return li(n,[{key:"initialize",value:function(){var e=A(E().mark((function e(t){var r=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei($r(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,NA(this.Ec.syncEngine);case 6:return e.next=8,GE(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return RI(this.persistence,new OI,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new $x(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new nk(t,this.persistence);return new tk(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=NI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fx.withCacheSize(this.cacheSizeBytes):Fx.DEFAULT;return new AI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pE(),vE(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new sE}}]),n}(OA),RA=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return li(n,[{key:"initialize",value:function(){var e=A(E().mark((function e(t){var r,i=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei($r(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof uE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:yA.bind(null,r),$r:EA.bind(null,r),Br:AA.bind(null,r),vi:IA.bind(null,r),Or:vA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kA(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=pE();if(!uE.C(t))throw new lg(cg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=NI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(DA),LA=function(){function e(){si(this,e)}return li(e,[{key:"initialize",value:function(){var e=A(E().mark((function e(t,n){var r=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return KS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lA.bind(null,this.syncEngine),e.next=12,uS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new yS}},{key:"createDatastore",value:function(e){var t,n=mE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dE(t));return function(e,t,n,r){return new wE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return KS(o.syncEngine,e,0)},a=lE.C()?new lE:new cE,new xE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new LS(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sg(t),ng("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,SE(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return A(E().mark((function r(){var i;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var FA=function(){function e(t){si(this,e),this.observer=t,this.muted=!1}return li(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):rg("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),MA=function(){function e(t,n){var r=this;si(this,e),this.bc=t,this.It=n,this.metadata=new fg,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return li(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=A(E().mark((function e(){var t,n,r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new SS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=A(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=A(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),UA=function(){function e(t){si(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return li(e,[{key:"lookup",value:function(){var e=A(E().mark((function e(t){var n,r=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new lg(cg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=A(E().mark((function e(t,n){var r,i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),i=t_(r.It)+"/documents",a={documents:n.map((function(e){return Jw(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=a_(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ug(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new pw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=A(E().mark((function e(){var t,n=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Pg.fromPath(t);n.mutations.push(new vw(r,n.precondition(r)))})),e.next=7,function(){var e=A(E().mark((function e(t,n){var r,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sg(t),i=t_(r.It)+"/documents",a={writes:n.map((function(e){return o_(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw og();t=Sg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lg(cg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Sg.min())?Zb.exists(!1):Zb.updateTime(t):Zb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sg.min()))throw new lg(cg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zb.updateTime(t)}return Zb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),VA=function(){function e(t,n,r,i,a){si(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new yE(this.asyncQueue,"transaction_retry")}return li(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(A(E().mark((function t(){var n,r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new UA(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ik(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!yw(t)}return!1}}]),e}(),BA=function(){function e(t,n,r,i){var a=this;si(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$y.UNAUTHENTICATED,this.clientId=wg.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ng("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ng("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return li(e,[{key:"getConfiguration",value:function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new lg(cg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new fg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(A(E().mark((function n(){var r;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=hS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zA(e,t){return qA.apply(this,arguments)}function qA(){return qA=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ng("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,LI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}function WA(e,t){return GA.apply(this,arguments)}function GA(){return GA=A(E().mark((function e(t,n){var r,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,KA(t);case 3:return r=e.sent,ng("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return aS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return aS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function KA(e){return HA.apply(this,arguments)}function HA(){return HA=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ng("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zA(t,new OA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function QA(e){return YA.apply(this,arguments)}function YA(){return YA=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ng("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,WA(t,new LA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function XA(e){return KA(e).then((function(e){return e.persistence}))}function JA(e){return KA(e).then((function(e){return e.localStore}))}function $A(e){return QA(e).then((function(e){return e.remoteStore}))}function ZA(e){return QA(e).then((function(e){return e.syncEngine}))}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jS.bind(null,n.syncEngine),r.onUnlisten=VS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function i(){return E().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FA({next:function(a){t.enqueueAndForget((function(){return bS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new lg(cg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new lg(cg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ES(wb(n.path),a,{includeMetadataChanges:!0,Nu:!0});return gS(e,o)},i.next=3,eT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function rT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function i(){return E().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FA({next:function(n){t.enqueueAndForget((function(){return bS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new lg(cg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ES(n,a,{includeMetadataChanges:!0,Nu:!0});return gS(e,o)},i.next=3,eT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var iT=new Map;function aT(e,t,n){if(!n)throw new lg(cg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function oT(e,t,n,r){if(!0===t&&!0===r)throw new lg(cg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function uT(e){if(!Pg.isDocumentKey(e))throw new lg(cg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sT(e){if(Pg.isDocumentKey(e))throw new lg(cg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function cT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":og()}function lT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lg(cg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cT(e);throw new lg(cg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function fT(e,t){if(t<=0)throw new lg(cg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var hT=function(){function e(t){var n;if(si(this,e),void 0===t.host){if(void 0!==t.ssl)throw new lg(cg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lg(cg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return li(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dT=function(){function e(t,n,r,i){si(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1}return li(e,[{key:"app",get:function(){if(!this._app)throw new lg(cg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new lg(cg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dg;switch(e.type){case"gapi":var t=e.client;return new yg(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lg(cg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=iT.get(e);t&&(ng("ComponentProvider","Removing Datastore"),iT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function pT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=lT(e,dT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ig("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=$y.MOCK_USER;else{o=wi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new lg(cg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $y(s)}e._authCredentials=new pg(new hg(o,u))}}var vT=function(){function e(t,n,r){si(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return li(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mT=function(){function e(t,n,r){si(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return li(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yT=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this,e,r,wb(i)))._path=i,a.type="collection",a}return li(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vT(this.firestore,null,new Pg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mT);function gT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zi(e),aT("collection","path",t),e instanceof dT){var a=Tg.fromString.apply(Tg,[t].concat(r));return sT(a),new yT(e,null,a)}if(!(e instanceof vT||e instanceof yT))throw new lg(cg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Tg.fromString.apply(Tg,[t].concat(r)));return sT(o),new yT(e.firestore,null,o)}function kT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zi(e),1===arguments.length&&(t=wg.R()),aT("doc","path",t),e instanceof dT){var a=Tg.fromString.apply(Tg,[t].concat(r));return uT(a),new vT(e,null,new Pg(a))}if(!(e instanceof vT||e instanceof yT))throw new lg(cg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Tg.fromString.apply(Tg,[t].concat(r)));return uT(o),new vT(e.firestore,e instanceof yT?e.converter:null,new Pg(o))}function bT(e,t){return e=zi(e),t=zi(t),(e instanceof vT||e instanceof yT)&&(t instanceof vT||t instanceof yT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function wT(e,t){return e=zi(e),t=zi(t),e instanceof mT&&t instanceof mT&&e.firestore===t.firestore&&Cb(e._query,t._query)&&e.converter===t.converter}var _T=function(){function e(){var t=this;si(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new yE(this,"async_queue_retry"),this.jc=function(){var e=vE();e&&ng("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=vE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return li(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=vE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new fg;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=A(E().mark((function e(){var t=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xg(e.t0)){e.next=12;break}throw e.t0;case 12:ng("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw rg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=fS.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&og()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=ui(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ui(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function xT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ui(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var IT=function(){function e(){si(this,e),this._progressObserver={},this._taskCompletionResolver=new fg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return li(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ET=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a){var o;return si(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new _T,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return li(n,[{key:"_terminate",value:function(){return this._firestoreClient||AT(this),this._firestoreClient.terminate()}}]),n}(dT);function ST(e){return e._firestoreClient||AT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new _k(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new BA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function TT(e,t,n){var r=new fg;return e.asyncQueue.enqueue(A(E().mark((function i(){var a;return E().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zA(e,n);case 3:return i.next=5,WA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===cg.FAILED_PRECONDITION||e.code===cg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:ig("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function CT(e){return function(e){return e.asyncQueue.enqueue(A(E().mark((function t(){var n,r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XA(e);case 2:return n=t.sent,t.next=5,$A(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=sg(e);return t._u.delete(0),IE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ST(e=lT(e,ET)))}function NT(e){return function(e){return e.asyncQueue.enqueue(A(E().mark((function t(){var n,r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XA(e);case 2:return n=t.sent,t.next=5,$A(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=sg(t))._u.add(0),e.next=4,SE(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ST(e=lT(e,ET)))}function PT(e,t){var n=ST(e=lT(e,ET)),r=new IT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new MA(e,t)}(function(e,t){if(e instanceof Uint8Array)return jA(e,t);if(e instanceof ArrayBuffer)return jA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,mE(t));e.asyncQueue.enqueueAndForget(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PA,t.next=3,ZA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function OT(e,t){return function(e,t){return e.asyncQueue.enqueue(A(E().mark((function n(){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=sg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,JA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ST(e=lT(e,ET)),t).then((function(t){return t?new mT(e,null,t.query):null}))}function DT(e){if(e._initialized||e._terminated)throw new lg(cg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var RT=function(){function e(){si(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new lg(cg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ng(n)}return li(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var LT=function(){function e(t){si(this,e),this._byteString=t}return li(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(pk.fromBase64String(t))}catch(t){throw new lg(cg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(pk.fromUint8Array(t))}}]),e}(),jT=li((function e(t){si(this,e),this._methodName=t})),FT=function(){function e(t,n){if(si(this,e),!isFinite(t)||t<-90||t>90)throw new lg(cg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lg(cg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return li(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return _g(this._lat,e._lat)||_g(this._long,e._long)}}]),e}(),MT=/^__.*__$/,UT=function(){function e(t,n,r){si(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return li(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new sw(e,this.data,this.fieldMask,t,this.fieldTransforms):new uw(e,this.data,t,this.fieldTransforms)}}]),e}(),VT=function(){function e(t,n,r){si(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return li(e,[{key:"toMutation",value:function(e,t){return new sw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function BT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw og()}}var zT=function(){function e(t,n,r,i,a,o){si(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return li(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return sC(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(BT(this.na)&&MT.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),qT=function(){function e(t,n,r){si(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||mE(t)}return li(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zT({na:e,methodName:t,la:n,path:Ng.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function WT(e){var t=e._freezeSettings(),n=mE(e._databaseId);return new qT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);iC("Data must be an object, but it was:",o,r);var u,s,c=nC(r,o);if(a.merge)u=new dk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ui(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=aC(t,d,n);if(!o.contains(p))throw new lg(cg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));cC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new dk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new UT(new Qk(c),u,s)}var KT=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jT);function HT(e,t,n){return new zT({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var QT=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"_toFieldTransform",value:function(e){return new Jb(e.path,new qb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(jT),YT=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e)).da=r,i}return li(n,[{key:"_toFieldTransform",value:function(e){var t=HT(this,e,!0),n=this.da.map((function(e){return tC(e,t)})),r=new Wb(n);return new Jb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jT),XT=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e)).da=r,i}return li(n,[{key:"_toFieldTransform",value:function(e){var t=HT(this,e,!0),n=this.da.map((function(e){return tC(e,t)})),r=new Kb(n);return new Jb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jT),JT=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e))._a=r,i}return li(n,[{key:"_toFieldTransform",value:function(e){var t=new Qb(e.It,Mb(e.It,this._a));return new Jb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(jT);function $T(e,t,n,r){var i=e.fa(1,t,n);iC("Data must be an object, but it was:",i,r);var a=[],o=Qk.empty();ak(r,(function(e,r){var u=uC(t,e,n);r=zi(r);var s=i.ua(u);if(r instanceof KT)a.push(u);else{var c=tC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new dk(a);return new VT(o,u,i.fieldTransforms)}function ZT(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[aC(t,r,n)],s=[i];if(a.length%2!=0)throw new lg(cg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(aC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Qk.empty(),h=u.length-1;h>=0;--h)if(!cC(l,u[h])){var d=u[h],p=s[h];p=zi(p);var v=o.ua(d);if(p instanceof KT)l.push(d);else{var m=tC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new dk(l);return new VT(f,y,o.fieldTransforms)}function eC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tC(n,e.fa(r?4:3,t))}function tC(e,t){if(rC(e=zi(e)))return iC("Unsupported field value:",t,e),nC(e,t);if(e instanceof jT)return function(e,t){if(!BT(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ui(e);try{for(a.s();!(n=a.n()).done;){var o=tC(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=zi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Mb(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Eg.fromDate(e);return{timestampValue:Gw(t.It,n)}}if(e instanceof Eg){var r=new Eg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gw(t.It,r)}}if(e instanceof FT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof LT)return{bytesValue:Kw(t.It,e._byteString)};if(e instanceof vT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Yw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(cT(e)))}(e,t)}function nC(e,t){var n={};return ok(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ak(e,(function(e,r){var i=tC(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Eg||e instanceof FT||e instanceof LT||e instanceof vT||e instanceof jT)}function iC(e,t,n){if(!rC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=cT(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function aC(e,t,n){if((t=zi(t))instanceof RT)return t._internalPath;if("string"==typeof t)return uC(e,t);throw sC("Field path arguments must be of type string or ",e,!1,void 0,n)}var oC=new RegExp("[~\\*/\\[\\]]");function uC(e,t,n){if(t.search(oC)>=0)throw sC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return di(RT,hi(t.split(".")))._internalPath}catch(F){throw sC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new lg(cg.INVALID_ARGUMENT,u+e+s)}function cC(e,t){return e.some((function(e){return e.isEqual(t)}))}var lC=function(){function e(t,n,r,i,a){si(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return li(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fC=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"data",value:function(){return ei($r(n.prototype),"data",this).call(this)}}]),n}(lC);function hC(e,t){return"string"==typeof t?uC(e,t):t instanceof RT?t._internalPath:t._delegate._internalPath}var dC=function(){function e(t,n){si(this,e),this.hasPendingWrites=t,this.fromCache=n}return li(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pC=function(e){ri(n,e);var t=oi(n);function n(e,r,i,a,o,u){var s;return si(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return li(n,[{key:"exists",value:function(){return ei($r(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lC),vC=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ei($r(n.prototype),"data",this).call(this,e)}}]),n}(pC),mC=function(){function e(t,n,r,i){si(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dC(i.hasPendingWrites,i.fromCache),this.query=r}return li(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vC(n._firestore,n._userDataWriter,r.key,r,new dC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lg(cg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new vC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return og()}}function gC(e,t){return e instanceof pC&&t instanceof pC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mC&&t instanceof mC&&e._firestore===t._firestore&&wT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function kC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lg(cg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bC=li((function e(){si(this,e)}));function wC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var _C=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return li(n,[{key:"_apply",value:function(e){var t=WT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new lg(cg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){DC(o,a);var s,c=[],l=ui(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(OC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=OC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||DC(o,a),u=eC(n,"where",o,"in"===a||"not-in"===a);var h=ab.create(i,a,u);return function(e,t){if(t.dt()){var n=Ib(e);if(null!==n&&!n.isEqual(t.field))throw new lg(cg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=xb(e);null!==r&&RC(e,t.field,r)}var i=function(e,t){var n,r=ui(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new lg(cg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lg(cg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new mT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(bC);var xC=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return li(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new lg(cg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lg(cg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vb(t,n);return function(e,t){if(null===xb(e)){var n=Ib(e);null!==n&&RC(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new mT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new kb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(bC);var IC=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return li(n,[{key:"_apply",value:function(e){return new mT(e.firestore,e.converter,Tb(e._query,this.pa,this.Ia))}}]),n}(bC);var EC=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return li(n,[{key:"_apply",value:function(e){var t=PC(e,this.type,this.Ta,this.Ea);return new mT(e.firestore,e.converter,function(e,t){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(bC);function SC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EC("startAt",t,!0)}function AC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EC("startAfter",t,!1)}var TC=function(e){ri(n,e);var t=oi(n);function n(e,r,i){var a;return si(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return li(n,[{key:"_apply",value:function(e){var t=PC(e,this.type,this.Ta,this.Ea);return new mT(e.firestore,e.converter,function(e,t){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(bC);function CC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TC("endBefore",t,!1)}function NC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TC("endAt",t,!0)}function PC(e,t,n,r){if(n[0]=zi(n[0]),n[0]instanceof lC)return function(e,t,n,r,i){if(!r)throw new lg(cg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ui(Sb(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(jk(t,r.key));else{var c=r.data.field(s.field);if(kk(c))throw new lg(cg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new lg(cg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new pb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=WT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new lg(cg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new lg(cg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Eb(e)&&-1!==c.indexOf("/"))throw new lg(cg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Tg.fromString(c));if(!Pg.isDocumentKey(l))throw new lg(cg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Pg(l);u.push(jk(t,f))}else{var h=eC(n,r,c);u.push(h)}}return new pb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function OC(e,t,n){if("string"==typeof(n=zi(n))){if(""===n)throw new lg(cg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eb(t)&&-1!==n.indexOf("/"))throw new lg(cg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Tg.fromString(n));if(!Pg.isDocumentKey(r))throw new lg(cg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return jk(e,new Pg(r))}if(n instanceof vT)return jk(e,n._key);throw new lg(cg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(cT(n),"."))}function DC(e,t){if(!Array.isArray(e)||0===e.length)throw new lg(cg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new lg(cg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function RC(e,t,n){if(!n.isEqual(t))throw new lg(cg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LC={maxAttempts:5},jC=function(){function e(){si(this,e)}return li(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ck(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw og()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ak(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new FT(yk(e.latitude),yk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=mk(e);return new Eg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Tg.fromString(e);ug(k_(n));var r=new xk(n.get(1),n.get(3)),i=new Pg(n.popFirst(5));return r.isEqual(t)||rg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function FC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var MC=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).firestore=e,r}return li(n,[{key:"convertBytes",value:function(e){return new LT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vT(this.firestore,null,t)}}]),n}(jC),UC=function(){function e(t,n){si(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=WT(t)}return li(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=VC(e,this._firestore),i=FC(r.converter,t,n),a=GT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Zb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=VC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=zi(t))||t instanceof RT?ZT(this._dataReader,"WriteBatch.update",i._key,t,n,o):$T(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Zb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=VC(e,this._firestore);return this._mutations=this._mutations.concat(new pw(t._key,Zb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new lg(cg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function VC(e,t){if((e=zi(e)).firestore!==t)throw new lg(cg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var BC=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).firestore=e,r}return li(n,[{key:"convertBytes",value:function(e){return new LT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vT(this.firestore,null,t)}}]),n}(jC);function zC(e){e=lT(e,vT);var t=lT(e.firestore,ET),n=ST(t),r=new BC(t);return function(e,t){var n=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function r(){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=A(E().mark((function e(t,n,r){var i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=sg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new lg(cg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=hS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pC(t,r,e._key,n,new dC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function qC(e){e=lT(e,mT);var t=lT(e.firestore,ET),n=ST(t),r=new BC(t);return function(e,t){var n=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function r(){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=A(E().mark((function e(t,n,r){var i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GI(t,n,!0);case 3:i=e.sent,a=new OS(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=hS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mC(t,r,e,n)}))}function WC(e,t,n){e=lT(e,vT);var r=lT(e.firestore,ET),i=FC(e.converter,t,n);return QC(r,[GT(WT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zb.none())])}function GC(e,t,n){e=lT(e,vT);for(var r=lT(e.firestore,ET),i=WT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return QC(r,[("string"==typeof(t=zi(t))||t instanceof RT?ZT(i,"updateDoc",e._key,t,n,o):$T(i,"updateDoc",e._key,t)).toMutation(e._key,Zb.exists(!0))])}function KC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=zi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||xT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(xT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof vT)l=lT(e.firestore,ET),f=wb(e._key.path),c={next:function(t){n[s]&&n[s](YC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=lT(e,mT);l=lT(p.firestore,ET),f=p._query;var v=new BC(l);c={next:function(e){n[s]&&n[s](new mC(l,v,p,e))},error:n[s+1],complete:n[s+2]},kC(e._query)}return function(e,t,n,r){var i=new FA(r),a=new ES(t,i,n);return e.asyncQueue.enqueueAndForget(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gS,t.next=3,eT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bS,t.next=3,eT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ST(l),f,h,c)}function HC(e,t){return function(e,t){var n=new FA(t);return e.asyncQueue.enqueueAndForget(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){sg(e).Ru.add(t),t.next()},t.next=3,eT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(A(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){sg(e).Ru.delete(t)},t.next=3,eT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ST(e=lT(e,ET)),xT(t)?t:{next:t})}function QC(e,t){return function(e,t){var n=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function r(){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=zS,r.next=3,ZA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ST(e),t)}function YC(e,t,n){var r=n.docs.get(t._key),i=new BC(e);return new pC(e,i,t._key,r,new dC(n.hasPendingWrites,n.fromCache),t.converter)}var XC=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,r))._firestore=e,i}return li(n,[{key:"get",value:function(e){var t=this,r=VC(e,this._firestore),i=new BC(this._firestore);return ei($r(n.prototype),"get",this).call(this,e).then((function(e){return new pC(t._firestore,i,r._key,e._document,new dC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){si(this,e),this._firestore=t,this._transaction=n,this._dataReader=WT(t)}return li(e,[{key:"get",value:function(e){var t=this,n=VC(e,this._firestore),r=new MC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return og();var i=e[0];if(i.isFoundDocument())return new lC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lC(t._firestore,r,n._key,null,n.converter);throw og()}))}},{key:"set",value:function(e,t,n){var r=VC(e,this._firestore),i=FC(r.converter,t,n),a=GT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=VC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=zi(t))||t instanceof RT?ZT(this._dataReader,"Transaction.update",i._key,t,n,o):$T(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=VC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function JC(e,t,n){e=lT(e,ET);var r=Object.assign(Object.assign({},LC),n);return function(e){if(e.maxAttempts<1)throw new lg(cg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function i(){var a;return E().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return QA(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new VA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ST(e),(function(n){return t(new XC(e,n))}),r)}function $C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YT("arrayUnion",t)}function ZC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zy=e}(ja),Ca(new qi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ET(new vg(e.getProvider("auth-internal")),new kg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lg(cg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xk(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),za(Jy,"3.4.15",e),za(Jy,"3.4.15","esm2017")}();function eN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function tN(){if("undefined"===typeof Uint8Array)throw new lg("unimplemented","Uint8Arrays are not available in this environment.")}function nN(){if("undefined"==typeof atob)throw new lg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var rN=function(){function e(t){si(this,e),this._delegate=t}return li(e,[{key:"toBase64",value:function(){return nN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return tN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return nN(),new e(LT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return tN(),new e(LT.fromUint8Array(t))}}]),e}();function iN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ui(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var aN=function(){function e(){si(this,e)}return li(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){DT(e=lT(e,ET));var n=ST(e),r=e._freezeSettings(),i=new LA;return TT(n,i,new DA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){DT(e=lT(e,ET));var t=ST(e),n=e._freezeSettings(),r=new LA;return TT(t,r,new RA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new lg(cg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new fg;return e._queue.enqueueAndForgetEvenWhileRestricted(A(E().mark((function n(){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hg.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Hg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(NI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),oN=function(){function e(t,n,r){var i=this;si(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xk||(this._appCompat=t)}return li(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ig("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return CT(this._delegate)}},{key:"disableNetwork",value:function(){return NT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&oT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new fg;return e.asyncQueue.enqueueAndForget(A(E().mark((function n(){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ZS,n.next=3,ZA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ST(e=lT(e,ET)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return HC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new lg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new bN(this,gT(this._delegate,e))}catch(t){throw hN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new fN(this,kT(this._delegate,e))}catch(t){throw hN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new yN(this,function(e,t){if(e=lT(e,dT),aT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lg(cg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mT(e,null,function(e){return new kb(Tg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw hN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return JC(this._delegate,(function(n){return e(new sN(t,n))}))}},{key:"batch",value:function(){var e=this;return ST(this._delegate),new cN(new UC(this._delegate,(function(t){return QC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return OT(this._delegate,e).then((function(e){return e?new yN(t,e):null}))}}]),e}(),uN=function(e){ri(n,e);var t=oi(n);function n(e){var r;return si(this,n),(r=t.call(this)).firestore=e,r}return li(n,[{key:"convertBytes",value:function(e){return new rN(new LT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return fN.forKey(t,this.firestore,null)}}]),n}(jC);var sN=function(){function e(t,n){si(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new uN(t)}return li(e,[{key:"get",value:function(e){var t=this,n=wN(e);return this._delegate.get(n).then((function(e){return new vN(t._firestore,new pC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=wN(e);return n?(eN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=wN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wN(e);return this._delegate.delete(t),this}}]),e}(),cN=function(){function e(t){si(this,e),this._delegate=t}return li(e,[{key:"set",value:function(e,t,n){var r=wN(e);return n?(eN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=wN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),lN=function(){function e(t,n,r){si(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return li(e,[{key:"fromFirestore",value:function(e,t){var n=new vC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new uN(t),n),i.set(n,a)),a}}]),e}();lN.INSTANCES=new WeakMap;var fN=function(){function e(t,n){si(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new uN(t)}return li(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new bN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new bN(this.firestore,gT(this._delegate,e))}catch(t){throw hN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=zi(e))instanceof vT&&bT(this._delegate,e)}},{key:"set",value:function(e,t){t=eN("DocumentReference.set",t);try{return t?WC(this._delegate,e,t):WC(this._delegate,e)}catch(n){throw hN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?GC(this._delegate,e):GC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw hN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return QC(lT(e.firestore,ET),[new pw(e._key,Zb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dN(n),a=pN(n,(function(t){return new vN(e.firestore,new pC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return KC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lT(e,vT);var t=lT(e.firestore,ET);return nT(ST(t),e._key,{source:"server"}).then((function(n){return YC(t,e,n)}))}(this._delegate):function(e){e=lT(e,vT);var t=lT(e.firestore,ET);return nT(ST(t),e._key).then((function(n){return YC(t,e,n)}))}(this._delegate),t.then((function(e){return new vN(n.firestore,new pC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new lg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vT(n._delegate,r,new Pg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vT(n._delegate,r,t))}}]),e}();function hN(e,t,n){return e.message=e.message.replace(t,n),e}function dN(e){var t,n=ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!iN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function pN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=iN(e[0])?e[0]:iN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vN=function(){function e(t,n){si(this,e),this._firestore=t,this._delegate=n}return li(e,[{key:"ref",get:function(){return new fN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gC(this._delegate,e._delegate)}}]),e}(),mN=function(e){ri(n,e);var t=oi(n);function n(){return si(this,n),t.apply(this,arguments)}return li(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||og()}(void 0!==t),t}}]),n}(vN),yN=function(){function e(t,n){si(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new uN(t)}return li(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,wC(this._delegate,function(e,t,n){var r=t,i=hC("where",e);return new _C(i,r,n)}(t,n,r)))}catch(i){throw hN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,wC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hC("orderBy",e);return new xC(n,t)}(t,n)))}catch(r){throw hN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,wC(this._delegate,function(e){return fT("limit",e),new IC("limit",e,"F")}(t)))}catch(n){throw hN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,wC(this._delegate,function(e){return fT("limitToLast",e),new IC("limitToLast",e,"L")}(t)))}catch(n){throw hN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,wC(this._delegate,SC.apply(void 0,arguments)))}catch(t){throw hN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,wC(this._delegate,AC.apply(void 0,arguments)))}catch(t){throw hN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,wC(this._delegate,CC.apply(void 0,arguments)))}catch(t){throw hN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,wC(this._delegate,NC.apply(void 0,arguments)))}catch(t){throw hN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return wT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?qC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lT(e,mT);var t=lT(e.firestore,ET),n=ST(t),r=new BC(t);return rT(n,e._query,{source:"server"}).then((function(n){return new mC(t,r,e,n)}))}(this._delegate):function(e){e=lT(e,mT);var t=lT(e.firestore,ET),n=ST(t),r=new BC(t);return kC(e._query),rT(n,e._query).then((function(n){return new mC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new kN(n.firestore,new mC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dN(n),a=pN(n,(function(t){return new kN(e.firestore,new mC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return KC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),gN=function(){function e(t,n){si(this,e),this._firestore=t,this._delegate=n}return li(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new mN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),kN=function(){function e(t,n){si(this,e),this._firestore=t,this._delegate=n}return li(e,[{key:"query",get:function(){return new yN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new mN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new gN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new mN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gC(this._delegate,e._delegate)}}]),e}(),bN=function(e){ri(n,e);var t=oi(n);function n(e,r){var i;return si(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return li(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new fN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new fN(this.firestore,void 0===e?kT(this._delegate):kT(this._delegate,e))}catch(t){throw hN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=lT(e.firestore,ET),r=kT(e),i=FC(e.converter,t);return QC(n,[GT(WT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new fN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return bT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(lN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(yN);function wN(e){return lT(e,vT)}var _N=function(){function e(){si(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=di(RT,n)}return li(e,[{key:"isEqual",value:function(e){return(e=zi(e))instanceof RT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ng.keyField().canonicalString())}}]),e}(),xN=function(){function e(t){si(this,e),this._delegate=t}return li(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new QT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new KT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$C.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ZC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new JT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),IN={Firestore:oN,GeoPoint:FT,Timestamp:Eg,Blob:rN,Transaction:sN,WriteBatch:cN,DocumentReference:fN,DocumentSnapshot:vN,Query:yN,QueryDocumentSnapshot:mN,QuerySnapshot:kN,CollectionReference:bN,FieldPath:_N,FieldValue:xN,setLogLevel:function(e){!function(e){eg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new qi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},IN)))}(e,(function(e,t){return new oN(e,t,new aN)})),e.registerVersion("@firebase/firestore-compat","0.1.24")}(Dh),Dh.initializeApp({apiKey:"AIzaSyBhOfaLUXFFF2ZOxBoHElhwX8M01FUGvtg",authDomain:"shop-cfe80.firebaseapp.com",projectId:"shop-cfe80",storageBucket:"shop-cfe80.appspot.com",messagingSenderId:"64167625191",appId:"1:64167625191:web:bb240ad285cff79dbbfd42",measurementId:"G-9V2DNYGP7Q",experimentalForceLongPolling:!0,useFetchStreams:!1});var EN=Dh,SN=(Dh.auth(),Dh.firestore()),AN=function(){var e=$n(),n=qt(Un),r=qt(Mn),i=qt(cn),a=kh(),u=h(Sh(a),3),s=u[0],c=(u[1],u[2],function(t){!s&&e(Sn("/profile")),e(kn(t))});return t.useEffect((function(){console.log("a"),s&&function(e){var t=e.user,n=e.dispatch;e.cartItem,e.itemsLike,t&&EN.firestore().collection("itemsUsers").doc(t.uid).get().then((function(e){console.log("getfull"),n(Bn(e.data())),n(fn(e.data()))}))}({user:s,dispatch:e,cartItem:r,itemsLike:i})}),[s]),t.useEffect((function(){s&&function(e){var t=e.uid,n=e.cartItem;console.log("addCart"),SN.collection("itemsUsers").doc(t).update({items:{cartItem:n},uid:t})}({uid:s.uid,cartItem:r})}),[r]),t.useEffect((function(){(console.log(i),s)&&function(e){var t=e.uid,n=e.itemsLike;console.log("addLiek"),SN.collection("itemsUsers").doc(t).update({likeItems:{itemsLike:n},uid:t})}({uid:s.uid,itemsLike:i})}),[i]),(0,o.jsxs)("div",{className:p,children:[(0,o.jsxs)("div",{className:v,children:[(0,o.jsx)(Gr,{to:"",children:(0,o.jsx)("img",{src:d,alt:"logo",className:m})}),(0,o.jsxs)("div",{className:_,children:[(0,o.jsx)(Hr,{}),(0,o.jsx)(Mr,{}),(0,o.jsx)(Jr,{})]}),(0,o.jsxs)("div",{className:y,children:[(0,o.jsx)(Gr,{to:s?"/profile":"/authorization",onClick:function(){return c("person")},children:(0,o.jsx)("button",{className:g,children:(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEtSURBVHgBrVTbbcMwDCTl/icTGPYEyQjuBG0naDpCJ0hHyAbpCM0EdTbwBjJgD6AOYLtHwwjykEzncYAAghJPR4oUUwDW2rkxZsXMi8G1b5omT9O09J1nn7Ou63cEbWDOz7bKtm3fQFaoRFCSQImlMBzIwJW6Y6c5PwWSNY1DVK4u4jwHl6QgiqLFFCIVqN+fSoT896QrKlQiQF7LURhlHMffKpH0CVR9+jn6F3v2bXAgoG8DNOMWa9l1ncPaidpQQz4MHFCToZ9eoCaBEmkHB1tUFUhtB1X5KNFAsIWZ0NjtzDla4OM4zUOxq6pag+RXIxFAmVxoJeZEkTgg+YtuwDDEPzxhSDX0Q2wmDKmGfoilRhndj8zQ5ed1NfCKsycpFuxXpDijG4B4+Qk2/8jMgvPpmrFsAAAAAElFTkSuQmCC",alt:"person"})})}),(0,o.jsx)(Gr,{to:s?"/profile":"/authorization",onClick:function(){return c("like")},children:(0,o.jsx)("button",{className:g,children:(0,o.jsx)("img",{src:Ur,alt:"like"})})})]}),(0,o.jsxs)("div",{className:w,children:[(0,o.jsx)("div",{className:x,children:(0,o.jsx)(Hr,{})}),(0,o.jsx)(Gr,{to:s?"/cart":"/authorization",children:(0,o.jsxs)("div",{className:b,children:[(0,o.jsx)("img",{src:Vr,alt:"shoppingCart"}),n?(0,o.jsxs)("b",{children:[n," \u0420\u0443\u0431."]}):(0,o.jsx)("b",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})]})})]})]}),(0,o.jsxs)("div",{className:k,children:[(0,o.jsx)(Jr,{}),(0,o.jsx)(Mr,{})]})]})},TN="navigation_container__j-Q90",CN="navigation_navigate__hI6B4",NN="navigation_navigate__button__H3EAA";var PN=n.p+"static/media/apple.6a486a98270c3866fcfb7a2fbbbee1fc.svg";var ON=n.p+"static/media/pizza.853b4570391bd13a32b63c0b8b8b2815.svg";var DN=n.p+"static/media/chebureck.77b93ca0e64c59efea6fba8475dab9af.svg";var RN=n.p+"static/media/sale.9f984e8958fd15b85874c179a16514de.svg";var LN=n.p+"static/media/shops.653fe773b9e503b9df530b57d0f48859.svg";var jN=n.p+"static/media/some.35ac73e5200fb6d0b0d20254b4a88213.svg",FN=JSON.parse('[{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"water","classForPerson":"\u0412\u043e\u0434\u0430 \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"milk","classForPerson":"\u041c\u043e\u043b\u043e\u043a\u043e, \u043c\u0430\u0441\u043b\u043e \u0438 \u044f\u0439\u0446\u0430"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"snack","classForPerson":"\u0421\u043d\u044d\u043a\u0438 \u0438 \u0441\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"coffee","classForPerson":"\u041a\u043e\u0444\u0435, \u0447\u0430\u0439 \u0438 \u0441\u043b\u0430\u0434\u043e\u0441\u0442\u0438"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"spagetty","classForPerson":"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u044b \u0438 \u043a\u0440\u0443\u043f\u044b"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"bread","classForPerson":"\u0425\u043b\u0435\u0431 \u0438 \u0432\u044b\u043f\u0435\u0447\u043a\u0430"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"sause","classForPerson":"\u041c\u0430\u0441\u043b\u043e, \u0441\u043e\u0443\u0441\u044b \u0438 \u0441\u043f\u0435\u0446\u0438\u0438"},{"type":"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","class":"canned","classForPerson":"\u041a\u043e\u043d\u0441\u0435\u0440\u0432\u044b \u0438 \u0441\u043e\u043b\u0435\u043d\u0438\u044f"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"backery","classForPerson":"\u0412\u044b\u043f\u0435\u0447\u043a\u0430"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"pizza","classForPerson":"\u041f\u0438\u0446\u0446\u044b"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"grill","classForPerson":"\u0413\u0440\u0438\u043b\u044c-\u043c\u0435\u043d\u044e"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"salad","classForPerson":"\u0421\u0430\u043b\u0430\u0442\u044b"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"soup","classForPerson":"\u0421\u0443\u043f\u044b"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"oil","classForPerson":"\u041c\u0430\u0441\u043b\u043e"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"hot","classForPerson":"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u0431\u043b\u044e\u0434\u0430"},{"type":"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","class":"sugar","classForPerson":"\u0414\u0435\u0441\u0435\u0440\u0442\u044b"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"dumplings","classForPerson":"\u041f\u0435\u043b\u044c\u043c\u0435\u043d\u0438"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"meat","classForPerson":"\u041c\u044f\u0441\u043e"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"fish","classForPerson":"\u0420\u044b\u0431\u0430"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"vegetables","classForPerson":"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043e\u0432\u043e\u0449\u0438"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"semi-finished","classForPerson":"\u041f\u043e\u043b\u0443\u0444\u0430\u0431\u0440\u0438\u043a\u0430\u0442\u044b"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"khinkali","classForPerson":"\u0425\u0438\u043d\u043a\u0430\u043b\u0438"},{"type":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","class":"\u0440\u0430\u0432\u0438\u043e\u043b\u0438","classForPerson":"\u0420\u0430\u0432\u0438\u043e\u043b\u0438"},{"type":"\u0414\u0440\u0443\u0433\u043e\u0435","class":"Beauty","classForPerson":"\u041a\u0440\u0430\u0441\u043e\u0442\u0430 \u0438 \u0433\u0438\u0433\u0438\u0435\u043d\u0430"},{"type":"\u0414\u0440\u0443\u0433\u043e\u0435","class":"Laundry","classForPerson":"\u0412\u0441\u0451 \u0434\u043b\u044f \u0441\u0442\u0438\u0440\u043a\u0438"},{"type":"\u0414\u0440\u0443\u0433\u043e\u0435","class":"things","classForPerson":"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043c\u0435\u043b\u043e\u0447\u0438"},{"type":"\u0414\u0440\u0443\u0433\u043e\u0435","class":"appliances","classForPerson":"\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0442\u0435\u0445\u043d\u0438\u043a\u0430"}]'),MN=["\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442","\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f","\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","\u0414\u0440\u0443\u0433\u043e\u0435"],UN=[PN,ON,DN,jN,RN,LN],VN=function(){var e=$n(),t=function(t,n){e(At({class:t,classForPerson:n})),e(In())};return(0,o.jsx)("div",{className:TN,children:(0,o.jsxs)("div",{className:CN,children:[MN.map((function(n,r){return(0,o.jsx)(Gr,{to:"/catalog",onClick:function(){return e(Et(r=n)),FN.map((function(n){n.type===r&&e((function(){return t(n.class,n.classForPerson)}))})),e(In()),void e(Nn(!1));var r},children:(0,o.jsxs)("div",{className:NN,children:[(0,o.jsx)("img",{src:UN[r],alt:UN[r]}),n]})},r+"navigation")})),(0,o.jsx)(Gr,{to:"/catalog",onClick:function(){return e(Nn(!0))},children:(0,o.jsxs)("div",{className:NN,children:[(0,o.jsx)("img",{src:RN,alt:"sale"})," \u0410\u043a\u0446\u0438\u0438"]})}),(0,o.jsx)(Gr,{to:"/catalog",children:(0,o.jsxs)("div",{className:NN,children:[(0,o.jsx)("img",{src:LN,alt:"shops"})," \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u044b"]})})]})})},BN="main_blocksTypesProduct__tKZbG",zN="main_wrapperInfoBlocks__KFzcb",qN="main_block__7fQCx",WN="BlockNameMain_hBlockName__OSILU",GN=function(e){var t=e.name,n=$n(),r=function(e){n(Et(e)),FN.map((function(t){t.type===e&&n((function(){return i(t.class,t.classForPerson)}))}))},i=function(e,t){n(At({class:e,classForPerson:t}))};return(0,o.jsxs)("div",{className:WN,children:[(0,o.jsx)("h2",{children:t}),(0,o.jsx)(Gr,{to:"/catalog",onClick:function(){"\u0421\u043a\u0438\u0434\u043a\u0438"===t?n(Nn(!0)):r(t)},children:(0,o.jsx)("button",{children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 >"})})]})},KN=function(e){var r=e.classProduct,i=h(t.useState([]),2),a=i[0],u=i[1],s=FN.filter((function(e){return e.type===r})),c=$n();return t.useEffect((function(){switch(r){case"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442":var e=n(6007),t=e.keys().map((function(t){return e(t)}));u(t);break;case"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f":var i=n(7150),a=i.keys().map((function(e){return i(e)}));u(a);break;case"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430":var o=n(831),s=o.keys().map((function(e){return o(e)}));u(s);break;case"\u0414\u0440\u0443\u0433\u043e\u0435":var c=n(2620),l=c.keys().map((function(e){return c(e)}));u(l)}}),[]),(0,o.jsx)(o.Fragment,{children:a.map((function(e,t){return(0,o.jsx)(Gr,{to:"/catalog",onClick:function(){var e,n;e=s[t].class,n=s[t].classForPerson,c(Ct()),c(At({class:e,classForPerson:n})),c(In())},children:(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:s[t].classForPerson}),(0,o.jsx)("img",{src:e,loading:"lazy"})]})},"img"+t)}))})},HN={container:"listItem_container__ioi9z",img:"listItem_img__DscxP",saleBlockImg:"listItem_saleBlockImg__IFY9o",saleBlockImg__percent:"listItem_saleBlockImg__percent__B2kO-",info:"listItem_info__ZTws5",info__priceCount:"listItem_info__priceCount__HC4+2",info__priceCount__count:"listItem_info__priceCount__count__F6n0K",title:"listItem_title__6HQRB",bottomCard:"listItem_bottomCard__QJ5gd",priceBottom:"listItem_priceBottom__YEmxG",salePrice:"listItem_salePrice__B4VzT",price:"listItem_price__A0BSy"},QN="buttonBuy_button__fOa3x",YN="buttonBuy_counterBuy__pdRwb",XN="buttonBuy_changeCounter__w1e+I",JN=function(e){var n=e.price,r=e.title,i=e.count,a=e.weight,u=e.imageUrl,s=e.classProduct,c=e.id,l=e.nameProd,f=e.saleProd,d=Pr(),p=h(t.useState(!1),2),v=p[0],m=p[1],y=h(t.useState(0),2),g=y[0],k=y[1],b=$n(),w=qt(Mn),_=kh(),x=h(Sh(_),3),I=x[0];x[1],x[2];t.useEffect((function(){E()}),[w]);var E=function(){var e=w.filter((function(e){return e.id===c})).map((function(e){return e.countCart}));0!==e.length&&0!==e[0]&&(k(e[0]),m(!0))},S=function(e){var t=e.price,n=e.title,r=e.count,i=e.weight,a=e.imageUrl,o=e.classProduct,u=e.id,s=e.nameProd,c=e.saleProd;if(!I)return b(Sn("/catalog")),d("/authorization");r>g&&b(zn({price:t,title:n,count:r,weight:i,imageUrl:a,classProduct:o,id:u,nameProd:s,saleProd:c}))};return(0,o.jsx)(o.Fragment,{children:v?(0,o.jsxs)("div",{className:YN,children:[(0,o.jsx)("button",{className:XN,onClick:function(){1===g?(b(qn(c)),m(!1)):b(qn(c))},children:"-"}),(0,o.jsx)("span",{children:g}),(0,o.jsx)("button",{className:XN,onClick:function(){return S({price:n,title:r,count:i,weight:a,imageUrl:u,classProduct:s,id:c,nameProd:l,saleProd:f})},children:"+"})]}):(0,o.jsx)("button",{className:QN,onClick:function(){return S({price:n,title:r,count:i,weight:a,imageUrl:u,classProduct:s,id:c,nameProd:l,saleProd:f})},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})},$N="likeButton_like__CJaEW",ZN="likeButton_likeActive__hfibW",eP=function(e){var n=e.price,r=e.title,i=e.count,a=e.weight,u=e.imageUrl,s=e.classProduct,c=e.id,l=e.nameProd,f=e.saleProd,d=Pr(),p=kh(),v=h(Sh(p),3),m=v[0],y=(v[1],v[2],h(t.useState($N),2)),g=y[0],k=y[1],b=$n(),w=qt(cn);return t.useEffect((function(){w.length&&w.map((function(e){return e.id===c&&k(ZN)}))}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{className:g,onClick:function(){return function(e){if(!m)return b(Sn("/catalog")),d("/authorization");g===$N?(k(ZN),b(hn(e))):(k($N),b(dn(e.id)))}({price:n,title:r,count:i,weight:a,imageUrl:u,classProduct:s,id:c,nameProd:l,saleProd:f})}})})},tP=function(e){var n=e.nameProd,r=e.id,i=e.price,a=e.title,u=e.count,s=e.weight,c=e.imageUrl,l=e.classProduct,f=e.saleProd,d=h(t.useState(0),2),p=d[0],v=d[1];return t.useEffect((function(){f&&v(function(e){var t=e.price,n=e.saleProd;return Math.ceil(t/100*(100-n))}({price:i,saleProd:f}))}),[]),(0,o.jsxs)("div",{className:HN.container,children:[(0,o.jsxs)("div",{className:HN.img,children:[f?(0,o.jsx)("div",{className:HN.saleBlockImg,children:(0,o.jsxs)("div",{className:HN.saleBlockImg__percent,children:[f,"%"]})}):"",(0,o.jsx)(eP,{id:r,price:i,title:a,count:u,weight:s,imageUrl:c,classProduct:l,nameProd:n,saleProd:f},r+"like"),(0,o.jsx)("img",{src:c,alt:"product"})]}),(0,o.jsxs)("div",{className:HN.info,children:[(0,o.jsxs)("div",{className:HN.info__priceCount,children:[(0,o.jsxs)("div",{className:HN.info__priceCount__count,children:["\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 ",u," \u0448\u0442."]}),(0,o.jsxs)("div",{className:HN.info__priceCount__count,children:[f?p:i," \u0440\u0443\u0431."]})]}),(0,o.jsxs)("div",{className:HN.title,children:[n,", ",a,", ",s,"\xa0","water"===l||"milk"===l||"oil"===l?"\u041b":"\u0433\u0440."]}),(0,o.jsxs)("div",{className:HN.bottomCard,children:[(0,o.jsx)("div",{className:HN.priceBottom,children:f?(0,o.jsxs)("div",{className:HN.saleBlock,children:[(0,o.jsxs)("div",{className:HN.salePrice,children:[p,"\u0440\u0443\u0431."]}),(0,o.jsxs)("div",{className:HN.price,children:[i,"\u0440\u0443\u0431."]})]}):i+" \u0420\u0443\u0431."}),(0,o.jsx)(JN,{id:r,price:i,title:a,count:u,weight:s,imageUrl:c,classProduct:l,nameProd:n,saleProd:f})]})]})]})},nP="saleItems_block__g5WhM",rP="saleItems_saleBlockName__kPur3",iP="saleItems_buttonSaleNavigateShow__-fsga",aP="saleItems_listSale__V5lu1",oP="saleItems_buttonSaleNavigateHidden__CHwFO",uP="buttonNavigateSale_navigateSaleProduct__dL6ON",sP=function(){var e=$n(),t=qt(Rn),n=t.saleItems,r=(t.loading,qt(yn).salePageCounter);return(0,o.jsxs)("div",{className:uP,children:[(0,o.jsx)("button",{onClick:function(){return e(bn())},disabled:0===r,children:"<"}),(0,o.jsx)("button",{onClick:function(){return e(wn())},disabled:r+4>=n.length-1,children:">"})]})},cP=function(){return cP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cP.apply(this,arguments)};var lP=function(e){var n=e.animate,r=e.animateBegin,i=e.backgroundColor,a=e.backgroundOpacity,o=e.baseUrl,u=e.children,s=e.foregroundColor,c=e.foregroundOpacity,l=e.gradientRatio,f=e.gradientDirection,h=e.uniqueKey,d=e.interval,p=e.rtl,v=e.speed,m=e.style,y=e.title,g=e.beforeMask,k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),b=h||Math.random().toString(36).substring(6),w=b+"-diff",_=b+"-animated-diff",x=b+"-aria",I=p?{transform:"scaleX(-1)"}:null,E="0; "+d+"; 1",S=v+"s",A="top-bottom"===f?"rotate(90)":void 0;return(0,t.createElement)("svg",cP({"aria-labelledby":x,role:"img",style:cP(cP({},m),I)},k),y?(0,t.createElement)("title",{id:x},y):null,g&&(0,t.isValidElement)(g)?g:null,(0,t.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+w+")",style:{fill:"url("+o+"#"+_+")"}}),(0,t.createElement)("defs",null,(0,t.createElement)("clipPath",{id:w},u),(0,t.createElement)("linearGradient",{id:_,gradientTransform:A},(0,t.createElement)("stop",{offset:"0%",stopColor:i,stopOpacity:a},n&&(0,t.createElement)("animate",{attributeName:"offset",values:-l+"; "+-l+"; 1",keyTimes:E,dur:S,repeatCount:"indefinite",begin:r})),(0,t.createElement)("stop",{offset:"50%",stopColor:s,stopOpacity:c},n&&(0,t.createElement)("animate",{attributeName:"offset",values:-l/2+"; "+-l/2+"; "+(1+l/2),keyTimes:E,dur:S,repeatCount:"indefinite",begin:r})),(0,t.createElement)("stop",{offset:"100%",stopColor:i,stopOpacity:a},n&&(0,t.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+l),keyTimes:E,dur:S,repeatCount:"indefinite",begin:r})))))};lP.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var fP=function(e){return e.children?(0,t.createElement)(lP,cP({},e)):(0,t.createElement)(hP,cP({},e))},hP=function(e){return(0,t.createElement)(fP,cP({viewBox:"0 0 476 124"},e),(0,t.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,t.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},dP=fP,pP=function(){return(0,o.jsxs)(dP,{style:{margin:"5px"},speed:2,width:304,height:460,viewBox:"0 0 304 460",backgroundColor:"#f5f5f5",foregroundColor:"#ecebeb",children:[(0,o.jsx)("rect",{x:"0",y:"0",rx:"30",ry:"30",width:"304",height:"460"}),(0,o.jsx)("rect",{x:"45",y:"89",rx:"0",ry:"0",width:"10",height:"5"}),(0,o.jsx)("circle",{cx:"143",cy:"135",r:"98"})]})},vP=function(){var e=qt(Rn),t=e.saleItems,n=e.loading,r=qt(yn).salePageCounter;return(0,o.jsxs)("div",{className:nP,children:[(0,o.jsxs)("div",{className:rP,children:[(0,o.jsx)(GN,{name:"\u0421\u043a\u0438\u0434\u043a\u0438"}),(0,o.jsx)("div",{className:iP,children:(0,o.jsx)(sP,{})})]}),(0,o.jsx)("div",{className:aP,children:n===Zt.SUCCESS?t.slice(r,r+4).map((function(e){return(0,o.jsx)(tP,{id:e.id,price:e.price,title:e.title,count:e.count,weight:e.weight,imageUrl:e.imageUrl,classProduct:e.class,nameProd:e.name,saleProd:e.sale},e.id+"listSale")})):n===Zt.LOADING?hi(new Array(4)).map((function(e,t){return(0,o.jsx)(pP,{},t)})):(0,o.jsx)("div",{children:"warn"})}),(0,o.jsx)("div",{className:oP,children:(0,o.jsx)(sP,{})})]})},mP="loader_lds_spinner__gwoIg",yP="loader_sliderWidth__rOrAy",gP=function(){return(0,o.jsx)("div",{className:yP,children:(0,o.jsxs)("div",{className:mP,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})})},kP=function(){var e=$n(),r=qt(Rn),i=r.saleItems,a=(r.loading,t.lazy((function(){return n.e(526).then(n.bind(n,1526))})));return t.useEffect((function(){0===i.length&&e(On())}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(t.Suspense,{fallback:(0,o.jsx)(gP,{}),children:(0,o.jsx)(a,{})}),(0,o.jsxs)("div",{className:BN,children:[(0,o.jsx)(vP,{}),(0,o.jsxs)("div",{className:qN,children:[(0,o.jsx)(GN,{name:"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442"}),(0,o.jsx)("div",{className:zN,children:(0,o.jsx)(KN,{classProduct:"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442"})})]}),(0,o.jsxs)("div",{className:qN,children:[(0,o.jsx)(GN,{name:"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f"}),(0,o.jsx)("div",{className:zN,children:(0,o.jsx)(KN,{classProduct:"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f"})})]}),(0,o.jsxs)("div",{className:qN,children:[(0,o.jsx)(GN,{name:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430"}),(0,o.jsx)("div",{className:zN,children:(0,o.jsx)(KN,{classProduct:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430"})})]}),(0,o.jsxs)("div",{className:qN,children:[(0,o.jsx)(GN,{name:"\u0414\u0440\u0443\u0433\u043e\u0435"}),(0,o.jsx)("div",{className:zN,children:(0,o.jsx)(KN,{classProduct:"\u0414\u0440\u0443\u0433\u043e\u0435"})})]})]})]})},bP="LikePage_listLikes__SdmD-",wP="LikePage_voidLike__TZTWJ",_P=function(){$n();var e=qt(cn);return(0,o.jsx)(o.Fragment,{children:0!==e.length?(0,o.jsx)("div",{className:bP,children:e.map((function(e){return(0,o.jsx)(tP,{id:e.id,price:e.price,title:e.title,count:e.count,weight:e.weight,imageUrl:e.imageUrl,classProduct:e.classProduct,nameProd:e.nameProd,saleProd:e.saleProd},e.id+"like")}))}):(0,o.jsxs)("div",{className:wP,children:["\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043b\u044e\u0431\u0438\u043c\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",(0,o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADJSURBVHgBtZSNDcIgEIUfnYARHIER3Eg3cAYncJTWCewGdAPcAA8kDSIUC+dLXgjJ48vxdwKJLHCg4RimiwCmTEbSoPDOPskz5Rbk5IDkkWwTa/Ilyp3IJpMbQ1EfUFUIx74Fb2UcQ8WV6sqCPXZwORD7jHQLfZKeSfQHY7XrvQjrT4NfA/4kB57Ar9mB7+DX1f8i5uemVzzjW9a539cL/4YywMvQDngd2gA3dm87CHBTgSq0yJbbaTt0A94PzcD5oBHcnbn8Nf8C9E6VL5oCYdQAAAAASUVORK5CYII=",alt:"likeActive"})]})})},xP={inputsBlocks:"Person_inputsBlocks__M2PYA",block:"Person_block__st9cY",buttons:"Person_buttons__-wlD7",submit:"Person_submit__rQDQ2"};function IP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var EP=["name"],SP=["_f"],AP=["_f"],TP=function(e){return"checkbox"===e.type},CP=function(e){return e instanceof Date},NP=function(e){return null==e},PP=function(e){return"object"===typeof e},OP=function(e){return!NP(e)&&!Array.isArray(e)&&PP(e)&&!CP(e)},DP=function(e){return OP(e)&&e.target?TP(e.target)?e.target.checked:e.target.value:e},RP=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},LP=function(e){return Array.isArray(e)?e.filter(Boolean):[]},jP=function(e){return void 0===e},FP=function(e,t,n){if(!t||!OP(e))return n;var r=LP(t.split(/[,[\].]+?/)).reduce((function(e,t){return NP(e)?e:e[t]}),e);return jP(r)||r===e?jP(e[t])?n:e[t]:r},MP="blur",UP="focusout",VP="onBlur",BP="onChange",zP="onSubmit",qP="onTouched",WP="all",GP="max",KP="min",HP="maxLength",QP="minLength",YP="pattern",XP="required",JP="validate",$P=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==WP&&(t[i]=!r||WP),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),ZP=function(e){return OP(e)&&!Object.keys(e).length},eO=function(e,t,n){e.name;var r=IP(e,EP);return ZP(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||WP)}))},tO=function(e){return Array.isArray(e)?e:[e]};function nO(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){return function(e){e&&e.unsubscribe()}(t)}}),[e.disabled])}var rO=function(e){return"string"===typeof e},iO=function(e,t,n,r){var i=Array.isArray(e);return rO(e)?(r&&t.watch.add(e),FP(n,e)):i?e.map((function(e){return r&&t.watch.add(e),FP(n,e)})):(r&&(t.watchAll=!0),n)},aO=function(e){return"function"===typeof e},oO=function(e){for(var t in e)if(aO(e[t]))return!0;return!1};var uO=function(e,t,n,r,i){return t?Pe(Pe({},n[e]),{},{types:Pe(Pe({},n[e]&&n[e].types?n[e].types:{}),{},Ce({},r,i||!0))}):{}},sO=function(e){return/^\w*$/.test(e)},cO=function(e){return LP(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function lO(e,t,n){for(var r=-1,i=sO(t)?[t]:cO(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=OP(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var fO=function e(t,n,r){var i,a=ui(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=FP(t,o);if(u){var s=u._f,c=IP(u,SP);if(s&&n(s.name)){if(s.ref.focus&&jP(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else OP(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},hO=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||hi(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},dO=function(e,t,n){var r=LP(FP(e,n));return lO(r,"root",t[n]),lO(e,n,r),e},pO=function(e){return"boolean"===typeof e},vO=function(e){return"file"===e.type},mO=function(e){return rO(e)||t.isValidElement(e)},yO=function(e){return"radio"===e.type},gO=function(e){return e instanceof RegExp},kO={value:!1,isValid:!1},bO={value:!0,isValid:!0},wO=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jP(e[0].attributes.value)?jP(e[0].value)||""===e[0].value?bO:{value:e[0].value,isValid:!0}:bO:kO}return kO},_O={isValid:!1,value:null},xO=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),_O):_O};function IO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(mO(e)||Array.isArray(e)&&e.every(mO)||pO(e)&&!e)return{type:n,message:mO(e)?e:"",ref:t}}var EO=function(e){return OP(e)&&!gO(e)?e:{value:e,message:""}},SO=function(){var e=A(E().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,_,x,I,S,A,T,C,N,P,O,D,R,L,j,F,M,U,V,B,z,q,W,G,K,H,Q,Y,X;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,g&&!k){e.next=3;break}return e.abrupt("return",{});case 3:if(b=s?s[0]:u,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(pO(e)?"":e||" "),b.reportValidity())},_={},x=yO(u),I=TP(u),S=x||I,A=(y||vO(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,T=uO.bind(null,m,r,_),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:HP,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:QP,a=e?t:n;_[m]=Pe({type:e?r:i,message:a,ref:u},T(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!S&&(A||NP(n))||pO(n)&&!n||I&&!wO(s).isValid||x&&!xO(s).isValid))){e.next=19;break}if(N=mO(c)?{value:!!c,message:c}:EO(c),P=N.value,O=N.message,!P){e.next=19;break}if(_[m]=Pe({type:XP,message:O,ref:b},T(XP,O)),r){e.next=19;break}return w(O),e.abrupt("return",_);case 19:if(A||NP(h)&&NP(d)){e.next=28;break}if(L=EO(d),j=EO(h),NP(n)||isNaN(n)?(M=u.valueAsDate||new Date(n),rO(L.value)&&(D=M>new Date(L.value)),rO(j.value)&&(R=M<new Date(j.value))):(F=u.valueAsNumber||(n?+n:n),NP(L.value)||(D=F>L.value),NP(j.value)||(R=F<j.value)),!D&&!R){e.next=28;break}if(C(!!D,L.message,j.message,GP,KP),r){e.next=28;break}return w(_[m].message),e.abrupt("return",_);case 28:if(!l&&!f||A||!(rO(n)||a&&Array.isArray(n))){e.next=38;break}if(U=EO(l),V=EO(f),B=!NP(U.value)&&n.length>U.value,z=!NP(V.value)&&n.length<V.value,!B&&!z){e.next=38;break}if(C(B,U.message,V.message),r){e.next=38;break}return w(_[m].message),e.abrupt("return",_);case 38:if(!p||A||!rO(n)){e.next=45;break}if(q=EO(p),W=q.value,G=q.message,!gO(W)||n.match(W)){e.next=45;break}if(_[m]=Pe({type:YP,message:G,ref:u},T(YP,G)),r){e.next=45;break}return w(G),e.abrupt("return",_);case 45:if(!v){e.next=79;break}if(!aO(v)){e.next=58;break}return e.next=49,v(n);case 49:if(K=e.sent,!(H=IO(K,b))){e.next=56;break}if(_[m]=Pe(Pe({},H),T(JP,H.message)),r){e.next=56;break}return w(H.message),e.abrupt("return",_);case 56:e.next=79;break;case 58:if(!OP(v)){e.next=79;break}Q={},e.t0=E().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(Y=e.t1.value,ZP(Q)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=IO,e.next=68,v[Y](n);case 68:e.t3=e.sent,e.t4=b,e.t5=Y,(X=(0,e.t2)(e.t3,e.t4,e.t5))&&(Q=Pe(Pe({},X),T(Y,X.message)),w(X.message),r&&(_[m]=Q)),e.next=61;break;case 75:if(ZP(Q)){e.next=79;break}if(_[m]=Pe({ref:b},Q),r){e.next=79;break}return e.abrupt("return",_);case 79:return w(!0),e.abrupt("return",_);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var AO="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function TO(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(AO&&(e instanceof Blob||e instanceof FileList)||!n&&!OP(e))return e;for(var r in t=n?[]:{},e){if(aO(e[r])){t=e;break}t[r]=TO(e[r])}}return t}var CO=function(e){return{isOnSubmit:!e||e===zP,isOnBlur:e===VP,isOnChange:e===BP,isOnAll:e===WP,isOnTouch:e===qP}};function NO(e){for(var t in e)if(!jP(e[t]))return!1;return!0}function PO(e,t){var n,r=sO(t)?[t]:cO(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=jP(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(OP(s)&&ZP(s)||Array.isArray(s)&&NO(s))&&(n?delete n[f]:delete e[f]),n=s}}return e}function OO(){var e=[];return{get observers(){return e},next:function(t){var n,r=ui(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var DO=function(e){return NP(e)||!PP(e)};function RO(e,t){if(DO(e)||DO(t))return e===t;if(CP(e)&&CP(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(CP(u)&&CP(s)||OP(u)&&OP(s)||Array.isArray(u)&&Array.isArray(s)?!RO(u,s):u!==s)return!1}}return!0}var LO=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},jO=function(e){return"select-multiple"===e.type},FO=function(e){return yO(e)||TP(e)},MO=function(e){return LO(e)&&e.isConnected};function UO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(OP(e)||n)for(var r in e)Array.isArray(e[r])||OP(e[r])&&!oO(e[r])?(t[r]=Array.isArray(e[r])?[]:{},UO(e[r],t[r])):NP(e[r])||(t[r]=!0);return t}function VO(e,t,n){var r=Array.isArray(e);if(OP(e)||r)for(var i in e)Array.isArray(e[i])||OP(e[i])&&!oO(e[i])?jP(t)||DO(n[i])?n[i]=Array.isArray(e[i])?UO(e[i],[]):Pe({},UO(e[i])):VO(e[i],NP(t)?{}:t[i],n[i]):n[i]=!RO(e[i],t[i]);return n}var BO=function(e,t){return VO(e,t,UO(t))},zO=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return jP(e)?e:n?""===e?NaN:e?+e:e:r&&rO(e)?new Date(e):i?i(e):e};function qO(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return vO(t)?t.files:yO(t)?xO(e.refs).value:jO(t)?hi(t.selectedOptions).map((function(e){return e.value})):TP(t)?wO(e.refs).value:zO(jP(t.value)?e.ref.value:t.value,e)}var WO=function(e,t,n,r){var i,a={},o=ui(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=FP(t,u);s&&lO(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:hi(e),fields:a,shouldUseNativeValidation:r}},GO=function(e){return jP(e)?void 0:gO(e)?e.source:OP(e)?gO(e.value)?e.value.source:e.value:e},KO=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function HO(e,t,n){var r=FP(e,n);if(r||sO(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=FP(t,a),u=FP(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var QO=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},YO=function(e,t){return!LP(FP(e,t)).length&&PO(e,t)},XO={mode:zP,reValidateMode:BP,shouldFocusError:!0};function JO(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Pe(Pe({},XO),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=TO(n.defaultValues)||{},o=n.shouldUnregister?{}:TO(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:OO(),array:OO(),state:OO()},d=CO(n.mode),p=CO(n.reValidateMode),v=n.criteriaMode===WP,m=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},y=function(){var e=A(E().mark((function e(t){var a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=ZP,e.next=6,x();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,S(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(FP(i,e))){var d=n(FP(i,e),s.argA,s.argB);c&&lO(i,e,d)}if(f.errors&&l&&Array.isArray(FP(r.errors,e))){var p=n(FP(r.errors,e),s.argA,s.argB);c&&lO(r.errors,e,p),YO(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(FP(r.touchedFields,e))){var v=n(FP(r.touchedFields,e),s.argA,s.argB);c&&lO(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=BO(a,o)),h.state.next({isDirty:C(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else lO(o,e,t)},k=function(e,t){lO(r.errors,e,t),h.state.next({errors:r.errors})},b=function(e,t,n,r){var s=FP(i,e);if(s){var c=FP(o,e,jP(n)?FP(a,e):n);jP(c)||r&&r.defaultChecked||t?lO(o,e,t?c:qO(s._f)):O(e,c),u.mount&&y()}},w=function(e,t,n,i,o){var u=!1,s={name:e},c=FP(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=C(),u=l!==s.isDirty}if(f.dirtyFields&&(!n||i)){var d=FP(r.dirtyFields,e);RO(FP(a,e),t)?PO(r.dirtyFields,e):lO(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||d!==FP(r.dirtyFields,e)}return n&&!c&&(lO(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||f.touchedFields&&c!==n),u&&o&&h.state.next(s),u?s:{}},_=function(){var n=A(E().mark((function n(i,a,o,u){var s,d,p;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=FP(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=m((function(){return k(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?lO(r.errors,i,o):PO(r.errors,i)),(o?RO(s,o):!s)&&ZP(u)&&!d||(p=Pe(Pe(Pe({},u),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=Pe(Pe({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),x=function(){var e=A(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Pe({},o),n.context,WO(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=A(E().mark((function e(t){var n,i,a,o,u,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(n=e.sent,i=n.errors,t){a=ui(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=FP(i,u))?lO(r.errors,u,s):PO(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=A(E().mark((function e(t,i){var a,u,c,l,f,h,d,p=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=E().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(c=t[u])){e.next=21;break}if(l=c._f,f=IP(c,AP),!l){e.next=17;break}return h=s.array.has(l.name),e.next=11,SO(c,FP(o,l.name),v,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(FP(d,l.name)?h?dO(r.errors,d,l.name):lO(r.errors,l.name,d[l.name]):PO(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,S(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e,t=ui(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=FP(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!MO(e)})):!MO(r._f.ref))&&z(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},C=function(e,t){return e&&t&&lO(o,e,t),!RO(F(),a)},N=function(e,t,n){var r=Pe({},u.mount?o:jP(t)?a:rO(e)?Ce({},e,t):t);return iO(e,s,r,n)},P=function(e){return LP(FP(u.mount?o:a,e,t.shouldUnregister?FP(a,e,[]):[]))},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=FP(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&lO(o,e,zO(t,u)),a=AO&&LO(u.ref)&&NP(t)?"":t,jO(u.ref)?hi(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?TP(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):vO(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&w(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},D=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=FP(i,u);!s.array.has(t)&&DO(o)&&(!c||c._f)||CP(o)?O(u,o,r):e(u,o,r)}},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=FP(i,e),c=s.array.has(e),l=TO(t);lO(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=BO(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:C(e,l)}))):!u||u._f||NP(l)?O(e,l,n):D(e,l,n),hO(e,s)&&h.state.next({}),h.watch.next({name:e})},L=function(){var t=A(E().mark((function t(a){var u,c,f,m,g,k,b,I,S,A,T,C,N,P,O;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,!(f=FP(i,c))){t.next=39;break}if(k=u.type?qO(f._f):DP(a),b=a.type===MP||a.type===UP,I=!KO(f._f)&&!n.resolver&&!FP(r.errors,c)&&!f._f.deps||QO(b,FP(r.touchedFields,c),r.isSubmitted,p,d),S=hO(c,s,b),lO(o,c,k),b?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),A=w(c,k,b,!1),T=!ZP(A)||S,!b&&h.watch.next({name:c,type:a.type}),!I){t.next=15;break}return t.abrupt("return",T&&h.state.next(Pe({name:c},S?{}:A)));case 15:if(!b&&S&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,x([c]);case 21:C=t.sent,N=C.errors,P=HO(r.errors,i,c),O=HO(N,i,P.name||c),m=O.error,c=O.name,g=ZP(N),t.next=37;break;case 30:return t.next=32,SO(f,FP(o,c),v,n.shouldUseNativeValidation);case 32:return t.t0=c,m=t.sent[t.t0],t.next=36,y(!0);case 36:g=t.sent;case 37:f._f.deps&&j(f._f.deps),_(c,g,m,A);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var e=A(E().mark((function e(t){var a,o,u,c,l,d=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=tO(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,I(jP(t)?t:c);case 6:l=e.sent,o=ZP(l),u=t?!c.some((function(e){return FP(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=A(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FP(i,t),e.next=3,S(n&&n._f?Ce({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,S(i);case 20:u=o=e.sent;case 21:return h.state.next(Pe(Pe(Pe({},!rO(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&fO(i,(function(e){return FP(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Pe(Pe({},a),u.mount?o:{});return jP(e)?t:rO(e)?FP(t,e):e.map((function(e){return FP(t,e)}))},M=function(e,t){return{invalid:!!FP((t||r).errors,e),isDirty:!!FP((t||r).dirtyFields,e),isTouched:!!FP((t||r).touchedFields,e),error:FP((t||r).errors,e)}},U=function(e){e?tO(e).forEach((function(e){return PO(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},V=function(e,t,n){var a=(FP(i,e,{_f:{}})._f||{}).ref;lO(r.errors,e,Pe(Pe({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},B=function(e,t){return aO(e)?h.watch.subscribe({next:function(n){return e(N(void 0,t),n)}}):N(e,t,!0)},z=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ui(e?tO(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),FP(i,l)&&(u.keepValue||(PO(i,l),PO(o,l)),!u.keepError&&PO(r.errors,l),!u.keepDirty&&PO(r.dirtyFields,l),!u.keepTouched&&PO(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&PO(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(Pe(Pe({},r),u.keepDirty?{isDirty:C()}:{})),!u.keepIsValid&&y()},q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=FP(i,t),l=pO(r.disabled);return lO(i,t,Pe(Pe({},c||{}),{},{_f:Pe(Pe({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),s.mount.add(t),c?l&&lO(o,t,r.disabled?void 0:FP(o,t,qO(c._f))):b(t,!0,r.value),Pe(Pe(Pe({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:GO(r.min),max:GO(r.max),minLength:GO(r.minLength),maxLength:GO(r.maxLength),pattern:GO(r.pattern)}:{}),{},{name:t,onChange:L,onBlur:L,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=FP(i,t);var l=jP(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=FO(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;lO(i,t,{_f:Pe(Pe({},c._f),f?{refs:[].concat(hi(h.filter(MO)),[l],hi(Array.isArray(FP(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(c=FP(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!RP(s.array,t)||!u.action)&&s.unMount.add(t)}))})},W=function(e,t){return function(){var a=A(E().mark((function a(u){var c,l,f,d,p;return E().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=TO(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,x();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,S(i);case 17:if(!ZP(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(Pe({},r.errors),u);case 26:n.shouldFocusError&&fO(i,(function(e){return FP(r.errors,e)}),s.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ZP(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};FP(i,e)&&(jP(t.defaultValue)?R(e,FP(a,e)):(R(e,t.defaultValue),lO(a,e,t.defaultValue)),t.keepTouched||PO(r.touchedFields,e),t.keepDirty||(PO(r.dirtyFields,e),r.isDirty=t.defaultValue?C(e,FP(a,e)):C()),t.keepError||(PO(r.errors,e),f.isValid&&y()),h.state.next(Pe({},r)))},K=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=TO(c),d=e&&!ZP(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=ui(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;FP(r.dirtyFields,m)?lO(d,m,FP(o,m)):R(m,FP(d,m))}}catch(_){v.e(_)}finally{v.f()}}else{if(AO&&jP(e)){var y,g=ui(s.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=FP(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if(LO(w)){w.closest("form").reset();break}}catch(x){}}}}catch(_){g.e(_)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?TO(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||RO(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?BO(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=FP(i,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:q,unregister:z,getFieldState:M,_executeSchema:x,_getWatch:N,_getDirty:C,_updateValid:y,_removeUnmounted:T,_updateFieldArray:g,_getFieldArray:P,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Pe(Pe({},n),e)}},trigger:j,register:q,handleSubmit:W,watch:B,setValue:R,getValues:F,reset:K,resetField:G,clearErrors:U,unregister:z,setError:V,setFocus:H,getFieldState:M}}function $O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=h(r,2),a=i[0],o=i[1];n.current?n.current.control._options=e:n.current=Pe(Pe({},JO(e)),{},{formState:a});var u=n.current.control,s=t.useCallback((function(e){eO(e,u._proxyFormState,!0)&&(u._formState=Pe(Pe({},u._formState),e),o(Pe({},u._formState)))}),[u]);return nO({subject:u._subjects.state,callback:s}),t.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),n.current.formState=$P(a,u._proxyFormState),n.current}var ZO=function(){var e=A(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,new Promise((function(e){return EN.firestore().collection("users").onSnapshot(function(){var r=A(E().mark((function r(i){var a,o;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=i.docs.map((function(e){return Pe({id:e.id},e.data())})),o=a.filter((function(e){return e.id===t.uid})),n(Yn(o[0])),e(o);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})).then((function(e){return(0,er.isEmpty)(e)?0:1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),eD=function(){var e=$O(),n=e.register,r=e.handleSubmit,i=$n(),a=qt(Hn).userInfo,u=kh(),s=h(Sh(u),3),c=s[0],l=(s[1],s[2],Pr());t.useEffect((function(){!c&&l("/authorization"),c&&(0,er.isEmpty)(a)&&ZO(c,i),c||(i(Wn()),i(pn()))}),[c]);var f=function(){!function(e){zi(e).signOut()}(u),i(Xn())};return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:r((function(e){c&&(SN.collection("users").doc(c.uid).update({uid:c.uid,email:e.email?e.email:a.email,first_name:e.first_name?e.first_name:a.first_name,last_name:e.last_name?e.last_name:a.last_name,middle_name:e.middle_name?e.middle_name:a.middle_name,birthday:e.birthday?e.birthday:a.birthday,numberPhone:e.numberPhone?e.numberPhone:a.numberPhone}),ZO(c,i))})),className:xP.inputsBlock,children:[(0,o.jsxs)("div",{className:xP.block,children:[(0,o.jsx)("label",{children:"Email"}),(0,o.jsx)("input",Pe({type:"email",defaultValue:null===a||void 0===a?void 0:a.email,placeholder:"Email"},n("email")))]}),(0,o.jsxs)("div",{className:xP.block,children:[(0,o.jsx)("label",{children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,o.jsx)("input",Pe({type:"number",defaultValue:null===a||void 0===a?void 0:a.numberPhone,placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"},n("numberPhone")))]}),(0,o.jsxs)("div",{className:xP.block,children:[(0,o.jsx)("label",{children:"\u0418\u043c\u044f"}),(0,o.jsx)("input",Pe({type:"text",defaultValue:null===a||void 0===a?void 0:a.first_name,placeholder:"\u0418\u043c\u044f"},n("first_name")))]}),(0,o.jsxs)("div",{className:xP.block,children:[(0,o.jsx)("label",{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),(0,o.jsx)("input",Pe({type:"text",defaultValue:null===a||void 0===a?void 0:a.middle_name,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},n("middle_name")))]}),(0,o.jsxs)("div",{className:xP.block,children:[(0,o.jsx)("label",{children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,o.jsx)("input",Pe({type:"text",defaultValue:null===a||void 0===a?void 0:a.last_name,placeholder:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"},n("last_name")))]}),(0,o.jsxs)("div",{className:xP.block,children:[(0,o.jsx)("label",{children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,o.jsx)("input",Pe({type:"date",defaultValue:null===a||void 0===a?void 0:a.birthday,placeholder:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},n("birthday")))]}),(0,o.jsxs)("div",{className:xP.buttons,children:[(0,o.jsx)("button",{className:xP.submit,onClick:function(){f()},children:"\u0412\u044b\u0439\u0442\u0438"}),(0,o.jsx)("p",{children:(0,o.jsx)("input",{className:xP.submit,type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})})},tD="profile_container__jtNuu",nD="profile_namePage__jPhnG",rD="profile_navigation__EI-dL",iD="profile_spanNavig__ipU9x",aD="profile_spanNavigActive__CB6lt",oD=function(){var e=$n(),n=qt(yn).page,r=kh(),i=Pr(),a=h(Sh(r),3),u=a[0],s=(a[1],a[2],function(t){n!==t&&e(kn(t))});return t.useEffect((function(){if(!u)return i("/authorization")}),[]),(0,o.jsxs)("div",{className:tD,children:[(0,o.jsx)("h2",{className:nD,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"}),(0,o.jsxs)("div",{className:rD,children:[(0,o.jsx)("button",{className:"person"===n?aD:iD,onClick:function(){return s("person")},children:"\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),(0,o.jsx)("button",{className:"historyOrder"===n?aD:iD,onClick:function(){return s("historyOrder")},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),(0,o.jsx)("button",{className:"like"===n?aD:iD,onClick:function(){return s("like")},children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),(0,o.jsx)("div",{children:"like"===n?(0,o.jsx)(_P,{}):"person"===n?(0,o.jsx)(eD,{}):"no"})]})},uD="catalog_catalog__ZyOYY",sD="catalog_filterAsk__uPz+V",cD="catalog_filters__CBrE9",lD="catalog_typeCatalog__fZ1Fu",fD="catalog_SelectFilter__Ojsxy",hD="catalog_itemsFiltersSet__eWuMa",dD="catalog_FiltersComponent__Lww61",pD="catalog_FilterComponentPopup__Sfsqu",vD="catalog_FilterComponentPopup__block__pAWgR",mD="catalog_closeModal__tTnIe",yD="filters_Wrapper__PSM0T",gD="filters_firstThemeCatalog__BwbFo",kD="filters_filtersParams__2dKRg",bD="filters_secondBlockParam__ExoIl",wD="filters_firstBlockParam__78iYd",_D="filters_BlockTypes__rXoS0",xD=t.memo((function(){var e=$n(),n=qt(Cn).sale,r=h(t.useState(n),2),i=r[0],a=r[1],u=t.useId(),s=function(t){e(Et(t)),FN.map((function(n){n.type===t&&e((function(){return c(n.class,n.classForPerson)}))})),e(In())},c=function(t,n){e(At({class:t,classForPerson:n})),e(In())};t.useEffect((function(){e(Nn(i))}),[i]),t.useEffect((function(){a(n)}),[n]);var l=function(e){return FN.map((function(t,n){return t.type===e&&(0,o.jsx)("li",{onClick:function(){return c(t.class,t.classForPerson)},children:t.classForPerson},n+e+t.class)}))};return(0,o.jsxs)("div",{className:yD,children:[(0,o.jsxs)("div",{className:kD,children:[(0,o.jsx)("h3",{className:wD,children:"\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"checkbox",id:u+"1",checked:i,onChange:function(){}}),(0,o.jsx)("label",{htmlFor:u+"1",onClick:function(){return a(!i)},children:"\u0421\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"checkbox",id:u+"2"}),(0,o.jsx)("label",{htmlFor:u+"2",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"checkbox",id:u+"3"}),(0,o.jsx)("label",{htmlFor:u+"3",children:'\u041f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f \u043e\u0442 "\u0418\u043b\u044c\u0438\u043d\u0441\u043a\u043e\u0433\u043e"'})]})]}),(0,o.jsx)("h3",{className:bD,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),(0,o.jsxs)("div",{className:kD,children:[(0,o.jsxs)("div",{className:_D,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:gD,onClick:function(){return s("\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f")},children:"\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f"}),(0,o.jsx)("ol",{children:l("\u041a\u0443\u043b\u0438\u043d\u0430\u0440\u0438\u044f")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{onClick:function(){return s("\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442")},children:"\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442"}),(0,o.jsx)("ol",{children:l("\u0421\u0443\u043f\u0435\u0440\u043c\u0430\u0440\u043a\u0435\u0442")})]})]}),(0,o.jsxs)("div",{className:_D,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{onClick:function(){return s("\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430")},children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430"}),(0,o.jsx)("ol",{children:l("\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{onClick:function(){return s("\u0414\u0440\u0443\u0433\u043e\u0435")},children:"\u0414\u0440\u0443\u0433\u043e\u0435"}),(0,o.jsx)("ol",{children:l("\u0414\u0440\u0443\u0433\u043e\u0435")})]})]})]})]})})),ID=xD,ED="setFilters_container__3MSgm",SD="setFilters_block__PfsHE",AD="setFilters_blockType__9BzVM",TD="setFilters_textHelp__RammG",CD=t.memo((function(){var e=$n(),n=qt(bt),r=n.type,i=n.filtersView,a=h(t.useState(!1),2),u=a[0],s=a[1];return t.useEffect((function(){r||0!==i.length?s(!0):s(!1)}),[r,i]),(0,o.jsxs)("div",{className:ED,children:[r&&(0,o.jsxs)("button",{className:AD,onClick:function(){e(St())},children:[r," \u2716"]}),i&&i.map((function(t,n){return(0,o.jsxs)("button",{className:SD,onClick:function(){return e(Tt(t))},children:[t.classForPerson," \u2716"]},"view"+n)})),u?(0,o.jsx)("button",{className:SD,onClick:function(){return e(Nt()),void e(Nn(!1))},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"}):(0,o.jsx)("div",{className:TD,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"})]})})),ND="popupSort_mainPopup__cKnok",PD="popupSort_setFilter__8W73y",OD="popupSort_sortingParam__obbGt",DD="popupSort_arrow__oRMNZ",RD="popupSort_ascDesc__ZM2mm",LD="popupSort_ascDescRotate__Xwcjq",jD="popupSort_popup__ylQ7c",FD="popupSort_setFilterPopup__aI5+5",MD=[{name:"\u041f\u043e \u0446\u0435\u043d\u0435",originalName:"price"},{name:"\u041f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",originalName:"name"},{name:"\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443",originalName:"count"}],UD=t.memo((function(){var e=t.useRef(null),n=h(t.useState(RD),2),r=n[0],i=n[1],a=h(t.useState(!1),2),u=a[0],s=a[1],c=h(t.useState("\u041f\u043e \u0446\u0435\u043d\u0435"),2),l=c[0],f=c[1],d=$n();t.useEffect((function(){var t=function(t){var n=t;e.current&&!n.path.includes(e.current)&&s(!1)};return document.body.addEventListener("click",t),function(){return document.body.removeEventListener("click",t)}}),[]),t.useEffect((function(){MD.map((function(e){e.name===l&&d(xt(e.originalName))}))}),[l]);return(0,o.jsxs)("div",{className:ND,ref:e,children:[(0,o.jsxs)("div",{className:PD,children:[(0,o.jsxs)("button",{className:OD,onClick:function(){return s(!u)},children:[l,"\xa0"]}),(0,o.jsx)("button",{className:DD,onClick:function(){return i(r===RD?LD:RD),void d(It())},children:(0,o.jsx)("div",{className:r,children:">"})})]}),u&&(0,o.jsx)("div",{className:jD,children:MD.map((function(e,t){return(0,o.jsx)("div",{className:FD,onClick:function(){return t=e.name,f(t),void s(!1);var t},children:(0,o.jsx)("b",{children:e.name})},"sorting"+t)}))})]})})),VD=UD,BD="showItems_root__IW4eA",zD="showItems_wrapperItems__Duf6w",qD="showItems_warn__5ejmJ",WD="showItems_buttonItemNavigate__8L9w-",GD=t.memo((function(e){var t=e.catalogPageCounter,n=$n(),r=qt(an),i=r.itemsDop,a=r.loading,u=qt(Cn).sale,s=i.map((function(e){return 0!==e.sale&&(0,o.jsx)(tP,{id:e.id,price:e.price,title:e.title,count:e.count,weight:e.weight,imageUrl:e.imageUrl,classProduct:e.class,nameProd:e.name,saleProd:e.sale},e.id+"list")})).filter((function(e){return!1!==e})),c=s.slice(t,t+6),l=i.slice(t,t+6).map((function(e){return(0,o.jsx)(tP,{id:e.id,price:e.price,title:e.title,count:e.count,weight:e.weight,imageUrl:e.imageUrl,classProduct:e.class,nameProd:e.name,saleProd:e.sale},e.id+"list")}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:BD,children:(0,o.jsx)("div",{className:zD,children:a===Zt.LOADING?hi(new Array(1)).map((function(e,t){return(0,o.jsx)(pP,{},t)})):a===Zt.ERROR?(0,o.jsx)("div",{className:qD,children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}):0===i.length?(0,o.jsx)("div",{className:qD,children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"}):u?c:l})}),(0,o.jsxs)("div",{className:WD,children:[(0,o.jsx)("button",{onClick:function(){t>0&&n(xn())},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,o.jsx)("button",{onClick:function(){(u?s:i).length>t+6&&n(_n())},children:"\u0414\u0430\u043b\u0435\u0435"})]})]})})),KD=GD,HD=function(){var e=$n(),n=qt(an).items,r=qt(bt),i=r.search,a=r.filterBy,u=r.ascDesc,s=r.filtersView,c=r.type,l=qt(Cn).sale,f=qt(yn).catalogPageCounter,d=(qt(Mn),h(t.useState(!1),2)),p=d[0],v=d[1],m=(qt(cn),kh()),y=h(Sh(m),3),g=(y[0],y[1],y[2],t.useRef(null)),k=t.useRef(null);return t.useEffect((function(){window.scrollTo(0,0);var e=function(e){var t=e;!g.current||t.path.includes(g.current)||t.path.includes(k.current)||v(!1)};return document.body.addEventListener("click",e),function(){return document.body.removeEventListener("click",e)}}),[]),t.useEffect((function(){e(nn({search:i,filterBy:a,ascDesc:u,type:c,sale:l}))}),[i,a,u,c]),t.useEffect((function(){!function(){var t=n;0!==s.length&&(t=[],n.forEach((function(e){s.forEach((function(n){n.class===e.class&&t.push(e)}))}))),e(on(t))}()}),[s,n]),(0,o.jsxs)("div",{className:uD,children:[(0,o.jsxs)("div",{className:sD,children:[(0,o.jsxs)("div",{className:lD,children:[" ",c||"\u0422\u043e\u0432\u0430\u0440\u044b"]}),(0,o.jsxs)("div",{className:pD,children:[(0,o.jsx)("button",{ref:k,onClick:function(){return v(!p)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),p&&(0,o.jsxs)("div",{ref:g,children:[(0,o.jsx)("div",{className:vD,children:(0,o.jsx)(ID,{})}),(0,o.jsx)("button",{className:mD,onClick:function(){return v(!p)},children:"X"})]})]}),(0,o.jsx)(VD,{})]}),(0,o.jsxs)("div",{className:cD,children:[(0,o.jsx)("div",{className:dD,children:(0,o.jsx)(ID,{})}),(0,o.jsxs)("div",{className:hD,children:[(0,o.jsx)("div",{className:fD,children:(0,o.jsx)(CD,{})}),(0,o.jsx)(KD,{catalogPageCounter:f})]})]})]})},QD="CartItem_block__D2DY2",YD="CartItem_imgItem__IOxhH",XD="CartItem_NameCount__ZkV2U",JD="CartItem_NameCount__Name__98vsa",$D="CartItem_NameCount__Count__9vQrK",ZD="CartItem_saleBlockImg__ZtMPg",eR="CartItem_saleBlockImg__percent__R78xM",tR="CartItem_salePrice__xkj05",nR="CartItem_price__VHLNx",rR="CartItem_priceNonSale__+bav9",iR="CartItem_ItemCartCount__cGz4r",aR="CartItem_chooseCount__bqvP1",oR="CartItem_priceTotal__OdgUG",uR="CartItem_count630__sNiJ1",sR="CartItem_countButtonBuy__vXRKv",cR="CartItem_infoBuyItem__j0DXp",lR="CartItem_countFull__teqsd",fR="CartItem_countBuy__JDb3a",hR="CartItem_saleOrigPrice__5hBFM";var dR=n.p+"static/media/trash.30b4b4269ee96ff8fd5ff2ce26e21ea5.svg",pR=function(){var e=qt(Mn),t=$n();return(0,o.jsx)(o.Fragment,{children:e&&e.map((function(e,n){return(0,o.jsxs)("div",{className:QD,children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:YD,children:[e.saleProd?(0,o.jsx)("div",{className:ZD,children:(0,o.jsx)("div",{className:eR,children:"%"})}):"",(0,o.jsx)("img",{src:e.imageUrl,alt:n+"img"})]}),(0,o.jsx)("div",{className:uR,children:(0,o.jsxs)("span",{className:$D,children:["\u0412\xa0\u043d\u0430\u043b\u0438\u0447\u0438\u0438\xa0",e.count,"\xa0\u0448\u0442."]})})]}),(0,o.jsxs)("div",{className:cR,children:[(0,o.jsxs)("div",{className:XD,children:[(0,o.jsxs)("div",{className:JD,children:[e.nameProd,", ",e.title,", ",e.weight,"\xa0","water"===e.classProduct||"milk"===e.classProduct?"\u041b":"\u0433\u0440."]}),(0,o.jsx)("div",{className:lR,children:(0,o.jsxs)("span",{className:$D,children:["\u0412\xa0\u043d\u0430\u043b\u0438\u0447\u0438\u0438\xa0",e.count,"\xa0\u0448\u0442."]})})]}),(0,o.jsx)("div",{children:e.saleProd?(0,o.jsxs)("div",{className:hR,children:[(0,o.jsxs)("div",{className:tR,children:[Math.ceil(e.price/100*(100-e.saleProd)),"\u0440\u0443\u0431."]}),(0,o.jsxs)("div",{className:nR,children:[e.price,"\u0440\u0443\u0431."]})]}):(0,o.jsxs)("div",{className:rR,children:[e.price," \u0420\u0443\u0431."]})}),(0,o.jsxs)("div",{className:sR,children:[(0,o.jsxs)("div",{className:iR,children:[(0,o.jsx)("button",{onClick:function(){!function(e,n){t(qn(e))}(e.id,e.countCart)},children:1===e.countCart?(0,o.jsx)("img",{src:dR,alt:"deleteCart"}):"-"}),(0,o.jsx)("div",{className:aR,children:e.countCart}),(0,o.jsx)("button",{onClick:function(){return function(e){var n=e.price,r=e.title,i=e.count,a=e.weight,o=e.imageUrl,u=e.classProduct,s=e.id,c=e.nameProd,l=e.saleProd;i>e.countCart&&t(zn({price:n,title:r,count:i,weight:a,imageUrl:o,classProduct:u,id:s,nameProd:c,saleProd:l}))}(e)},children:"+"})]}),(0,o.jsxs)("div",{className:oR,children:[(0,o.jsxs)("div",{children:[0!==e.saleProd?Math.ceil(e.price/100*e.saleProd)*e.countCart:e.price*e.countCart,"\u0440\u0443\u0431."]}),(0,o.jsxs)("div",{className:fR,children:[e.countCart," \u0448\u0442"]})]})]})]})]},n)}))})},vR="cart_wrapper__SeE00",mR="cart_wrapper__cart__yIyGt",yR="cart_namePage__ExcQ8",gR="cart_emptyCart__4fodt",kR="cart_emptyCartText__Dh+Za",bR="cart_toCatalog__Qg8ga",wR="cart_InfoCart__UK9J6",_R="cart_totalInfo__63d6E",xR="cart_clearCart__+LF6P",IR="totalIfoCart_wrapper__fkOr5",ER="totalIfoCart_confirmOrder__pCYY5",SR="totalIfoCart_infoOrder__xcAe-",AR=function(){var e=h(t.useState(0),2),n=e[0],r=e[1],i=h(t.useState(0),2),a=i[0],u=i[1],s=qt(Un),c=qt(Mn),l=c.reduce((function(e,t){return e+t.countCart}),0);return t.useEffect((function(){!function(){var e=c.reduce((function(e,t){return"water"===t.classProduct||"milk"===t.classProduct?e+t.weight*t.countCart:e+0}),0),t=c.reduce((function(e,t){return"water"!==t.classProduct&&"milk"!==t.classProduct?e+t.weight*t.countCart:e+0}),0);u(e),r(t)}()}),[c]),(0,o.jsxs)("div",{className:IR,children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:SR,children:[(0,o.jsxs)("p",{children:["\u0422\u043e\u0432\u0430\u0440\u044b (",l,")"]}),(0,o.jsxs)("p",{children:[a,"\xa0\u041b. , ",(n/1e3).toFixed(2),"\xa0\u043a\u0433."]})]}),(0,o.jsxs)("div",{className:SR,children:[(0,o.jsx)("p",{}),(0,o.jsx)("p",{})]}),(0,o.jsxs)("div",{className:SR,children:[(0,o.jsx)("p",{children:"\u041a \u043e\u043f\u043b\u0430\u0442\u0435"}),(0,o.jsxs)("p",{children:[s," \u0420\u0443\u0431."]})]})]}),(0,o.jsx)("button",{className:ER,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})},TR=function(){var e=qt(Mn),n=$n(),r=qt(Rn).saleItems,i=kh(),a=h(Sh(i),3),u=a[0],s=(a[1],a[2],Pr());return t.useEffect((function(){if(!u)return n(Sn("/catalog")),s("/authorization")}),[u]),t.useEffect((function(){0===r.length&&n(On())}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:vR,children:[(0,o.jsxs)("div",{className:yR,children:[(0,o.jsx)("h2",{className:mR,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),0!==e.length&&(0,o.jsx)("button",{className:xR,onClick:function(){return n(Wn())},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),0!==e.length?(0,o.jsxs)("div",{className:wR,children:[(0,o.jsx)("div",{children:(0,o.jsx)(pR,{})}),(0,o.jsx)("div",{className:_R,children:(0,o.jsx)(AR,{})})]}):(0,o.jsxs)("div",{className:gR,children:[(0,o.jsx)("div",{className:kR,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430!"}),(0,o.jsx)(Gr,{className:bR,to:"/catalog",children:"\u0417\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0430\u043c\u0438"})]})]}),(0,o.jsx)(vP,{})]})},CR="notFound_wrapper__H651l",NR="notFound_text__THvnX",PR="notFound_error404__lptpI",OR="notFound_buttons__3N652",DR="notFound_mainPageLink__gRt+n";var RR=n.p+"static/media/donut.529a88e6e65da4510bb1f2f96c8056b9.svg",LR=function(){return(0,o.jsxs)("div",{className:CR,children:[(0,o.jsx)("div",{style:{color:"#BEBEBE",fontWeight:700,fontSize:"72px"},children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),(0,o.jsxs)("div",{className:PR,children:[(0,o.jsx)("span",{children:"4"}),(0,o.jsx)("img",{src:RR,alt:"donut"}),(0,o.jsx)("span",{children:"4"})]}),(0,o.jsx)("div",{className:NR,children:"\u041e\u0439! \u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0435, \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043d\u0430 \u0443\u0441\u0442\u0430\u0440\u0435\u043b\u0430, \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u0438\u043b\u0438 \u0431\u044b\u043b \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435."}),(0,o.jsxs)("div",{className:OR,children:[(0,o.jsx)(Gr,{to:"/",className:DR,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),(0,o.jsx)(Hr,{})]})]})},jR="Form_form__T7XXf",FR="Form_input__3i8wn",MR="Form_formBlock__BlLWw",UR="Form_inputLabel__xhlnS",VR="Form_labelError__8T-30",BR="Form_button__gOxwl",zR=function(e){var t=e.title,n=e.handleClick,r=e.result,i=$O(),a=i.register,u=i.handleSubmit;return(0,o.jsx)("div",{className:jR,children:(0,o.jsxs)("form",{className:jR,onSubmit:u((function(e){return n(e)})),children:[(0,o.jsxs)("div",{className:MR,children:[(0,o.jsx)("label",{className:UR,children:"\u041b\u043e\u0433\u0438\u043d"}),(0,o.jsx)("input",Pe({className:FR,type:"email",placeholder:"Email"},a("email")))]}),(0,o.jsxs)("div",{className:MR,children:[(0,o.jsx)("label",{className:UR,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,o.jsx)("input",Pe({className:FR,type:"password",placeholder:"Password"},a("password"))),(0,o.jsx)("div",{children:"\u0412\u043e\u0439\u0442\u0438"===t?r&&(0,o.jsx)("label",{className:VR,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 \u043b\u043e\u0433\u0438\u043d"}):r&&(0,o.jsx)("label",{className:VR,children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})})]}),(0,o.jsx)("input",{className:BR,type:"submit",value:t})]})})},qR=function(){var e=function(e){var n=(0,t.useState)(),r=n[0],i=n[1],a=(0,t.useState)(),o=a[0],u=a[1],s=(0,t.useState)(!1),c=s[0],l=s[1],f=[function(t,n){return bh(void 0,void 0,void 0,(function(){var r,a;return wh(this,(function(o){switch(o.label){case 0:l(!0),i(void 0),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,Ic(e,t,n)];case 2:return r=o.sent(),u(r),[3,5];case 3:return a=o.sent(),i(a),[3,5];case 4:return l(!1),[7];case 5:return[2]}}))}))},o,c,r];return(0,t.useMemo)((function(){return f}),f)}(kh()),n=h(e,4),r=n[0],i=(n[1],n[2]),a=n[3];return(0,o.jsx)(zR,{title:"\u0412\u043e\u0439\u0442\u0438",handleClick:function(e){var t=e.email,n=e.password;r(t,n)},result:i?"":a})},WR=function(e){var t=e.uid,n=e.email;SN.collection("users").doc(t).set({uid:t,email:n,first_name:"",last_name:"",middle_name:"",birthday:""})},GR=function(e){var t=e.uid;e.email;SN.collection("itemsUsers").doc(t).set({likeItems:{},uid:t,items:{}})},KR=function(){var e=kh(),n=(qt(Hn).userInfo,function(e,n){var r=(0,t.useState)(),i=r[0],a=r[1],o=(0,t.useState)(),u=o[0],s=o[1],c=(0,t.useState)(!1),l=c[0],f=c[1],h=[function(t,r){return bh(void 0,void 0,void 0,(function(){var i,o;return wh(this,(function(u){switch(u.label){case 0:f(!0),a(void 0),u.label=1;case 1:return u.trys.push([1,5,6,7]),[4,_c(e,t,r)];case 2:return i=u.sent(),n&&n.sendEmailVerification&&i.user?[4,Nc(i.user,n.emailVerificationOptions)]:[3,4];case 3:u.sent(),u.label=4;case 4:return s(i),[3,7];case 5:return o=u.sent(),a(o),[3,7];case 6:return f(!1),[7];case 7:return[2]}}))}))},u,l,i];return(0,t.useMemo)((function(){return h}),h)}(e)),r=h(n,4),i=r[0],a=r[1],u=r[2],s=r[3],c=$n(),l=function(){var e=A(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,i(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.useEffect((function(){if(s&&console.log(s),a){var e=function(){var e=A(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.user,e.next=3,ZO(t,c);case 3:0===(n=e.sent)&&WR(t),0===n&&GR(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[a,u]),(0,o.jsx)(zR,{title:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",handleClick:l,result:u?"":s})},HR="authorization_wrapperAuthPage__GiiDn",QR="authorization_nameAuth__15ADh",YR="authorization_wrapper__dCMLB",XR="authorization_swapRegAuth__XLwO5",JR="loaderSpinner_wrapper__R4FLv",$R="loaderSpinner_lds_spinner__7HQGV",ZR=function(){return(0,o.jsx)("div",{className:JR,children:(0,o.jsxs)("div",{className:$R,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})})},eL=function(){var e=h(t.useState(!1),2),n=e[0],r=e[1],i=kh(),a=h(Sh(i),3),u=a[0],s=a[1],c=(a[2],qt(yn).beforePage),l=Pr();return t.useEffect((function(){u&&l(c||"/profile")}),[u]),(0,o.jsx)("div",{className:HR,children:s?(0,o.jsx)(ZR,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:QR,children:n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u0445\u043e\u0434"}),(0,o.jsx)("div",{className:YR,children:n?(0,o.jsx)(KR,{}):(0,o.jsx)(qR,{})}),(0,o.jsx)("button",{className:XR,onClick:function(){return r(!n)},children:n?"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?":"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"})]})})};var tL=function(){var e=Nr(),n=$n();return t.useEffect((function(){n(En(e.pathname))}),[e]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("header",{className:"header",children:(0,o.jsx)(AN,{})}),(0,o.jsxs)("main",{className:"main",children:[(0,o.jsx)(VN,{}),(0,o.jsxs)(jr,{children:[(0,o.jsx)(Rr,{path:"",element:(0,o.jsx)(kP,{})}),(0,o.jsx)(Rr,{path:"/profile",element:(0,o.jsx)(oD,{})}),(0,o.jsx)(Rr,{path:"/catalog",element:(0,o.jsx)(HD,{})}),(0,o.jsx)(Rr,{path:"/cart",element:(0,o.jsx)(TR,{})}),(0,o.jsx)(Rr,{path:"/authorization",element:(0,o.jsx)(eL,{})}),(0,o.jsx)(Rr,{path:"*",element:(0,o.jsx)(LR,{})})]})]})]}),(0,o.jsx)("footer",{className:"footer",children:(0,o.jsx)(u,{})})]})};r.createRoot(document.getElementById("root")).render((0,o.jsx)(Wr,{children:(0,o.jsx)(Ht,{store:Jn,children:(0,o.jsx)(tL,{})})}))}()}();
//# sourceMappingURL=main.a132cef1.js.map